"use strict";(()=>{var Bu=Object.create;var Vs=Object.defineProperty;var Vu=Object.getOwnPropertyDescriptor;var qu=Object.getOwnPropertyNames;var Uu=Object.getPrototypeOf,Hu=Object.prototype.hasOwnProperty;var vr=(z=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(z,{get:(n,u)=>(typeof require<"u"?require:n)[u]}):z)(function(z){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+z+'" is not supported')});var mr=(z,n)=>()=>(n||z((n={exports:{}}).exports,n),n.exports);var Gu=(z,n,u,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of qu(n))!Hu.call(z,a)&&a!==u&&Vs(z,a,{get:()=>n[a],enumerable:!(o=Vu(n,a))||o.enumerable});return z};var Wu=(z,n,u)=>(u=z!=null?Bu(Uu(z)):{},Gu(n||!z||!z.__esModule?Vs(u,"default",{value:z,enumerable:!0}):u,z));var qs=mr(()=>{});var Us=mr(()=>{});var Gs=mr((Hs,Hi)=>{var zh=function(z,n){z=z||qs();var u=z.window,o=z.document,a=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],i=e.slice,r=Object.create,s=Object.getOwnPropertyDescriptor,h=Object.defineProperty,l=e.forEach||function(v,p){for(var k=0,x=this.length;k<x;k++)v.call(p,this[k],k,this)},f=function(v,p){for(var k in this)this.hasOwnProperty(k)&&v.call(p,this[k],k,this)},c=Object.assign||function(v){for(var p=1,k=arguments.length;p<k;p++){var x=arguments[p];for(var O in x)x.hasOwnProperty(O)&&(v[O]=x[O])}return v},_=function(v,p,k){if(v){var x=s(v,"length");(x&&typeof x.value=="number"?l:f).call(v,p,k=k||v)}return k};function m(v,p,k,x,O){var y={};function C(T,D){D=D||(D=s(p,T))&&(D.get?D:D.value),typeof D=="string"&&D[0]==="#"&&(D=v[D.substring(1)]||D);var N=typeof D=="function",F=D,U=O||N&&!D.base?D&&D.get?T in v:v[T]:null,V;(!O||!U)&&(N&&U&&(D.base=U),N&&x!==!1&&(V=T.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(y[V[3].toLowerCase()+V[4]]=V[2]),(!F||N||!F.get||typeof F.get!="function"||!w.isPlainObject(F))&&(F={value:F,writable:!0}),(s(v,T)||{configurable:!0}).configurable&&(F.configurable=!0,F.enumerable=k??!V),h(v,T,F))}if(p){for(var d in p)p.hasOwnProperty(d)&&!t.test(d)&&C(d);for(var d in y){var S=y[d],P=v["set"+S],M=v["get"+S]||P&&v["is"+S];M&&(x===!0||M.length===0)&&C(d,{get:M,set:P})}}return v}function w(){for(var v=0,p=arguments.length;v<p;v++){var k=arguments[v];k&&c(this,k)}return this}return m(w,{inject:function(v){if(v){var p=v.statics===!0?v:v.statics,k=v.beans,x=v.preserve;p!==v&&m(this.prototype,v,v.enumerable,k,x),m(this,p,null,k,x)}for(var O=1,y=arguments.length;O<y;O++)this.inject(arguments[O]);return this},extend:function(){for(var v=this,p,k,x=0,O,y=arguments.length;x<y&&!(p&&k);x++)O=arguments[x],p=p||O.initialize,k=k||O.prototype;return p=p||function(){v.apply(this,arguments)},k=p.prototype=k||r(this.prototype),h(k,"constructor",{value:p,writable:!0,configurable:!0}),m(p,this),arguments.length&&this.inject.apply(p,arguments),p.base=v,p}}).inject({enumerable:!1,initialize:w,set:w,inject:function(){for(var v=0,p=arguments.length;v<p;v++){var k=arguments[v];k&&m(this,k,k.enumerable,k.beans,k.preserve)}return this},extend:function(){var v=r(this);return v.inject.apply(v,arguments)},each:function(v,p){return _(this,v,p)},clone:function(){return new this.constructor(this)},statics:{set:c,each:_,create:r,define:h,describe:s,clone:function(v){return c(new v.constructor,v)},isPlainObject:function(v){var p=v!=null&&v.constructor;return p&&(p===Object||p===w||p.name==="Object")},pick:function(v,p){return v!==n?v:p},slice:function(v,p,k){return i.call(v,p,k)}}})};typeof Hi<"u"&&(Hi.exports=a),a.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+a.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+(i==="number"?L.instance.number(t):i==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return a.importJSON(t,this)},exportJSON:function(t){return a.exportJSON(this,t)},toJSON:function(){return a.serialize(this)},set:function(t,e){return t&&a.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),i=e.prototype._class;return i&&!a.exports[i]&&(a.exports[i]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e)){var i=t.length;if(i!==e.length)return!1;for(;i--;)if(!a.equals(t[i],e[i]))return!1}else{var r=Object.keys(t),i=r.length;if(i!==Object.keys(e).length)return!1;for(;i--;){var s=r[i];if(!(e.hasOwnProperty(s)&&a.equals(t[s],e[s])))return!1}}return!0}return!1},read:function(t,e,i,r){if(this===a){var s=this.peek(t,e);return t.__index++,s}var h=this.prototype,l=h._readIndex,f=e||l&&t.__index||0,c=t.length,_=t[f];if(r=r||c-f,_ instanceof this||i&&i.readNull&&_==null&&r<=1)return l&&(t.__index=f+1),_&&i&&i.clone?_.clone():_;if(_=a.create(h),l&&(_.__read=!0),_=_.initialize.apply(_,f>0||f+r<c?a.slice(t,f,f+r):t)||_,l){t.__index=f+_.__read;var m=_.__filtered;m&&(t.__filtered=m,_.__filtered=n),_.__read=n}return _},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,r){for(var s=[],h,l=e||0,f=r?l+r:t.length,c=l;c<f;c++)s.push(Array.isArray(h=t[c])?this.read(h,0,i):this.read(t,c,i,1));return s},readNamed:function(t,e,i,r,s){var h=this.getNamed(t,e),l=h!==n;if(l){var f=t.__filtered;if(!f){var c=this.getSource(t);f=t.__filtered=a.create(c),f.__unfiltered=c}f[e]=n}return this.read(l?[h]:t,i,r,s)},readSupported:function(t,e){var i=this.getSource(t),r=this,s=!1;return i&&Object.keys(i).forEach(function(h){if(h in e){var l=r.readNamed(t,h);l!==n&&(e[h]=l),s=!0}}),s},getSource:function(t){var e=t.__source;if(e===n){var i=t.length===1&&t[0];e=t.__source=i&&a.isPlainObject(i)?i:null}return e},getNamed:function(t,e){var i=this.getSource(t);if(i)return e?i[e]:t.__filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,i,r){var s;function h(m){if(!(i&&m in i)&&!(s&&m in s)){var w=e[m];w!==n&&(t[m]=w)}}if(r){for(var l={},f=0,c,_=r.length;f<_;f++)(c=r[f])in e&&(h(c),l[c]=!0);s=l}return Object.keys(e.__unfiltered||e).forEach(h),t},isPlainValue:function(t,e){return a.isPlainObject(t)||Array.isArray(t)||e&&typeof t=="string"},serialize:function(t,e,i,r){e=e||{};var s=!r,h;if(s&&(e.formatter=new L(e.precision),r={length:0,definitions:{},references:{},add:function(w,v){var p="#"+w._id,k=this.references[p];if(!k){this.length++;var x=v.call(w),O=w._class;O&&x[0]!==O&&x.unshift(O),this.definitions[p]=x,k=this.references[p]=[p]}return k}}),t&&t._serialize){h=t._serialize(e,r);var l=t._class;l&&!t._compactSerialize&&(s||!i)&&h[0]!==l&&h.unshift(l)}else if(Array.isArray(t)){h=[];for(var f=0,c=t.length;f<c;f++)h[f]=a.serialize(t[f],e,i,r)}else if(a.isPlainObject(t)){h={};for(var _=Object.keys(t),f=0,c=_.length;f<c;f++){var m=_[f];h[m]=a.serialize(t[m],e,i,r)}}else typeof t=="number"?h=e.formatter.number(t,e.precision):h=t;return s&&r.length>0?[["dictionary",r.definitions],h]:h},deserialize:function(t,e,i,r,s){var h=t,l=!i,f=l&&t&&t.length&&t[0][0]==="dictionary";if(i=i||{},Array.isArray(t)){var c=t[0],_=c==="dictionary";if(t.length==1&&/^#/.test(c))return i.dictionary[c];c=a.exports[c],h=[];for(var m=c?1:0,w=t.length;m<w;m++)h.push(a.deserialize(t[m],e,i,_,f));if(c){var v=h;e?h=e(c,v,l||s):h=new c(v)}}else if(a.isPlainObject(t)){h={},r&&(i.dictionary=h);for(var p in t)h[p]=a.deserialize(t[p],e,i)}return f?h[1]:h},exportJSON:function(t,e){var i=a.serialize(t,e);return e&&e.asString==!1?i:JSON.stringify(i)},importJSON:function(t,e){return a.deserialize(typeof t=="string"?JSON.parse(t):t,function(i,r,s){var h=s&&e&&e.constructor===i,l=h?e:a.create(i.prototype);if(r.length===1&&l instanceof et&&(h||!(l instanceof mt))){var f=r[0];a.isPlainObject(f)&&(f.insert=!1,h&&(r=r.concat([et.INSERT])))}return(h?l.set:i).apply(l,r),h&&(e=null),l})},push:function(t,e){var i=e.length;if(i<4096)t.push.apply(t,e);else{var r=t.length;t.length+=i;for(var s=0;s<i;s++)t[r+s]=e[s]}return t},splice:function(t,e,i,r){var s=e&&e.length,h=i===n;i=h?t.length:i,i>t.length&&(i=t.length);for(var l=0;l<s;l++)e[l]._index=i+l;if(h)return a.push(t,e),[];var f=[i,r];e&&a.push(f,e);for(var c=t.splice.apply(t,f),l=0,_=c.length;l<_;l++)c[l]._index=n;for(var l=i+s,_=t.length;l<_;l++)t[l]._index=l;return c},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,i){return i.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var g={on:function(t,e){if(typeof t!="string")a.each(t,function(h,l){this.on(l,h)},this);else{var i=this._eventTypes,r=i&&i[t],s=this._callbacks=this._callbacks||{};s=s[t]=s[t]||[],s.indexOf(e)===-1&&(s.push(e),r&&r.install&&s.length===1&&r.install.call(this,t))}return this},off:function(t,e){if(typeof t!="string"){a.each(t,function(l,f){this.off(f,l)},this);return}var i=this._eventTypes,r=i&&i[t],s=this._callbacks&&this._callbacks[t],h;return s&&(!e||(h=s.indexOf(e))!==-1&&s.length===1?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):h!==-1&&s.splice(h,1)),this},once:function(t,e){return this.on(t,function i(){e.apply(this,arguments),this.off(t,i)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var r=a.slice(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var h=0,l=i.length;h<l;h++)if(i[h].apply(this,r)==!1){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,r=t?"install":"uninstall";if(e){for(var s in i)if(i[s].length>0){var h=e[s],l=h&&h[r];l&&l.call(this,s)}}},statics:{inject:function t(e){var i=e._events;if(i){var r={};a.each(i,function(s,h){var l=typeof s=="string",f=l?s:h,c=a.capitalize(f),_=f.substring(2).toLowerCase();r[_]=l?{}:s,f="_"+f,e["get"+c]=function(){return this[f]},e["set"+c]=function(m){var w=this[f];w&&this.off(_,w),m&&this.on(_,m),this[f]=m}}),e._eventTypes=r}return t.base.apply(this,arguments)}}},b=a.extend({_class:"PaperScope",initialize:function t(){Et=this,this.settings=new a({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var i=se.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:Qn.nativeModes},se.release(i)}if(!this.agent){var r=z.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],h=s==="darwin"?"mac":s,l=e.agent=e.browser={platform:h};h&&(l[h]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(f,c,_,m,w){if(!l.chrome){var v=c==="opera"?m:/^(node|trident)$/.test(c)?w:_;l.version=v,l.versionNumber=parseFloat(v),c={trident:"msie",jsdom:"node"}[c]||c,l.name=c,l[c]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.17",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var i=Et.PaperScript.execute(t,this,e);return Yt.updateFocus(),i},install:function(t){var e=this;a.each(["project","view","tool"],function(r){a.define(t,r,{configurable:!0,get:function(){return e[r]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return Et=this,this.project=new lt(t),this},createCanvas:function(t,e){return se.getCanvas(t,e)},activate:function(){Et=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;i>=0;i--)t[i].remove();for(var i=e.length-1;i>=0;i--)e[i].remove()},remove:function(){this.clear(),delete b._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(i,r){return i[e](r)||i[e]("data-paper-"+r)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),I=a.extend(g,{initialize:function(t){this._scope=Et,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(a.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),E={findItemBoundsCollisions:function(t,e,i){function r(l){for(var f=new Array(l.length),c=0;c<l.length;c++){var _=l[c].getBounds();f[c]=[_.left,_.top,_.right,_.bottom]}return f}var s=r(t),h=!e||e===t?s:r(e);return this.findBoundsCollisions(s,h,i||0)},findCurveBoundsCollisions:function(t,e,i,r){function s(v){for(var p=Math.min,k=Math.max,x=new Array(v.length),O=0;O<v.length;O++){var y=v[O];x[O]=[p(y[0],y[2],y[4],y[6]),p(y[1],y[3],y[5],y[7]),k(y[0],y[2],y[4],y[6]),k(y[1],y[3],y[5],y[7])]}return x}var h=s(t),l=!e||e===t?h:s(e);if(r){for(var f=this.findBoundsCollisions(h,l,i||0,!1,!0),c=this.findBoundsCollisions(h,l,i||0,!0,!0),_=[],m=0,w=f.length;m<w;m++)_[m]={hor:f[m],ver:c[m]};return _}return this.findBoundsCollisions(h,l,i||0)},findBoundsCollisions:function(t,e,i,r,s){var h=!e||t===e,l=h?t:t.concat(e),f=t.length,c=l.length;function _(ht,dt,gt){for(var tt=0,st=ht.length;tt<st;){var ft=st+tt>>>1;l[ht[ft]][dt]<gt?tt=ft+1:st=ft}return tt-1}for(var m=r?1:0,w=m+2,v=r?0:1,p=v+2,k=new Array(c),x=0;x<c;x++)k[x]=x;k.sort(function(ht,dt){return l[ht][m]-l[dt][m]});for(var O=[],y=new Array(f),x=0;x<c;x++){var C=k[x],d=l[C],S=h?C:C-f,P=C<f,M=h||!P,T=P?[]:null;if(O.length){var D=_(O,w,d[m]-i)+1;if(O.splice(0,D),h&&s){T=T.concat(O);for(var N=0;N<O.length;N++){var F=O[N];y[F].push(S)}}else for(var U=d[p],V=d[v],N=0;N<O.length;N++){var F=O[N],H=l[F],q=F<f,W=h||F>=f;(s||(P&&W||M&&q)&&U>=H[v]-i&&V<=H[p]+i)&&(P&&W&&T.push(h?F:F-f),M&&q&&y[F].push(S))}}if(P&&(t===e&&T.push(C),y[C]=T),O.length){var X=d[w],J=_(O,w,X);O.splice(J+1,0,C)}else O.push(C)}for(var x=0;x<y.length;x++){var nt=y[x];nt&&nt.sort(function(dt,gt){return dt-gt})}return y}},L=a.extend({initialize:function(t){this.precision=a.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});L.instance=new L;var R=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,r=Math.sqrt,s=Math.pow,h=Math.log2||function(w){return Math.log(w)*Math.LOG2E},l=1e-12,f=112e-18;function c(w,v,p){return w<v?v:w>p?p:w}function _(w,v,p){function k(D){var N=D*134217729,F=D-N,U=F+N,V=D-U;return[U,V]}var x=v*v-w*p,O=v*v+w*p;if(i(x)*3<O){var y=k(w),C=k(v),d=k(p),S=v*v,P=C[0]*C[0]-S+2*C[0]*C[1]+C[1]*C[1],M=w*p,T=y[0]*d[0]-M+y[0]*d[1]+y[1]*d[0]+y[1]*d[1];x=S-M+(P-T)}return x}function m(){var w=Math.max.apply(Math,arguments);return w&&(w<1e-8||w>1e8)?s(2,-Math.round(h(w))):0}return{EPSILON:l,MACHINE_EPSILON:f,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(r(2)-1)/3,isZero:function(w){return w>=-l&&w<=l},isMachineZero:function(w){return w>=-f&&w<=f},clamp:c,integrate:function(w,v,p,k){for(var x=t[k-2],O=e[k-2],y=(p-v)*.5,C=y+v,d=0,S=k+1>>1,P=k&1?O[d++]*w(C):0;d<S;){var M=y*x[d];P+=O[d++]*(w(C+M)+w(C-M))}return y*P},findRoot:function(w,v,p,k,x,O,y){for(var C=0;C<O;C++){var d=w(p),S=d/v(p),P=p-S;if(i(S)<y){p=P;break}d>0?(x=p,p=P<=k?(k+x)*.5:P):(k=p,p=P>=x?(k+x)*.5:P)}return c(p,k,x)},solveQuadratic:function(w,v,p,k,x,O){var y,C=1/0;if(i(w)<l){if(i(v)<l)return i(p)<l?-1:0;y=-p/v}else{v*=-.5;var d=_(w,v,p);if(d&&i(d)<f){var S=m(i(w),i(v),i(p));S&&(w*=S,v*=S,p*=S,d=_(w,v,p))}if(d>=-f){var P=d<0?0:r(d),M=v+(v<0?-P:P);M===0?(y=p/w,C=-y):(y=M/w,C=p/M)}}var T=0,D=x==null,N=x-l,F=O+l;return isFinite(y)&&(D||y>N&&y<F)&&(k[T++]=D?y:c(y,x,O)),C!==y&&isFinite(C)&&(D||C>N&&C<F)&&(k[T++]=D?C:c(C,x,O)),T},solveCubic:function(w,v,p,k,x,O,y){var C=m(i(w),i(v),i(p),i(k)),d,S,P,M,T;C&&(w*=C,v*=C,p*=C,k*=C);function D(J){d=J;var nt=w*d;S=nt+v,P=S*d+p,M=(nt+S)*d+P,T=P*d+k}if(i(w)<l)w=v,S=p,P=k,d=1/0;else if(i(k)<l)S=v,P=p,d=0;else{D(-(v/w)/3);var N=T/w,F=s(i(N),1/3),U=N<0?-1:1,V=-M/w,H=V>0?1.324717957244746*Math.max(F,r(V)):F,q=d-U*H;if(q!==d){do D(q),q=M===0?d:d-T/M/(1+f);while(U*q>U*d);i(w)*d*d>i(k/d)&&(P=-k/d,S=(P-p)/d)}}var W=R.solveQuadratic(w,S,P,x,O,y),X=O==null;return isFinite(d)&&(W===0||W>0&&d!==x[0]&&d!==x[1])&&(X||d>O-l&&d<y+l)&&(x[W++]=X?d:c(d,O,y)),W}}},$={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}else return this._id++}},A=a.extend({_class:"Point",_readIndex:!0,initialize:function(e,i){var r=typeof e,s=this.__read,h=0;if(r==="number"){var l=typeof i=="number";this._set(e,l?i:e),s&&(h=l?2:1)}else if(r==="undefined"||e===null)this._set(0,0),s&&(h=e===null?1:0);else{var f=r==="string"?e.split(/[\s,]+/)||[]:e;h=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"x"in f?this._set(f.x||0,f.y||0):"width"in f?this._set(f.width||0,f.height||0):"angle"in f?(this._set(f.length||0,0),this.setAngle(f.angle||0)):(this._set(0,0),h=0)}return s&&(this.__read=h),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new A(this.x,this.y)},toString:function(){var t=L.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();R.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=A.read(arguments),e=this.getLength()*t.getLength();if(R.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=A.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,e=A.read(t),i=e.x-this.x,r=e.y-this.y,s=i*i+r*r,h=a.read(t);return h?s:Math.sqrt(s)},normalize:function(t){t===n&&(t=1);var e=this.getLength(),i=e!==0?t/e:0,r=new A(this.x*i,this.y*i);return i>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(t===0)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,r=Math.sin(t),s=Math.cos(t);return i=new A(i.x*s-i.y*r,i.x*r+i.y*s),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=A.read(arguments);return new A(this.x+t.x,this.y+t.y)},subtract:function(){var t=A.read(arguments);return new A(this.x-t.x,this.y-t.y)},multiply:function(){var t=A.read(arguments);return new A(this.x*t.x,this.y*t.y)},divide:function(){var t=A.read(arguments);return new A(this.x/t.x,this.y/t.y)},modulo:function(){var t=A.read(arguments);return new A(this.x%t.x,this.y%t.y)},negate:function(){return new A(-this.x,-this.y)},isInside:function(){return j.read(arguments).contains(this)},isClose:function(){var t=arguments,e=A.read(t),i=a.read(t);return this.getDistance(e)<=i},isCollinear:function(){var t=A.read(arguments);return A.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=A.read(arguments);return A.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=R.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=A.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=A.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=A.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new A(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=A.read(t),i=A.read(t);return new A(Math.min(e.x,i.x),Math.min(e.y,i.y))},max:function(){var t=arguments,e=A.read(t),i=A.read(t);return new A(Math.max(e.x,i.x),Math.max(e.y,i.y))},random:function(){return new A(Math.random(),Math.random())},isCollinear:function(t,e,i,r){return Math.abs(t*r-e*i)<=Math.sqrt((t*t+e*e)*(i*i+r*r))*1e-8},isOrthogonal:function(t,e,i,r){return Math.abs(t*i+e*r)<=Math.sqrt((t*t+e*e)*(i*i+r*r))*1e-8}}},a.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new A(e(this.x),e(this.y))}},{})),K=A.extend({initialize:function(e,i,r,s){this._x=e,this._y=i,this._owner=r,this._setter=s},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),Y=a.extend({_class:"Size",_readIndex:!0,initialize:function(e,i){var r=typeof e,s=this.__read,h=0;if(r==="number"){var l=typeof i=="number";this._set(e,l?i:e),s&&(h=l?2:1)}else if(r==="undefined"||e===null)this._set(0,0),s&&(h=e===null?1:0);else{var f=r==="string"?e.split(/[\s,]+/)||[]:e;h=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"width"in f?this._set(f.width||0,f.height||0):"x"in f?this._set(f.x||0,f.y||0):(this._set(0,0),h=0)}return s&&(this.__read=h),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new Y(this.width,this.height)},toString:function(){var t=L.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=Y.read(arguments);return new Y(this.width+t.width,this.height+t.height)},subtract:function(){var t=Y.read(arguments);return new Y(this.width-t.width,this.height-t.height)},multiply:function(){var t=Y.read(arguments);return new Y(this.width*t.width,this.height*t.height)},divide:function(){var t=Y.read(arguments);return new Y(this.width/t.width,this.height/t.height)},modulo:function(){var t=Y.read(arguments);return new Y(this.width%t.width,this.height%t.height)},negate:function(){return new Y(-this.width,-this.height)},isZero:function(){var t=R.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new Y(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new Y(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new Y(Math.random(),Math.random())}}},a.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new Y(e(this.width),e(this.height))}},{})),Z=Y.extend({initialize:function(e,i,r,s){this._width=e,this._height=i,this._owner=r,this._setter=s},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),j=a.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,i,r,s){var h=arguments,l=typeof e,f;if(l==="number"?(this._set(e,i,r,s),f=4):l==="undefined"||e===null?(this._set(0,0,0,0),f=e===null?1:0):h.length===1&&(Array.isArray(e)?(this._set.apply(this,e),f=1):e.x!==n||e.width!==n?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),f=1):e.from===n&&e.to===n&&(this._set(0,0,0,0),a.readSupported(h,this)&&(f=1))),f===n){var c=A.readNamed(h,"from"),_=a.peek(h),m=c.x,w=c.y,v,p;if(_&&_.x!==n||a.hasNamed(h,"to")){var k=A.readNamed(h,"to");v=k.x-m,p=k.y-w,v<0&&(m=k.x,v=-v),p<0&&(w=k.y,p=-p)}else{var x=Y.read(h);v=x.width,p=x.height}this._set(m,w,v,p),f=h.__index}var O=h.__filtered;return O&&(this.__filtered=O),this.__read&&(this.__read=f),this},set:"#initialize",_set:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},clone:function(){return new j(this.x,this.y,this.width,this.height)},equals:function(t){var e=a.isPlainValue(t)?j.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=L.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?A:K;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=A.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?Y:Z;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=Y.read(arguments),e=this._sx,i=this._sy,r=t.width,s=t.height;e&&(this.x+=(this.width-r)*e),i&&(this.y+=(this.height-s)*i),this.width=r,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=this._sx===.5?e*2:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=this._sy===.5?e*2:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=this._sx===.5?e*2:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=this._sy===.5?e*2:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?A:K;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=A.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==n||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(j.read(arguments)):this._containsPoint(A.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=j.read(arguments),e=a.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=j.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new j(e,i,r-e,s-i)},unite:function(){var t=j.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new j(e,i,r-e,s-i)},include:function(){var t=A.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new j(e,i,r-e,s-i)},expand:function(){var t=Y.read(arguments),e=t.width,i=t.height;return new j(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===n?t:e)-this.height)}},a.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),r=/^[RL]/.test(i);e>=4&&(t[1]+=r?"Y":"X");var s=t[r?0:1],h=t[r?1:0],l="get"+s,f="get"+h,c="set"+s,_="set"+h,m="get"+i,w="set"+i;this[m]=function(v){var p=v?A:K;return new p(this[l](),this[f](),this,w)},this[w]=function(){var v=A.read(arguments);this[c](v.x),this[_](v.y)}},{beans:!0})),ot=j.extend({initialize:function(e,i,r,s,h,l){this._set(e,i,r,s,!0),this._owner=h,this._setter=l},_set:function(t,e,i,r,s){return this._x=t,this._y=e,this._width=i,this._height=r,s||this._owner[this._setter](this),this}},new function(){var t=j.prototype;return a.each(["x","y","width","height"],function(e){var i=a.capitalize(e),r="_"+e;this["get"+i]=function(){return this[r]},this["set"+i]=function(s){this[r]=s,this._dontNotify||this._owner[this._setter](this)}},a.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var i=this._owner;i._changeSelection&&i._changeSelection(2,e)}}))}),it=a.extend({_class:"Matrix",initialize:function t(e,i){var r=arguments,s=r.length,h=!0;if(s>=6?this._set.apply(this,r):s===1||s===2?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,i):Array.isArray(e)?this._set.apply(this,i?e.concat([i]):e):h=!1:s?h=!1:this.reset(),!h)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,r,s,h,l){return this._a=t,this._b=e,this._c=i,this._d=r,this._tx=s,this._ty=h,l||this._changed(),this},_serialize:function(t,e){return a.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new it(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=L.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return i?(i.transform(null,a.pick(t,!0),e),this.isIdentity()):!1},translate:function(){var t=A.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=arguments,e=A.read(t),i=A.read(t,0,{readNull:!0});return i&&this.translate(i),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=A.read(arguments,1),i=e.x,r=e.y,s=Math.cos(t),h=Math.sin(t),l=i-i*s+r*h,f=r-i*h-r*s,c=this._a,_=this._b,m=this._c,w=this._d;return this._a=s*c+h*m,this._b=s*_+h*w,this._c=-h*c+s*m,this._d=-h*_+s*w,this._tx+=l*c+f*m,this._ty+=l*_+f*w,this._changed(),this},shear:function(){var t=arguments,e=A.read(t),i=A.read(t,0,{readNull:!0});i&&this.translate(i);var r=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*r,this._d+=e.x*s,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var t=arguments,e=A.read(t),i=A.read(t,0,{readNull:!0}),r=Math.PI/180,s=new A(Math.tan(e.x*r),Math.tan(e.y*r));return this.shear(s,i)},append:function(t,e){if(t){var i=this._a,r=this._b,s=this._c,h=this._d,l=t._a,f=t._c,c=t._b,_=t._d,m=t._tx,w=t._ty;this._a=l*i+c*s,this._c=f*i+_*s,this._b=l*r+c*h,this._d=f*r+_*h,this._tx+=m*i+w*s,this._ty+=m*r+w*h,e||this._changed()}return this},prepend:function(t,e){if(t){var i=this._a,r=this._b,s=this._c,h=this._d,l=this._tx,f=this._ty,c=t._a,_=t._c,m=t._b,w=t._d,v=t._tx,p=t._ty;this._a=c*i+_*r,this._c=c*s+_*h,this._b=m*i+w*r,this._d=m*s+w*h,this._tx=c*l+_*f+v,this._ty=m*l+w*f+p,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,r=this._d,s=this._tx,h=this._ty,l=t*r-e*i,f=null;return l&&!isNaN(l)&&isFinite(s)&&isFinite(h)&&(this._a=r/l,this._b=-e/l,this._c=-i/l,this._d=t/l,this._tx=(i*h-r*s)/l,this._ty=(e*s-t*h)/l,f=this),f},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new it(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(A.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var r=t.x,s=t.y;return e||(e=new A),e._set(r*this._a+s*this._c+this._tx,r*this._b+s*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var r=0,s=2*i;r<s;r+=2){var h=t[r],l=t[r+1];e[r]=h*this._a+l*this._c+this._tx,e[r+1]=h*this._b+l*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,r=e+t.width,s=i+t.height,h=[e,i,r,i,r,s,e,s];return this._transformCoordinates(h,h,4)},_transformBounds:function(t,e,i){for(var r=this._transformCorners(t),s=r.slice(0,2),h=s.slice(),l=2;l<8;l++){var f=r[l],c=l&1;f<s[c]?s[c]=f:f>h[c]&&(h[c]=f)}return e||(e=new j),e._set(s[0],s[1],h[0]-s[0],h[1]-s[1],i)},inverseTransform:function(){return this._inverseTransform(A.read(arguments))},_inverseTransform:function(t,e,i){var r=this._a,s=this._b,h=this._c,l=this._d,f=this._tx,c=this._ty,_=r*l-s*h,m=null;if(_&&!isNaN(_)&&isFinite(f)&&isFinite(c)){var w=t.x-this._tx,v=t.y-this._ty;e||(e=new A),m=e._set((w*l-v*h)/_,(v*r-w*s)/_,i)}return m},decompose:function(){var t=this._a,e=this._b,i=this._c,r=this._d,s=t*r-e*i,h=Math.sqrt,l=Math.atan2,f=180/Math.PI,c,_,m;if(t!==0||e!==0){var w=h(t*t+e*e);c=Math.acos(t/w)*(e>0?1:-1),_=[w,s/w],m=[l(t*i+e*r,w*w),0]}else if(i!==0||r!==0){var v=h(i*i+r*r);c=Math.asin(i/v)*(r>0?1:-1),_=[s/v,v],m=[0,l(t*i+e*r,v*v)]}else c=0,m=_=[0,0];return{translation:this.getTranslation(),rotation:c*f,scaling:new A(_),skewing:new A(m[0]*f,m[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new A(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},a.each(["a","b","c","d","tx","ty"],function(t){var e=a.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(r){this[i]=r,this._changed()}},{})),ut=a.extend({_class:"Line",initialize:function(e,i,r,s,h){var l=!1;arguments.length>=4?(this._px=e,this._py=i,this._vx=r,this._vy=s,l=h):(this._px=e.x,this._py=e.y,this._vx=i.x,this._vy=i.y,l=r),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new A(this._px,this._py)},getVector:function(){return new A(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return ut.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return ut.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return ut.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return A.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return A.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,r,s,h,l,f,c,_){c||(i-=t,r-=e,l-=s,f-=h);var m=i*f-r*l;if(!R.isMachineZero(m)){var w=t-s,v=e-h,p=(l*v-f*w)/m,k=(i*v-r*w)/m,x=1e-12,O=-x,y=1+x;if(_||O<p&&p<y&&O<k&&k<y)return _||(p=p<=0?0:p>=1?1:p),new A(t+p*i,e+p*r)}},getSide:function(t,e,i,r,s,h,l,f){l||(i-=t,r-=e);var c=s-t,_=h-e,m=c*r-_*i;return!f&&R.isMachineZero(m)&&(m=(c*i+c*i)/(i*i+r*r),m>=0&&m<=1&&(m=0)),m<0?-1:m>0?1:0},getSignedDistance:function(t,e,i,r,s,h,l){return l||(i-=t,r-=e),i===0?r>0?s-t:t-s:r===0?i<0?h-e:e-h:((s-t)*r-(h-e)*i)/(r>i?r*Math.sqrt(1+i*i/(r*r)):i*Math.sqrt(1+r*r/(i*i)))},getDistance:function(t,e,i,r,s,h,l){return Math.abs(ut.getSignedDistance(t,e,i,r,s,h,l))}}}),lt=I.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){I.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Jn(null,null,this),this._view=Yt.create(this,e||se.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return a.serialize(this._children,t,!0,e)},_changed:function(t,e){if(t&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var r=this._changes;if(r&&e){var s=this._changesById,h=e._id,l=s[h];l?l.flags|=t:r.push(s[h]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new mt({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:zt,match:function(i){var r=i._definition,s=r._id;return e[s]||(e[s]=!0,t.push(r)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var r=t[i],s=r._selection;s&1&&r.isInserted()?e.push(r):s||this._updateSelection(r)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(n,t)},insertLayer:function(t,e){if(e instanceof mt){e._remove(!1,!0),a.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,i){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(n,new mt(et.NO_INSERT),!0)).insertChild(t,e),i&&e.activate&&e.activate(),e},getItems:function(t){return et._getItems(this,t)},getItem:function(t){return et._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return a.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){t==="mouseup"&&(e.mousedrag=null);var i=e[t];if(i){for(var r in i){var s=i[r];for(var h in e){var l=e[h];l&&l!=i&&delete l[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var r=this._children,s=new a({offset:new A(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new it],updateMatrix:!0}),h=0,l=r.length;h<l;h++)r[h].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var f=this._selectionItems,c=this._scope.settings.handleSize,_=this._updateVersion;for(var m in f)f[m]._drawSelection(t,e,c,f,_);t.restore()}}}),et=a.extend(g,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=a.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new it,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return a.each(t,function(e){this._events[e]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&a.isPlainObject(t),r=i&&t.internal===!0,s=this._matrix=new it,h=i&&t.project||Et.project,l=Et.settings;return this._id=r?null:$.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new Jn(h._currentStyle,this,h),r||i&&t.insert==!1||!l.insertItems&&!(i&&t.insert==!0)?this._setProject(h):(i&&t.parent||h)._insertItem(n,this,!0),i&&t!==et.NO_INSERT&&t!==et.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(t,e){var i={},r=this;function s(h){for(var l in h){var f=r[l];a.equals(f,l==="leading"?h.fontSize*1.2:h[l])||(i[l]=a.serialize(f,t,l!=="data",e))}}return s(this._serializeFields),this instanceof vt||s(this._style._defaults),[this._class,i]},_changed:function(t){var e=this._symbol,i=this._parent||e,r=this._project;t&8&&(this._bounds=this._position=this._decomposed=n),t&16&&(this._globalMatrix=n),i&&t&72&&et._clearBoundsCache(i),t&2&&et._clearBoundsCache(this),r&&r._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var i=e._children,r=e._namedChildren;(r[t]=r[t]||[]).push(this),t in i||(i[t]=this)}this._name=t||n,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},a.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=a.capitalize(t),i="_"+t,r={locked:256,visible:265};this["get"+e]=function(){return this[i]},this["set"+e]=function(s){s!=this[i]&&(this[i]=s,this._changed(r[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,r=e.length;i<r;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(this._selection&1);if(t&&e){for(var i=0,r=t.length;i<r;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,r=e.length;i<r;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?A:K,i=this._position||(this._position=this._getPositionFromBounds());return new e(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(A.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new K(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=A.read(arguments,0,{clone:!0,readNull:!0}),this._position=n}},a.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(i){return this.getBounds(i,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof it,r=a.set({},i?e:t,this._boundsOptions);(!r.stroke||this.getStrokeScaling())&&(r.cacheItem=this);var s=this._getCachedBounds(i&&t,r).rect;return arguments.length?s:new ot(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=j.read(arguments),e=this.getBounds(),i=this._matrix,r=new it,s=t.getCenter();r.translate(s),(t.width!=e.width||t.height!=e.height)&&(i.isInvertible()||(i.set(i._backup||new it().translate(i.getTranslation())),e=this.getBounds()),r.scale(e.width!==0?t.width/e.width:0,e.height!==0?t.height/e.height:0)),s=e.getCenter(),r.translate(-s.x,-s.y),this.transform(r)},_getBounds:function(t,e){var i=this._children;return!i||!i.length?new j:(et._updateBoundsCache(this,e.cacheItem),et._getBounds(i,t,e))},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var r=e.internal&&!i,s=e.cacheItem,h=r?null:this._matrix._orNullIfIdentity(),l=s&&(!t||t.equals(h))&&this._getBoundsCacheKey(e,r),f=this._bounds;if(et._updateBoundsCache(this._parent||this._symbol,s),l&&f&&l in f){var c=f[l];return{rect:c.rect.clone(),nonscaling:c.nonscaling}}var _=this._getBounds(t||h,e),m=_.rect||_,w=this._style,v=_.nonscaling||w.hasStroke()&&!w.getStrokeScaling();if(l){f||(this._bounds=f={});var c=f[l]={rect:m.clone(),nonscaling:v,internal:r}}return{rect:m,nonscaling:v}},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,r=i?i.getViewMatrix().invert():t;return r&&r._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,r=t._boundsCache=t._boundsCache||{ids:{},list:[]};r.ids[i]||(r.list.push(e),r.ids[i]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=n;for(var i=0,r=e.list,s=r.length;i<s;i++){var h=r[i];h!==t&&(h._bounds=h._position=n,h._boundsCache&&et._clearBoundsCache(h))}}},_getBounds:function(t,e,i){var r=1/0,s=-r,h=r,l=s,f=!1;i=i||{};for(var c=0,_=t.length;c<_;c++){var m=t[c];if(m._visible&&!m.isEmpty(!0)){var w=m._getCachedBounds(e&&e.appended(m._matrix),i,!0),v=w.rect;r=Math.min(v.x,r),h=Math.min(v.y,h),s=Math.max(v.x+v.width,s),l=Math.max(v.y+v.height,l),w.nonscaling&&(f=!0)}}return{rect:isFinite(r)?new j(r,h,s-r,l-h):new j,nonscaling:f}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(e!=null&&t!=null){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new K(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=A.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this.getRotation(),r=this._decomposed,s=new it,h=R.isZero;if(h(t.x)||h(t.y))s.translate(r.translation),i&&s.rotate(i),s.scale(e.x,e.y),this._matrix.set(s);else{var l=this.getPosition(!0);s.translate(l),i&&s.rotate(i),s.scale(e.x/t.x,e.y/t.y),i&&s.rotate(-i),s.translate(l.negate()),this.transform(s)}r&&(r.scaling=e,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var i=this._parent,r=[];i;){if(!i._globalMatrix){e=null;for(var s=0,h=r.length;s<h;s++)r[s]._globalMatrix=null;break}r.push(i),i=i._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,r=0,s=i&&i.length;r<s;r++)i[r]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var i=this._children,r=0,s=i&&i.length;r<s;r++)i[r]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof mt)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return a.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(et.NO_INSERT),i=this._children,r=a.pick(t?t.insert:n,t===n||t===!0),s=a.pick(t?t.deep:n,!0);i&&e.copyAttributes(this),(!i||s)&&e.copyContent(this),i||e.copyAttributes(this),r&&e.insertAbove(this);var h=this._name,l=this._parent;if(h&&l){for(var i=l._children,f=h,c=1;i[h];)h=f+" "+c++;h!==f&&e.setName(h)}return e},copyContent:function(t){for(var e=t._children,i=0,r=e&&e.length;i<r;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,s=i.length;r<s;r++){var h=i[r];t.hasOwnProperty(h)&&(this[h]=t[h])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var l=t._data,f=t._name;this._data=l?a.clone(l):null,f&&this.setName(f)},rasterize:function(t,e){var i,r,s;a.isPlainObject(t)?(i=t.resolution,r=t.insert,s=t.raster):(i=t,r=e),s||(s=new _t(et.NO_INSERT));var h=this.getStrokeBounds(),l=(i||this.getView().getResolution())/72,f=h.getTopLeft().floor(),c=h.getBottomRight().ceil(),_=new Y(c.subtract(f)),m=_.multiply(l);if(s.setSize(m,!0),!m.isZero()){var w=s.getContext(!0),v=new it().scale(l).translate(f.negate());w.save(),v.applyToContext(w),this.draw(w,new a({matrices:[v]})),w.restore()}return s._matrix.set(new it().translate(f.add(_.divide(2))).scale(1/l)),(r===n||r)&&s.insertAbove(this),s},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(A.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return j.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Ct.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof et?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1}},new function(){function t(){var r=arguments;return this._hitTest(A.read(r),Rt.getOptions(r))}function e(){var r=arguments,s=A.read(r),h=Rt.getOptions(r),l=[];return this._hitTest(s,new a({all:l},h)),l}function i(r,s,h,l){var f=this._children;if(f)for(var c=f.length-1;c>=0;c--){var _=f[c],m=_!==l&&_._hitTest(r,s,h);if(m&&!s.all)return m}return null}return lt.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var r=this._matrix,s=i?i.appended(r):this.getGlobalMatrix().prepend(this.getView()._matrix),h=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new Y(Ct._getStrokePadding(h,r._shiftless().invert()));if(t=r._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==a.hyphenate(this._class)||e.class&&!(this instanceof e.class)),c=e.match,_=this,m,w;function v(d){return d&&c&&!c(d)&&(d=null),d&&e.all&&e.all.push(d),d}function p(d,S){var P=S?m["get"+S]():_.getPosition();if(t.subtract(P).divide(l).length<=1)return new Rt(d,_,{name:S?a.hyphenate(S):d,point:P})}var k=e.position,x=e.center,O=e.bounds;if(f&&this._parent&&(k||x||O)){if((x||O)&&(m=this.getInternalBounds()),w=k&&p("position")||x&&p("center","Center"),!w&&O)for(var y=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],C=0;C<8&&!w;C++)w=p("bounds",y[C]);w=v(w)}return w||(w=this._hitTestChildren(t,e,s)||f&&v(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),w&&w.point&&(w.point=r.transform(w.point)),w},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new Rt("fill",this)},matches:function(t,e){function i(l,f){for(var c in l)if(l.hasOwnProperty(c)){var _=l[c],m=f[c];if(a.isPlainObject(_)&&a.isPlainObject(m)){if(!i(_,m))return!1}else if(!a.equals(_,m))return!1}return!0}var r=typeof t;if(r==="object"){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}else{if(r==="function")return t(this);if(t==="match")return e(this);var h=/^(empty|editable)$/.test(t)?this["is"+a.capitalize(t)]():t==="type"?a.hyphenate(this._class):this[t];if(t==="class"){if(typeof e=="function")return this instanceof e;h=this._class}if(typeof e=="function")return!!e(h);if(e){if(e.test)return e.test(h);if(a.isPlainObject(e))return i(e,h)}return a.equals(h,e)}},getItems:function(t){return et._getItems(this,t,this._matrix)},getItem:function(t){return et._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,i,r,s,h){if(!s){var l=typeof i=="object"&&i,f=l&&l.overlapping,c=l&&l.inside,_=f||c,v=_&&j.read([_]);s={items:[],recursive:l&&l.recursive!==!1,inside:!!c,overlapping:!!f,rect:v,path:f&&new Ct.Rectangle({rectangle:v,insert:!1})},l&&(i=a.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var m=e._children,w=s.items,v=s.rect;r=v&&(r||new it);for(var p=0,k=m&&m.length;p<k;p++){var x=m[p],O=r&&r.appended(x._matrix),y=!0;if(v){var _=x.getBounds(O);if(!v.intersects(_))continue;v.contains(_)||s.overlapping&&(_.contains(v)||s.path.intersects(x,O))||(y=!1)}if(y&&x.matches(i)&&(w.push(x),h)||(s.recursive!==!1&&t(x,i,O,s,h),h&&w.length>0))break}return w}}},{importJSON:function(t){var e=a.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(n,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&e.length>0){e=a.slice(e);for(var r={},s=e.length-1;s>=0;s--){var h=e[s],l=h&&h._id;!h||r[l]?e.splice(s,1):(h._remove(!1,!0),r[l]=!0)}a.splice(i,e,t,0);for(var f=this._project,c=f._changes,s=0,_=e.length;s<_;s++){var h=e[s],m=h._name;h._parent=this,h._setProject(f,!0),m&&h.setName(m),c&&h._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),r=t!==this&&i?this:null;return r&&(r._remove(!1,!0),i._insertItem(t._index+e,r)),r},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(n,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(n,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&e.length===1){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,r=this._name,s=i[r],h=s?s.indexOf(this):-1;h!==-1&&(e[r]==this&&delete e[r],s.splice(h,1),s.length?e[r]=s[0]:delete i[r])}},_remove:function(t,e){var i=this._getOwner(),r=this._project,s=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),s!=null&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),a.splice(i._children,null,s,1)),this._installEvents(!1),t&&r._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=a.pick(e,this._children.length);for(var i=a.splice(this._children,null,t,e-t),r=i.length-1;r>=0;r--)i[r]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,i=e?e.length:0;if(t){for(var r=0;r<i;r++)if(!e[r].isEmpty(t))return!1;return!0}return!i},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(l){var f=[];do f.unshift(l);while(l=l._parent);return f}for(var i=e(this),r=e(t),s=0,h=Math.min(i.length,r.length);s<h;s++)if(i[s]!=r[s])return i[s]._index<r[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},a.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var i=arguments,r=(e?a:A).read(i),s=A.read(i,0,{readNull:!0});return this.transform(new it()[t](r,s||this.getPosition(!0)))}},{translate:function(){var t=new it;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i){var r=this._matrix,s=t&&!t.isIdentity(),h=i&&this._canApplyMatrix||this._applyMatrix&&(s||!r.isIdentity()||e&&this._children);if(!s&&!h)return this;if(s){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var l=this._style,f=l.getFillColor(!0),c=l.getStrokeColor(!0);f&&f.transform(t),c&&c.transform(t)}if(h&&(h=this._transformContent(r,e,i))){var _=this._pivot;_&&r._transformPoint(_,_,!0),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var m=this._bounds,w=this._position;(s||h)&&this._changed(25);var v=s&&m&&t.decompose();if(v&&v.skewing.isZero()&&v.rotation%90===0){for(var p in m){var k=m[p];if(k.nonscaling)delete m[p];else if(h||!k.internal){var x=k.rect;t._transformBounds(x,x)}}this._bounds=m;var O=m[this._getBoundsCacheKey(this._boundsOptions||{})];O&&(this._position=this._getPositionFromBounds(O.rect))}else s&&w&&this._pivot&&(this._position=t._transformPoint(w,w));return this},_transformContent:function(t,e,i){var r=this._children;if(r){for(var s=0,h=r.length;s<h;s++)r[s].transform(t,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(A.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(A.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(A.read(arguments))},localToParent:function(){return this._matrix._transformPoint(A.read(arguments))},fitBounds:function(t,e){t=j.read(arguments);var i=this.getBounds(),r=i.height/i.width,s=t.height/t.width,h=(e?r>s:r<s)?t.width/i.width:t.height/i.height,l=new j(new A,new Y(i.width*h,i.height*h));l.setCenter(t.getCenter()),this.setBounds(l)}}),{_setStyles:function(t,e,i){var r=this._style,s=this._matrix;if(r.hasFill()&&(t.fillStyle=r.getFillColor().toCanvasStyle(t,s)),r.hasStroke()){t.strokeStyle=r.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=r.getStrokeWidth();var h=r.getStrokeJoin(),l=r.getStrokeCap(),f=r.getMiterLimit();if(h&&(t.lineJoin=h),l&&(t.lineCap=l),f&&(t.miterLimit=f),Et.support.nativeDash){var c=r.getDashArray(),_=r.getDashOffset();c&&c.length&&("setLineDash"in t?(t.setLineDash(c),t.lineDashOffset=_):(t.mozDash=c,t.mozDashOffset=_))}}if(r.hasShadow()){var m=e.pixelRatio||1,w=i._shiftless().prepend(new it().scale(m,m)),v=w.transform(new A(r.getShadowBlur(),0)),p=w.transform(this.getShadowOffset());t.shadowColor=r.getShadowColor().toCanvasStyle(t),t.shadowBlur=v.getLength(),t.shadowOffsetX=p.x,t.shadowOffsetY=p.y}},draw:function(t,e,i){var r=this._updateVersion=this._project._updateVersion;if(!(!this._visible||this._opacity===0)){var s=e.matrices,h=e.viewMatrix,l=this._matrix,f=s[s.length-1].appended(l);if(!!f.isInvertible()){h=h?h.appended(f):f,s.push(f),e.updateMatrix&&(this._globalMatrix=f);var c=this._blendMode,_=R.clamp(this._opacity,0,1),m=c==="normal",w=Qn.nativeModes[c],v=m&&_===1||e.dontStart||e.clip||(w||m&&_<1)&&this._canComposite(),p=e.pixelRatio||1,k,x,O;if(!v){var y=this.getStrokeBounds(h);if(!y.width||!y.height){s.pop();return}O=e.offset,x=e.offset=y.getTopLeft().floor(),k=t,t=se.getContext(y.getSize().ceil().add(1).multiply(p)),p!==1&&t.scale(p,p)}t.save();var C=i?i.appended(l):this._canScaleStroke&&!this.getStrokeScaling(!0)&&h,d=!v&&e.clipItem,S=!C||d;if(v?(t.globalAlpha=_,w&&(t.globalCompositeOperation=c)):S&&t.translate(-x.x,-x.y),S&&(v?l:h).applyToContext(t),d&&e.clipItem.draw(t,e.extend({clip:!0})),C){t.setTransform(p,0,0,p,0,0);var P=e.offset;P&&t.translate(-P.x,-P.y)}this._draw(t,e,h,C),t.restore(),s.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),v||(Qn.process(c,t,k,_,x.subtract(O).multiply(p)),se.release(t),e.offset=O)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof fe)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,r,s){var h=this._selection,l=h&1,f=h&2||l&&this._selectBounds,c=h&4;if(this._drawSelected||(l=!1),(l||f||c)&&this._isUpdated(s)){var _,m=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),w=e.appended(this.getGlobalMatrix(!0)),v=i/2;if(t.strokeStyle=t.fillStyle=m?m.toCanvasStyle(t):"#009dec",l&&this._drawSelected(t,w,r),c){var p=this.getPosition(!0),k=this._parent,x=k?k.localToGlobal(p):p,O=x.x,y=x.y;t.beginPath(),t.arc(O,y,v,0,Math.PI*2,!0),t.stroke();for(var C=[[0,-1],[1,0],[0,1],[-1,0]],d=v,S=i+1,P=0;P<4;P++){var M=C[P],T=M[0],D=M[1];t.moveTo(O+T*d,y+D*d),t.lineTo(O+T*S,y+D*S),t.stroke()}}if(f){var N=w._transformCorners(this.getInternalBounds());t.beginPath();for(var P=0;P<8;P++)t[P?"lineTo":"moveTo"](N[P],N[++P]);t.closePath(),t.stroke();for(var P=0;P<8;P++)t.fillRect(N[P]-v,N[++P]-v,i,i)}}},_canComposite:function(){return!1}},a.each(["down","drag","up","move"],function(t){this["removeOn"+a.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,r=this._project,s=r._removeSets=r._removeSets||{};s[i]=s[i]||{},s[i][this._id]=this}return this}}),{tween:function(t,e,i){i||(i=e,e=t,t=null,i||(i=e,e=null));var r=i&&i.easing,s=i&&i.start,h=i!=null&&(typeof i=="number"?i:i.duration),l=new nu(this,t,e,h,r,s);function f(c){l._handleFrame(c.time*1e3),l.running||this.off("frame",f)}return h&&this.on("frame",f),l},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),vt=et.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),e&2050&&(this._clipItem=n)},_getClipItem:function(){var t=this._clipItem;if(t===n){t=null;for(var e=this._children,i=0,r=e.length;i<r;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,i){var r=this._getClipItem();return r?r._getCachedBounds(r._matrix.prepended(e),a.set({},i,{stroke:!1})):t.base.call(this,e,i)},_hitTestChildren:function t(e,i,r){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,i,r,s)},_draw:function(t,e){var i=e.clip,r=!i&&this._getClipItem();e=e.extend({clipItem:r,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):r&&r.draw(t,e.extend({clip:!0}));for(var s=this._children,h=0,l=s.length;h<l;h++){var f=s[h];f!==r&&f.draw(t,e)}}}),mt=vt.extend({_class:"Layer",initialize:function(){vt.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),ct=et.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,i){this._initialize(e,i)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&a.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new Z(t.width,t.height,this,"setSize")},setSize:function(){var t=Y.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var e=this._type,i=t.width,r=t.height;e==="rectangle"?this._radius.set(Y.min(this._radius,t.divide(2).abs())):e==="circle"?(i=r=(i+r)/2,this._radius=i/2):e==="ellipse"&&this._radius._set(i/2,r/2),this._size._set(i,r),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new Z(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if(e==="circle"){if(t===this._radius)return;var i=t*2;this._radius=t,this._size._set(i,i)}else if(t=Y.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),e==="rectangle"){var i=Y.max(this._size,t.multiply(2));this._size.set(i)}else e==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new Ct[a.capitalize(this._type)]({center:new A,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),Et.settings.applyMatrix&&e.setApplyMatrix(!0),(t===n||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,r){var s=this._style,h=s.hasFill(),l=s.hasStroke(),f=e.dontFinish||e.clip,c=!r;if(h||l||f){var _=this._type,m=this._radius,w=_==="circle";if(e.dontStart||t.beginPath(),c&&w)t.arc(0,0,m,0,Math.PI*2,!0);else{var v=w?m:m.width,p=w?m:m.height,k=this._size,x=k.width,O=k.height;if(c&&_==="rectangle"&&v===0&&p===0)t.rect(-x/2,-O/2,x,O);else{var y=x/2,C=O/2,d=1-.5522847498307936,S=v*d,P=p*d,M=[-y,-C+p,-y,-C+P,-y+S,-C,-y+v,-C,y-v,-C,y-S,-C,y,-C+P,y,-C+p,y,C-p,y,C-P,y-S,C,y-v,C,-y+v,C,-y+S,C,-y,C-P,-y,C-p];r&&r.transform(M,M,32),t.moveTo(M[0],M[1]),t.bezierCurveTo(M[2],M[3],M[4],M[5],M[6],M[7]),y!==v&&t.lineTo(M[8],M[9]),t.bezierCurveTo(M[10],M[11],M[12],M[13],M[14],M[15]),C!==p&&t.lineTo(M[16],M[17]),t.bezierCurveTo(M[18],M[19],M[20],M[21],M[22],M[23]),y!==v&&t.lineTo(M[24],M[25]),t.bezierCurveTo(M[26],M[27],M[28],M[29],M[30],M[31])}}t.closePath()}!f&&(h||l)&&(this._setStyles(t,e,i),h&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),l&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new j(this._size).setCenter(0,0),r=this._style,s=e.stroke&&r.hasStroke()&&r.getStrokeWidth();return t&&(i=t._transformBounds(i)),s?i.expand(Ct._getStrokePadding(s,this._getStrokeMatrix(t,e))):i}},new function(){function t(i,r,s){var h=i._radius;if(!h.isZero())for(var l=i._size.divide(2),f=1;f<=4;f++){var c=new A(f>1&&f<4?-1:1,f>2?-1:1),_=c.multiply(l),m=_.subtract(c.multiply(h)),w=new j(s?_.add(c.multiply(s)):_,m);if(w.contains(r))return{point:m,quadrant:f}}}function e(i,r,s,h){var l=i.divide(r);return(!h||l.isInQuadrant(h))&&l.subtract(l.normalize()).multiply(r).divide(s).length<=1}return{_contains:function i(r){if(this._type==="rectangle"){var s=t(this,r);return s?r.subtract(s.point).divide(this._radius).getLength()<=1:i.base.call(this,r)}else return r.divide(this.size).getLength()<=.5},_hitTestSelf:function i(r,s,h,l){var f=!1,c=this._style,_=s.stroke&&c.hasStroke(),m=s.fill&&c.hasFill();if(_||m){var w=this._type,v=this._radius,p=_?c.getStrokeWidth()/2:0,k=s._tolerancePadding.add(Ct._getStrokePadding(p,!c.getStrokeScaling()&&l));if(w==="rectangle"){var x=k.multiply(2),O=t(this,r,x);if(O)f=e(r.subtract(O.point),v,k,O.quadrant);else{var y=new j(this._size).setCenter(0,0),C=y.expand(x),d=y.expand(x.negate());f=C._containsPoint(r)&&!d._containsPoint(r)}}else f=e(r,v,k)}return f?new Rt(_?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function t(e,i,r,s,h){var l=a.create(ct.prototype);return l._type=e,l._size=r,l._radius=s,l._initialize(a.getNamed(h),i),l}return{Circle:function(){var e=arguments,i=A.readNamed(e,"center"),r=a.readNamed(e,"radius");return t("circle",i,new Y(r*2),r,e)},Rectangle:function(){var e=arguments,i=j.readNamed(e,"rectangle"),r=Y.min(Y.readNamed(e,"radius"),i.getSize(!0).divide(2));return t("rectangle",i.getCenter(!0),i.getSize(!0),r,e)},Ellipse:function(){var e=arguments,i=ct._readEllipse(e),r=i.radius;return t("ellipse",i.center,r.multiply(2),r,e)},_readEllipse:function(e){var i,r;if(a.hasNamed(e,"radius"))i=A.readNamed(e,"center"),r=Y.readNamed(e,"radius");else{var s=j.readNamed(e,"rectangle");i=s.getCenter(!0),r=s.getSize(!0).divide(2)}return{center:i,radius:r}}}}}),_t=et.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,i){if(!this._initialize(e,i!==n&&A.read(arguments))){var r,s=typeof e,h=s==="string"?o.getElementById(e):s==="object"?e:null;if(h&&h!==et.NO_INSERT){if(h.getContext||h.naturalHeight!=null)r=h;else if(h){var l=Y.read(arguments);l.isZero()||(r=se.getCanvas(l))}}r?this.setImage(r):this.setSource(e)}this._size||(this._size=new Y,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var r=se.getCanvas(t._size);r.getContext("2d").drawImage(i,0,0),this._setImage(r)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new Z(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var i=Y.read(arguments);if(i.equals(this._size))e&&this.clear();else if(i.width>0&&i.height>0){var r=!e&&this.getElement();this._setImage(se.getCanvas(i)),r&&this.getContext(!0).drawImage(r,0,0,i.width,i.height)}else this._canvas&&se.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,e=new A(0,0).transform(t),i=new A(1,0).transform(t).subtract(e),r=new A(0,1).transform(t).subtract(e);return new Y(72/i.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function i(r){var s=e.getView(),h=r&&r.type||"load";s&&e.responds(h)&&(Et=s._scope,e.emit(h,new bn(r)))}this._setImage(t),this._loaded?setTimeout(i,0):t&&re.add(t,{load:function(r){e._setImage(t),i(r)},error:i})},_setImage:function(t){this._canvas&&se.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new Y(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=se.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{se.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new z.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=j.read(arguments),e=se.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=j.read(arguments),e=new _t(et.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=A.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof qt?(i=t,e=t.getBounds()):typeof t=="object"&&("width"in t?e=new j(t):"x"in t&&(e=new j(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var r=32,s=Math.min(e.width,r),h=Math.min(e.height,r),l=_t._sampleContext;l?l.clearRect(0,0,r+1,r+1):l=_t._sampleContext=se.getContext(new Y(r)),l.save();var f=new it().scale(s/e.width,h/e.height).translate(-e.x,-e.y);f.applyToContext(l),i&&i.draw(l,new a({clip:!0,matrices:[f]})),this._matrix.applyToContext(l);var c=this.getElement(),_=this._size;c&&l.drawImage(c,-_.width/2,-_.height/2),l.restore();for(var m=l.getImageData(.5,.5,Math.ceil(s),Math.ceil(h)).data,w=[0,0,0],v=0,p=0,k=m.length;p<k;p+=4){var x=m[p+3];v+=x,x/=255,w[0]+=m[p]*x,w[1]+=m[p+1]*x,w[2]+=m[p+2]*x}for(var p=0;p<3;p++)w[p]/=v;return v?Bt.read(w):null},getPixel:function(){var t=A.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new Bt("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=A.read(t),i=Bt.read(t),r=i._convert("rgb"),s=i._alpha,h=this.getContext(!0),l=h.createImageData(1,1),f=l.data;f[0]=r[0]*255,f[1]=r[1]*255,f[2]=r[2]*255,f[3]=s!=null?s*255:255,h.putImageData(l,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=Y.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=j.read(arguments);return t.isEmpty()&&(t=new j(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=A.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var i=new j(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new Rt("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,i){var r=this.getElement();if(r&&r.width>0&&r.height>0){t.globalAlpha=R.clamp(this._opacity,0,1),this._setStyles(t,e,i);var s=this._smoothing,h=s==="off";Kt.setPrefixed(t,h?"imageSmoothingEnabled":"imageSmoothingQuality",h?!1:s),t.drawImage(r,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),zt=et.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,i){this._initialize(e,i!==n&&A.read(arguments,1))||this.setDefinition(e instanceof At?e:new At(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){var r=e.extend({all:!1}),s=this._definition._item._hitTest(t,r,i);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),At=a.extend({_class:"SymbolDefinition",initialize:function(e,i){this._id=$.get(),this.project=Et.project,e&&this.setItem(e,i)},_serialize:function(t,e){return e.add(this,function(){return a.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){t&8&&et._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new A),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new zt(this,t)},clone:function(){return new At(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Rt=a.extend({_class:"HitResult",initialize:function(e,i,r){this.type=e,this.item=i,r&&this.inject(r)},statics:{getOptions:function(t){var e=t&&a.read(t);return new a({type:null,tolerance:Et.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),yt=a.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,i,r,s,h,l){var f=arguments.length,c,_,m,w;f>0&&(e==null||typeof e=="object"?f===1&&e&&"point"in e?(c=e.point,_=e.handleIn,m=e.handleOut,w=e.selection):(c=e,_=i,m=r,w=s):(c=[e,i],_=r!==n?[r,s]:null,m=h!==n?[h,l]:null)),new Gt(c,this,"_point"),new Gt(_,this,"_handleIn"),new Gt(m,this,"_handleOut"),w&&this.setSelection(w)},_serialize:function(t,e){var i=this._point,r=this._selection,s=r||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return r&&s.push(r),a.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(!!e){var i=e._curves,r=this._index,s;i&&((!t||t===this._point||t===this._handleIn)&&(s=r>0?i[r-1]:e._closed?i[i.length-1]:null)&&s._changed(),(!t||t===this._point||t===this._handleOut)&&(s=i[r])&&s._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(A.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(A.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(A.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(257))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==n?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new Ft(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var r=t||{},s=r.type,h=r.factor,l=this.getPrevious(),f=this.getNext(),c=(l||this)._point,_=this._point,m=(f||this)._point,w=c.getDistance(_),v=_.getDistance(m);if(!s||s==="catmull-rom"){var p=h===n?.5:h,k=Math.pow(w,p),x=k*k,O=Math.pow(v,p),y=O*O;if(!e&&l){var C=2*y+3*O*k+x,d=3*O*(O+k);this.setHandleIn(d!==0?new A((y*c._x+C*_._x-x*m._x)/d-_._x,(y*c._y+C*_._y-x*m._y)/d-_._y):new A)}if(!i&&f){var C=2*x+3*k*O+y,d=3*k*(k+O);this.setHandleOut(d!==0?new A((x*m._x+C*_._x-y*c._x)/d-_._x,(x*m._y+C*_._y-y*c._y)/d-_._y):new A)}}else if(s==="geometric"){if(l&&f){var S=c.subtract(m),P=h===n?.4:h,M=P*w/(w+v);e||this.setHandleIn(S.multiply(M)),i||this.setHandleOut(S.multiply(M-P))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new yt(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new yt(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var r=1-i,s=i,h=t._point,l=e._point,f=t._handleIn,c=e._handleIn,_=e._handleOut,m=t._handleOut;this._point._set(r*h._x+s*l._x,r*h._y+s*l._y,!0),this._handleIn._set(r*f._x+s*c._x,r*f._y+s*c._y,!0),this._handleOut._set(r*m._x+s*_._x,r*m._y+s*_._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var r=this._point,s=!i||!this._handleIn.isZero()?this._handleIn:null,h=!i||!this._handleOut.isZero()?this._handleOut:null,l=r._x,f=r._y,c=2;return e[0]=l,e[1]=f,s&&(e[c++]=s._x+l,e[c++]=s._y+f),h&&(e[c++]=h._x+l,e[c++]=h._y+f),t&&(t._transformCoordinates(e,e,c/2),l=e[0],f=e[1],i?(r._x=l,r._y=f,c=2,s&&(s._x=e[c++]-l,s._y=e[c++]-f),h&&(h._x=e[c++]-l,h._y=e[c++]-f)):(s||(e[c++]=l,e[c++]=f),h||(e[c++]=l,e[c++]=f))),e}}),Gt=A.extend({initialize:function(e,i,r){var s,h,l;if(!e)s=h=0;else if((s=e[0])!==n)h=e[1];else{var f=e;(s=f.x)===n&&(f=A.read(arguments),s=f.x),h=f.y,l=f.selected}this._x=s,this._y=h,this._owner=i,i[r]=this,l&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=R.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),at=a.extend({_class:"Curve",beans:!0,initialize:function(e,i,r,s,h,l,f,c){var _=arguments.length,m,w,v,p,k,x;_===3?(this._path=e,m=i,w=r):_?_===1?"segment1"in e?(m=new yt(e.segment1),w=new yt(e.segment2)):"point1"in e?(v=e.point1,k=e.handle1,x=e.handle2,p=e.point2):Array.isArray(e)&&(v=[e[0],e[1]],p=[e[6],e[7]],k=[e[2]-e[0],e[3]-e[1]],x=[e[4]-e[6],e[5]-e[7]]):_===2?(m=new yt(e),w=new yt(i)):_===4?(v=e,k=i,x=r,p=s):_===8&&(v=[e,i],p=[f,c],k=[r-e,s-i],x=[h-f,l-c]):(m=new yt,w=new yt),this._segment1=m||new yt(v,null,k),this._segment2=w||new yt(p,x,null)},_serialize:function(t,e){return a.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=n},clone:function(){return new at(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return at.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(A.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(A.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(A.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(A.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return at.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new A(t[i],t[i+1]));return e}},{getLength:function(){return this._length==null&&(this._length=at.getLength(this.getValues(),0,1)),this._length},getArea:function(){return at.getArea(this.getValues())},getLine:function(){return new ut(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new at(at.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return at.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=1e-8,r=1-i,s=null;if(t>=i&&t<=r){var h=at.subdivide(this.getValues(),t),l=h[0],f=h[1],c=e||this.hasHandles(),_=this._segment1,m=this._segment2,w=this._path;c&&(_._handleOut._set(l[2]-l[0],l[3]-l[1]),m._handleIn._set(f[4]-f[6],f[5]-f[7]));var v=l[6],p=l[7],k=new yt(new A(v,p),c&&new A(l[4]-v,l[5]-p),c&&new A(f[2]-v,f[3]-p));w?(w.insert(_._index+1,k),s=this.getNext()):(this._segment2=k,this._changed(),s=new at(k,m))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===n?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===n?.5:e?t:this.getTimeAt(t))},reversed:function(){return new at(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,r){var s=t._point,h=t._handleOut,l=e._handleIn,f=e._point,c=s.x,_=s.y,m=f.x,w=f.y,v=r?[c,_,c,_,m,w,m,w]:[c,_,c+h._x,_+h._y,m+l._x,w+l._y,m,w];return i&&i._transformCoordinates(v,v,4),v},subdivide:function(t,e){var i=t[0],r=t[1],s=t[2],h=t[3],l=t[4],f=t[5],c=t[6],_=t[7];e===n&&(e=.5);var m=1-e,w=m*i+e*s,v=m*r+e*h,p=m*s+e*l,k=m*h+e*f,x=m*l+e*c,O=m*f+e*_,y=m*w+e*p,C=m*v+e*k,d=m*p+e*x,S=m*k+e*O,P=m*y+e*d,M=m*C+e*S;return[[i,r,w,v,y,C,P,M],[P,M,d,S,x,O,c,_]]},getMonoCurves:function(t,e){var i=[],r=e?0:1,s=t[r+0],h=t[r+2],l=t[r+4],f=t[r+6];if(s>=h==h>=l&&h>=l==l>=f||at.isStraight(t))i.push(t);else{var c=3*(h-l)-s+f,_=2*(s+l)-4*h,m=h-s,w=1e-8,v=1-w,p=[],k=R.solveQuadratic(c,_,m,p,w,v);if(!k)i.push(t);else{p.sort();var x=p[0],O=at.subdivide(t,x);i.push(O[0]),k>1&&(x=(p[1]-x)/(1-x),O=at.subdivide(O[1],x),i.push(O[0])),i.push(O[1])}}return i},solveCubic:function(t,e,i,r,s,h){var l=t[e],f=t[e+2],c=t[e+4],_=t[e+6],m=0;if(!(l<i&&_<i&&f<i&&c<i||l>i&&_>i&&f>i&&c>i)){var w=3*(f-l),v=3*(c-f)-w,p=_-l-w-v;m=R.solveCubic(p,v,w,l-i,r,s,h)}return m},getTimeOf:function(t,e){var i=new A(t[0],t[1]),r=new A(t[6],t[7]),s=1e-12,h=1e-7,l=e.isClose(i,s)?0:e.isClose(r,s)?1:null;if(l===null)for(var f=[e.x,e.y],c=[],_=0;_<2;_++)for(var m=at.solveCubic(t,_,f[_],c,0,1),w=0;w<m;w++){var v=c[w];if(e.isClose(at.getPoint(t,v),h))return v}return e.isClose(i,h)?0:e.isClose(r,h)?1:null},getNearestTime:function(t,e){if(at.isStraight(t)){var i=t[0],r=t[1],s=t[6],h=t[7],l=s-i,f=h-r,c=l*l+f*f;if(c===0)return 0;var _=((e.x-i)*l+(e.y-r)*f)/c;return _<1e-12?0:_>.999999999999?1:at.getTimeOf(t,new A(i+_*l,r+_*f))}var m=100,w=1/0,v=0;function p(O){if(O>=0&&O<=1){var y=e.getDistance(at.getPoint(t,O),!0);if(y<w)return w=y,v=O,!0}}for(var k=0;k<=m;k++)p(k/m);for(var x=1/(m*2);x>1e-8;)!p(v-x)&&!p(v+x)&&(x/=2);return v},getPart:function(t,e,i){var r=e>i;if(r){var s=e;e=i,i=s}return e>0&&(t=at.subdivide(t,e)[1]),i<1&&(t=at.subdivide(t,(i-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],r=t[1],s=t[2],h=t[3],l=t[4],f=t[5],c=t[6],_=t[7],m=3*s-2*i-c,w=3*h-2*r-_,v=3*l-2*c-i,p=3*f-2*_-r;return Math.max(m*m,v*v)+Math.max(w*w,p*p)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],r=t[2],s=t[3],h=t[4],l=t[5],f=t[6],c=t[7];return 3*((c-i)*(r+h)-(f-e)*(s+l)+s*(e-h)-r*(i-l)+c*(h+e/3)-f*(l+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),r=[0,0],s=0;s<2;s++)at._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,i,r);return new j(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,r,s,h,l,f,c){function _(P,M){var T=P-M,D=P+M;T<l[s]&&(l[s]=T),D>f[s]&&(f[s]=D)}h/=2;var m=l[s]+h,w=f[s]-h;if(t<m||e<m||i<m||r<m||t>w||e>w||i>w||r>w)if(e<t!=e<r&&i<t!=i<r)_(t,0),_(r,0);else{var v=3*(e-i)-t+r,p=2*(t+i)-4*e,k=e-t,x=R.solveQuadratic(v,p,k,c),O=1e-8,y=1-O;_(r,0);for(var C=0;C<x;C++){var d=c[C],S=1-d;O<=d&&d<=y&&_(S*S*S*t+3*S*S*d*e+3*S*d*d*i+d*d*d*r,h)}}}}},a.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=Ct[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),a.each({isStraight:function(t,e,i,r){if(e.isZero()&&i.isZero())return!0;var s=r.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(i)){var h=new ut(t,r),l=1e-7;if(h.getDistance(t.add(e))<l&&h.getDistance(r.add(i))<l){var f=s.dot(s),c=s.dot(e)/f,_=s.dot(i)/f;return c>=0&&c<=1&&_<=0&&_>=-1}}return!1},isLinear:function(t,e,i,r){var s=r.subtract(t).divide(3);return e.equals(s)&&i.negate().equals(s)}},function(t,e){this[e]=function(i){var r=this._segment1,s=this._segment2;return t(r._point,r._handleOut,s._handleIn,s._point,i)},this.statics[e]=function(i,r){var s=i[0],h=i[1],l=i[6],f=i[7];return t(new A(s,h),new A(i[2]-s,i[3]-h),new A(i[4]-l,i[5]-f),new A(l,f),r)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new Ft(this,t):null},getTimeAt:function(t,e){return at.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=A.read(arguments);return t.isZero()?[]:at.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(A.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return at.getTimeOf(this.getValues(),A.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=A.read(arguments),e=this.getValues(),i=at.getNearestTime(e,t),r=at.getPoint(e,i);return new Ft(this,i,r,null,t.getDistance(r))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return a.each(t,function(e){this[e+"At"]=function(i,r){var s=this.getValues();return at[e](s,r?i:at.getTimeAt(s,i))},this[e+"AtTime"]=function(i){return at[e](this.getValues(),i)}},{statics:{_evaluateMethods:t}})},new function(){function t(r){var s=r[0],h=r[1],l=r[2],f=r[3],c=r[4],_=r[5],m=r[6],w=r[7],v=9*(l-c)+3*(m-s),p=6*(s+c)-12*l,k=3*(l-s),x=9*(f-_)+3*(w-h),O=6*(h+_)-12*f,y=3*(f-h);return function(C){var d=(v*C+p)*C+k,S=(x*C+O)*C+y;return Math.sqrt(d*d+S*S)}}function e(r,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-r)*32)))}function i(r,s,h,l){if(s==null||s<0||s>1)return null;var f=r[0],c=r[1],_=r[2],m=r[3],w=r[4],v=r[5],p=r[6],k=r[7],x=R.isZero;x(_-f)&&x(m-c)&&(_=f,m=c),x(w-p)&&x(v-k)&&(w=p,v=k);var O=3*(_-f),y=3*(w-_)-O,C=p-f-O-y,d=3*(m-c),S=3*(v-m)-d,P=k-c-d-S,M,T;if(h===0)M=s===0?f:s===1?p:((C*s+y)*s+O)*s+f,T=s===0?c:s===1?k:((P*s+S)*s+d)*s+c;else{var D=1e-8,N=1-D;if(s<D?(M=O,T=d):s>N?(M=3*(p-w),T=3*(k-v)):(M=(3*C*s+2*y)*s+O,T=(3*P*s+2*S)*s+d),l){M===0&&T===0&&(s<D||s>N)&&(M=w-_,T=v-m);var F=Math.sqrt(M*M+T*T);F&&(M/=F,T/=F)}if(h===3){var w=6*C*s+2*y,v=6*P*s+2*S,U=Math.pow(M*M+T*T,3/2);M=U!==0?(M*v-T*w)/U:0,T=0}}return h===2?new A(T,-M):new A(M,T)}return{statics:{classify:function(r){var s=r[0],h=r[1],l=r[2],f=r[3],c=r[4],_=r[5],m=r[6],w=r[7],v=s*(w-_)+h*(c-m)+m*_-w*c,p=l*(h-w)+f*(m-s)+s*w-h*m,k=c*(f-h)+_*(s-l)+l*h-f*s,x=3*k,O=x-p,y=O-p+v,C=Math.sqrt(y*y+O*O+x*x),d=C!==0?1/C:0,S=R.isZero,P="serpentine";y*=d,O*=d,x*=d;function M(F,U,V){var H=U!==n,q=H&&U>0&&U<1,W=H&&V>0&&V<1;return H&&(!(q||W)||F==="loop"&&!(q&&W))&&(F="arch",q=W=!1),{type:F,roots:q||W?q&&W?U<V?[U,V]:[V,U]:[q?U:V]:null}}if(S(y))return S(O)?M(S(x)?"line":"quadratic"):M(P,x/(3*O));var T=3*O*O-4*y*x;if(S(T))return M("cusp",O/(2*y));var D=T>0?Math.sqrt(T/3):Math.sqrt(-T),N=2*y;return M(T>0?P:"loop",(O+D)/N,(O-D)/N)},getLength:function(r,s,h,l){if(s===n&&(s=0),h===n&&(h=1),at.isStraight(r)){var f=r;h<1&&(f=at.subdivide(f,h)[0],s/=h),s>0&&(f=at.subdivide(f,s)[1]);var c=f[6]-f[0],_=f[7]-f[1];return Math.sqrt(c*c+_*_)}return R.integrate(l||t(r),s,h,e(s,h))},getTimeAt:function(r,s,h){if(h===n&&(h=s<0?1:0),s===0)return h;var l=Math.abs,f=1e-12,c=s>0,_=c?h:0,m=c?1:h,w=t(r),v=at.getLength(r,_,m,w),p=l(s)-v;if(l(p)<f)return c?m:_;if(p>f)return null;var k=s/v,x=0;function O(y){return x+=R.integrate(w,h,y,e(h,y)),h=y,x-s}return R.findRoot(O,w,h+k,_,m,32,1e-12)},getPoint:function(r,s){return i(r,s,0,!1)},getTangent:function(r,s){return i(r,s,1,!0)},getWeightedTangent:function(r,s){return i(r,s,1,!1)},getNormal:function(r,s){return i(r,s,2,!0)},getWeightedNormal:function(r,s){return i(r,s,2,!1)},getCurvature:function(r,s){return i(r,s,3,!1).x},getPeaks:function(r){var s=r[0],h=r[1],l=r[2],f=r[3],c=r[4],_=r[5],m=r[6],w=r[7],v=-s+3*l-3*c+m,p=3*s-6*l+3*c,k=-3*s+3*l,x=-h+3*f-3*_+w,O=3*h-6*f+3*_,y=-3*h+3*f,C=1e-8,d=1-C,S=[];return R.solveCubic(9*(v*v+x*x),9*(v*p+O*x),2*(p*p+O*O)+3*(k*v+y*x),k*p+O*y,S,C,d),S.sort()}}}},new function(){function t(p,k,x,O,y,C,d){var S=!d&&x.getPrevious()===y,P=!d&&x!==y&&x.getNext()===y,M=1e-8,T=1-M;if(O!==null&&O>=(S?M:0)&&O<=(P?T:1)&&C!==null&&C>=(P?M:0)&&C<=(S?T:1)){var D=new Ft(x,O,null,d),N=new Ft(y,C,null,d);D._intersection=N,N._intersection=D,(!k||k(D))&&Ft.insert(p,D,!0)}}function e(p,k,x,O,y,C,d,S,P,M,T,D,N){if(++P>=4096||++S>=40)return P;var F=1e-9,U=k[0],V=k[1],H=k[6],q=k[7],W=ut.getSignedDistance,X=W(U,V,H,q,k[2],k[3]),J=W(U,V,H,q,k[4],k[5]),nt=X*J>0?3/4:4/9,ht=nt*Math.min(0,X,J),dt=nt*Math.max(0,X,J),gt=W(U,V,H,q,p[0],p[1]),tt=W(U,V,H,q,p[2],p[3]),st=W(U,V,H,q,p[4],p[5]),ft=W(U,V,H,q,p[6],p[7]),wt=i(gt,tt,st,ft),pt=wt[0],xt=wt[1],bt,kt;if(X===0&&J===0&&gt===0&&tt===0&&st===0&&ft===0||(bt=r(pt,xt,ht,dt))==null||(kt=r(pt.reverse(),xt.reverse(),ht,dt))==null)return P;var It=M+(T-M)*bt,Pt=M+(T-M)*kt;if(Math.max(N-D,Pt-It)<F){var ae=(It+Pt)/2,ue=(D+N)/2;t(y,C,d?O:x,d?ue:ae,d?x:O,d?ae:ue)}else{p=at.getPart(p,bt,kt);var _e=N-D;if(kt-bt>.8)if(Pt-It>_e){var Qt=at.subdivide(p,.5),ae=(It+Pt)/2;P=e(k,Qt[0],O,x,y,C,!d,S,P,D,N,It,ae),P=e(k,Qt[1],O,x,y,C,!d,S,P,D,N,ae,Pt)}else{var Qt=at.subdivide(k,.5),ue=(D+N)/2;P=e(Qt[0],p,O,x,y,C,!d,S,P,D,ue,It,Pt),P=e(Qt[1],p,O,x,y,C,!d,S,P,ue,N,It,Pt)}else _e===0||_e>=F?P=e(k,p,O,x,y,C,!d,S,P,D,N,It,Pt):P=e(p,k,x,O,y,C,d,S,P,It,Pt,D,N)}return P}function i(p,k,x,O){var y=[0,p],C=[1/3,k],d=[2/3,x],S=[1,O],P=k-(2*p+O)/3,M=x-(p+2*O)/3,T;if(P*M<0)T=[[y,C,S],[y,d,S]];else{var D=P/M;T=[D>=2?[y,C,S]:D<=.5?[y,d,S]:[y,C,d,S],[y,S]]}return(P||M)<0?T.reverse():T}function r(p,k,x,O){return p[0][1]<x?s(p,!0,x):k[0][1]>O?s(k,!1,O):p[0][0]}function s(p,k,x){for(var O=p[0][0],y=p[0][1],C=1,d=p.length;C<d;C++){var S=p[C][0],P=p[C][1];if(k?P>=x:P<=x)return P===x?S:O+(x-y)*(S-O)/(P-y);O=S,y=P}return null}function h(p,k,x,O,y){var C=R.isZero;if(C(O)&&C(y)){var d=at.getTimeOf(p,new A(k,x));return d===null?[]:[d]}for(var S=Math.atan2(-y,O),P=Math.sin(S),M=Math.cos(S),T=[],D=[],N=0;N<8;N+=2){var F=p[N]-k,U=p[N+1]-x;T.push(F*M-U*P,F*P+U*M)}return at.solveCubic(T,1,0,D,0,1),D}function l(p,k,x,O,y,C,d){for(var S=k[0],P=k[1],M=k[6],T=k[7],D=h(p,S,P,M-S,T-P),N=0,F=D.length;N<F;N++){var U=D[N],V=at.getPoint(p,U),H=at.getTimeOf(k,V);H!==null&&t(y,C,d?O:x,d?H:U,d?x:O,d?U:H)}}function f(p,k,x,O,y,C){var d=ut.intersect(p[0],p[1],p[6],p[7],k[0],k[1],k[6],k[7]);d&&t(y,C,x,at.getTimeOf(p,d),O,at.getTimeOf(k,d))}function c(p,k,x,O,y,C){var d=1e-12,S=Math.min,P=Math.max;if(P(p[0],p[2],p[4],p[6])+d>S(k[0],k[2],k[4],k[6])&&S(p[0],p[2],p[4],p[6])-d<P(k[0],k[2],k[4],k[6])&&P(p[1],p[3],p[5],p[7])+d>S(k[1],k[3],k[5],k[7])&&S(p[1],p[3],p[5],p[7])-d<P(k[1],k[3],k[5],k[7])){var M=w(p,k);if(M)for(var T=0;T<2;T++){var D=M[T];t(y,C,x,D[0],O,D[1],!0)}else{var N=at.isStraight(p),F=at.isStraight(k),U=N&&F,V=N&&!F,H=y.length;if((U?f:N||F?l:e)(V?k:p,V?p:k,V?O:x,V?x:O,y,C,V,0,0,0,1,0,1),!U||y.length===H)for(var T=0;T<4;T++){var q=T>>1,W=T&1,X=q*6,J=W*6,nt=new A(p[X],p[X+1]),ht=new A(k[J],k[J+1]);nt.isClose(ht,d)&&t(y,C,x,q,O,W)}}}return y}function _(p,k,x,O){var y=at.classify(p);if(y.type==="loop"){var C=y.roots;t(x,O,k,C[0],k,C[1])}return x}function m(p,k,x,O,y,C){var d=1e-7,S=!k;S&&(k=p);for(var P=p.length,M=k.length,T=new Array(P),D=S?T:new Array(M),N=[],F=0;F<P;F++)T[F]=p[F].getValues(O);if(!S)for(var F=0;F<M;F++)D[F]=k[F].getValues(y);for(var U=E.findCurveBoundsCollisions(T,D,d),V=0;V<P;V++){var H=p[V],q=T[V];S&&_(q,H,N,x);var W=U[V];if(W)for(var X=0;X<W.length;X++){if(C&&N.length)return N;var J=W[X];if(!S||J>V){var nt=k[J],ht=D[J];c(q,ht,H,nt,N,x)}}}return N}function w(p,k){function x(ft){var wt=ft[6]-ft[0],pt=ft[7]-ft[1];return wt*wt+pt*pt}var O=Math.abs,y=ut.getDistance,C=1e-8,d=1e-7,S=at.isStraight(p),P=at.isStraight(k),M=S&&P,T=x(p)<x(k),D=T?k:p,N=T?p:k,F=D[0],U=D[1],V=D[6]-F,H=D[7]-U;if(y(F,U,V,H,N[0],N[1],!0)<d&&y(F,U,V,H,N[6],N[7],!0)<d)!M&&y(F,U,V,H,D[2],D[3],!0)<d&&y(F,U,V,H,D[4],D[5],!0)<d&&y(F,U,V,H,N[2],N[3],!0)<d&&y(F,U,V,H,N[4],N[5],!0)<d&&(S=P=M=!0);else if(M)return null;if(S^P)return null;for(var q=[p,k],W=[],X=0;X<4&&W.length<2;X++){var J=X&1,nt=J^1,ht=X>>1,dt=at.getTimeOf(q[J],new A(q[nt][ht?6:0],q[nt][ht?7:1]));if(dt!=null){var gt=J?[ht,dt]:[dt,ht];(!W.length||O(gt[0]-W[0][0])>C&&O(gt[1]-W[0][1])>C)&&W.push(gt)}if(X>2&&!W.length)break}if(W.length!==2)W=null;else if(!M){var tt=at.getPart(p,W[0][0],W[1][0]),st=at.getPart(k,W[0][1],W[1][1]);(O(st[2]-tt[2])>d||O(st[3]-tt[3])>d||O(st[4]-tt[4])>d||O(st[5]-tt[5])>d)&&(W=null)}return W}function v(p,k){var x=p[0],O=p[1],y=p[2],C=p[3],d=p[4],S=p[5],P=p[6],M=p[7],T=k.normalize(),D=T.x,N=T.y,F=3*P-9*d+9*y-3*x,U=3*M-9*S+9*C-3*O,V=6*d-12*y+6*x,H=6*S-12*C+6*O,q=3*y-3*x,W=3*C-3*O,X=2*F*N-2*U*D,J=[];if(Math.abs(X)<R.CURVETIME_EPSILON){var nt=F*W-U*q,X=F*H-U*V;if(X!=0){var ht=-nt/X;ht>=0&&ht<=1&&J.push(ht)}}else{var dt=(V*V-4*F*q)*N*N+(-2*V*H+4*U*q+4*F*W)*D*N+(H*H-4*U*W)*D*D,gt=V*N-H*D;if(dt>=0&&X!=0){var tt=Math.sqrt(dt),st=-(gt+tt)/X,ft=(-gt+tt)/X;st>=0&&st<=1&&J.push(st),ft>=0&&ft<=1&&J.push(ft)}}return J}return{getIntersections:function(p){var k=this.getValues(),x=p&&p!==this&&p.getValues();return x?c(k,x,this,p,[]):_(k,this,[])},statics:{getOverlaps:w,getIntersections:m,getCurveLineIntersections:h,getTimesWithTangent:v}}}),Ft=a.extend({_class:"CurveLocation",initialize:function(e,i,r,s,h){if(i>=.99999999){var l=e.getNext();l&&(i=0,e=l)}this._setCurve(e),this._time=i,this._point=r||e.getPointAtTime(i),this._overlap=s,this._distance=h,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();i===0?t=e._segment1:i===1?t=e._segment2:i!=null&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(r){var s=r&&r.getCurve();if(s&&(e._time=s.getTimeOf(e._point))!=null)return e._setCurve(s),s}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&e==null?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var e=this.getPath(),i=this.getIndex();if(e&&i!=null)for(var r=e.getCurves(),s=0;s<i;s++)t+=r[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=i!=null&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof Ft){var r=this.getCurve(),s=t.getCurve(),h=r._path,l=s._path;if(h===l){var f=Math.abs,c=1e-7,_=f(this.getOffset()-t.getOffset()),m=!e&&this._intersection,w=!e&&t._intersection;i=(_<c||h&&f(h.getLength()-_)<c)&&(!m&&!w||m&&w&&m.equals(w,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=L.instance;e&&t.push("point: "+e);var r=this.getIndex();r!=null&&t.push("index: "+r);var s=this.getTime();return s!=null&&t.push("time: "+i.number(s)),this._distance!=null&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),i=t.getTime(),r=1e-8,s=1-r,h=e>=r&&e<=s,l=i>=r&&i<=s;if(h&&l)return!this.isTouching();var f=this.getCurve(),c=f&&e<r?f.getPrevious():f,_=t.getCurve(),m=_&&i<r?_.getPrevious():_;if(e>s&&(f=f.getNext()),i>s&&(_=_.getNext()),!c||!f||!m||!_)return!1;var w=[];function v(D,N){var F=D.getValues(),U=at.classify(F).roots||at.getPeaks(F),V=U.length,H=at.getLength(F,N&&V?U[V-1]:0,!N&&V?U[0]:1);w.push(V?H:H/32)}function p(D,N,F){return N<F?D>N&&D<F:D>N||D<F}h||(v(c,!0),v(f,!1)),l||(v(m,!0),v(_,!1));var k=this.getPoint(),x=Math.min.apply(Math,w),O=h?f.getTangentAtTime(e):f.getPointAt(x).subtract(k),y=h?O.negate():c.getPointAt(-x).subtract(k),C=l?_.getTangentAtTime(i):_.getPointAt(x).subtract(k),d=l?C.negate():m.getPointAt(-x).subtract(k),S=y.getAngle(),P=O.getAngle(),M=d.getAngle(),T=C.getAngle();return!!(h?p(S,M,T)^p(P,M,T)&&p(S,T,M)^p(P,T,M):p(M,S,P)^p(T,S,P)&&p(M,P,S)^p(T,P,S))},hasOverlap:function(){return!!this._overlap}},a.each(at._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var i=this.getCurve(),r=this.getTime();return r!=null&&i&&i[e](r,!0)}},{preserve:!0}),new function(){function t(e,i,r){var s=e.length,h=0,l=s-1;function f(k,x){for(var O=k+x;O>=-1&&O<=s;O+=x){var y=e[(O%s+s)%s];if(!i.getPoint().isClose(y.getPoint(),1e-7))break;if(i.equals(y))return y}return null}for(;h<=l;){var c=h+l>>>1,_=e[c],m;if(r&&(m=i.equals(_)?_:f(c,-1)||f(c,1)))return i._overlap&&(m._overlap=m._intersection._overlap=!0),m;var w=i.getPath(),v=_.getPath(),p=w!==v?w._id-v._id:i.getIndex()+i.getTime()-(_.getIndex()+_.getTime());p<0?l=c-1:h=c+1}return e.splice(h,0,i),i}return{statics:{insert:t,expand:function(e){for(var i=e.slice(),r=e.length-1;r>=0;r--)t(i,e[r]._intersection,!1);return i}}}}),qt=et.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,r;if(a.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:typeof t=="string"&&(e=t),i){var s=i[0];r=s&&Array.isArray(s[0])}else e&&(r=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var h=r?fe:Ct;return new h(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,r=!1,s,h,l=new A,f=new A;function c(d,S){var P=+i[d];return r&&(P+=l[S]),P}function _(d){return new A(c(d,"x"),c(d+1,"y"))}this.clear();for(var m=0,w=e&&e.length;m<w;m++){var v=e[m],p=v[0],k=p.toLowerCase();i=v.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var x=i&&i.length;switch(r=p===k,s==="z"&&!/[mz]/.test(k)&&this.moveTo(l),k){case"m":case"l":for(var O=k==="m",y=0;y<x;y+=2)this[O?"moveTo":"lineTo"](l=_(y)),O&&(f=l,O=!1);h=l;break;case"h":case"v":var C=k==="h"?"x":"y";l=l.clone();for(var y=0;y<x;y++)l[C]=c(y,C),this.lineTo(l);h=l;break;case"c":for(var y=0;y<x;y+=6)this.cubicCurveTo(_(y),h=_(y+2),l=_(y+4));break;case"s":for(var y=0;y<x;y+=4)this.cubicCurveTo(/[cs]/.test(s)?l.multiply(2).subtract(h):l,h=_(y),l=_(y+2)),s=k;break;case"q":for(var y=0;y<x;y+=4)this.quadraticCurveTo(h=_(y),l=_(y+2));break;case"t":for(var y=0;y<x;y+=2)this.quadraticCurveTo(h=/[qt]/.test(s)?l.multiply(2).subtract(h):l,l=_(y)),s=k;break;case"a":for(var y=0;y<x;y+=7)this.arcTo(l=_(y+5),new Y(+i[y],+i[y+1]),+i[y+2],+i[y+4],+i[y+3]);break;case"z":this.closePath(1e-12),l=f;break}s=k}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(t,e,i,r){var s=this===t||!t,h=this._matrix._orNullIfIdentity(),l=s?h:(i||t._matrix)._orNullIfIdentity();return s||this.getBounds(h).intersects(t.getBounds(l),1e-12)?at.getIntersections(this.getCurves(),!s&&t.getCurves(),e,h,l,r):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=A.read(arguments),e=this.getCurves(),i=1/0,r=null,s=0,h=e.length;s<h;s++){var l=e[s].getNearestLocation(t);l._distance<i&&(i=l._distance,r=l)}return r},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,i){var r=!this._children,s=r?"_segments":"_children",h=t[s],l=e[s],f=this[s];if(!h||!l||h.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var c=f.length,_=l.length;if(c<_)for(var m=r?yt:Ct,w=c;w<_;w++)this.add(new m);else c>_&&this[r?"removeSegments":"removeChildren"](_,c);for(var w=0;w<_;w++)f[w].interpolate(h[w],l[w],i);r&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],r=t._children?t._children.slice():[t],s=i.length,h=r.length,l=[],f=0;e=!0;for(var c=E.findItemBoundsCollisions(i,r,R.GEOMETRIC_EPSILON),_=s-1;_>=0&&e;_--){var m=i[_];e=!1;var w=c[_];if(w)for(var v=w.length-1;v>=0&&!e;v--)m.compare(r[w[v]])&&(l[w[v]]||(l[w[v]]=!0,f++),e=!0)}e=e&&f===h}return e}}),Ct=qt.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var i=arguments,r=Array.isArray(e)?typeof e[0]=="object"?e:i:e&&e.size===n&&(e.x!==n||e.point!==n)?i:null;r&&r.length>0?this.setSegments(r):(this._curves=n,this._segmentSelection=0,!r&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!r&&e)},_equals:function(t){return this._closed===t._closed&&a.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),e&8){if(this._length=this._area=n,e&32)this._version++;else if(this._curves)for(var i=0,r=this._curves.length;i<r;i++)this._curves[i]._changed()}else e&64&&(this._bounds=n)},getStyle:function(){var t=this._parent;return(t instanceof fe?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),i=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=n,i){var r=t[i-1];typeof r=="boolean"&&(this.setClosed(r),i--),this._add(yt.readList(t,0,{},i))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var r=0;r<i;r++)t[r]=new at(this,e[r],e[r+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new at(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var i=this._segments,r=i.length,s=new L(e),h=new Array(6),l=!0,f,c,_,m,w,v,p,k,x=[];function O(C,d){if(C._transformCoordinates(t,h),f=h[0],c=h[1],l)x.push("M"+s.pair(f,c)),l=!1;else if(w=h[2],v=h[3],w===f&&v===c&&p===_&&k===m){if(!d){var S=f-_,P=c-m;x.push(S===0?"v"+s.number(P):P===0?"h"+s.number(S):"l"+s.pair(S,P))}}else x.push("c"+s.pair(p-_,k-m)+" "+s.pair(w-_,v-m)+" "+s.pair(f-_,c-m));_=f,m=c,p=h[4],k=h[5]}if(!r)return"";for(var y=0;y<r;y++)O(i[y]);return this._closed&&r>0&&(O(i[0],!0),x.push("z")),x.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),r=0,s=e.length;r<s;r++)e[r]._transformCoordinates(t,i,!0);return!0},_add:function(t,l){for(var i=this._segments,r=this._curves,s=t.length,h=l==null,l=h?i.length:l,f=0;f<s;f++){var c=t[f];c._path&&(c=t[f]=c.clone()),c._path=this,c._index=l+f,c._selection&&this._updateSelection(c,0,c._selection)}if(h)a.push(i,t);else{i.splice.apply(i,[l,0].concat(t));for(var f=l+s,_=i.length;f<_;f++)i[f]._index=f}if(r){var m=this._countCurves(),w=l>0&&l+s-1===m?l-1:l,v=w,p=Math.min(w+s,m);t._curves&&(r.splice.apply(r,[w,0].concat(t._curves)),v+=t._curves.length);for(var f=v;f<p;f++)r.splice(f,0,new at(this,null,null));this._adjustCurves(w,p)}return this._changed(41),t},_adjustCurves:function(t,e){for(var i=this._segments,r=this._curves,s,h=t;h<e;h++)s=r[h],s._path=this,s._segment1=i[h],s._segment2=i[h+1]||i[0],s._changed();(s=r[this._closed&&!t?i.length-1:t-1])&&(s._segment2=i[t]||i[0],s._changed()),(s=r[e])&&(s._segment1=i[e],s._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&typeof t!="number"?this._add(yt.readList(e)):this._add([yt.read(e)])[0]},insert:function(t,e){var i=arguments;return i.length>2&&typeof e!="number"?this._add(yt.readList(i,1),t):this._add([yt.read(i,1)],t)[0]},addSegment:function(){return this._add([yt.read(arguments)])[0]},insertSegment:function(t){return this._add([yt.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(yt.readList(t))},insertSegments:function(t,e){return this._add(yt.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=a.pick(e,this._segments.length);var r=this._segments,s=this._curves,h=r.length,l=r.splice(t,e-t),f=l.length;if(!f)return l;for(var c=0;c<f;c++){var _=l[c];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var c=t,m=r.length;c<m;c++)r[c]._index=c;if(s){for(var w=t>0&&e===h+(this._closed?1:0)?t-1:t,s=s.splice(w,f),c=s.length-1;c>=0;c--)s[c]._path=null;i&&(l._curves=s.slice(1)),this._adjustCurves(w,w)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),e=0,i=0,r=t.length;i<r;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(t==null){var e=this._segments,i=this._closed;t=0;for(var r=0,s=e.length;r<s;r++){var h=r+1===s;t+=at.getArea(at.getValues(e[r],e[h?0:r+1],null,h&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){e&1||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,i=e.length,r=t?7:0;this._segmentSelection=r*i;for(var s=0;s<i;s++)e[s]._selection=r},_updateSelection:function(t,e,i){t._selection=i;var r=this._segmentSelection+=i-e;r>0&&this.setSelected(!0)},divideAt:function(t){var e=this.getLocationAt(t),i;return e&&(i=e.getCurve().divideAt(e.getCurveOffset()))?i._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,r=e&&e.time,s=1e-8,h=1-s;r>h&&(i++,r=0);var l=this.getCurves();if(i>=0&&i<l.length){r>=s&&l[i++].divideAtTime(r);var f=this.removeSegments(i,this._segments.length,!0),c;return this._closed?(this.setClosed(!1),c=this):(c=new Ct(et.NO_INSERT),c.insertAbove(this),c.copyAttributes(this)),c._add(f,0),this.addSegment(f[0]),c}return null},split:function(t,e){var i,r=e===n?t:(i=this.getCurves()[t])&&i.getLocationAtTime(e);return r!=null?this.splitAt(r):null},join:function(t,e){var i=e||0;if(t&&t!==this){var r=t._segments,s=this.getLastSegment(),h=t.getLastSegment();if(!h)return this;s&&s._point.isClose(h._point,i)&&t.reverse();var l=t.getFirstSegment();if(s&&s._point.isClose(l._point,i))s.setHandleOut(l._handleOut),this._add(r.slice(1));else{var f=this.getFirstSegment();f&&f._point.isClose(l._point,i)&&t.reverse(),h=t.getLastSegment(),f&&f._point.isClose(h._point,i)?(f.setHandleIn(h._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}t._closed&&this._add([r[0]]),t.remove()}var c=this.getFirstSegment(),_=this.getLastSegment();return c!==_&&c._point.isClose(_._point,i)&&(c.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,r=i?1e-7:0,s=e.length-1;s>=0;s--){var h=e[s];!h.hasHandles()&&(!h.hasLength(r)||i&&h.isCollinear(h.getNext()))&&h.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],r=i._handleIn;i._handleIn=i._handleOut,i._handleOut=r,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new Ye(this,t||.25,256,!0),i=e.parts,r=i.length,s=[],h=0;h<r;h++)s.push(new yt(i[h].curve.slice(0,2)));!this._closed&&r>0&&s.push(new yt(i[r-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new wi(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,i=t||{},r=i.type||"asymmetric",s=this._segments,h=s.length,l=this._closed;function f(pt,xt){var bt=pt&&pt.index;if(bt!=null){var kt=pt.path;if(kt&&kt!==e)throw new Error(pt._class+" "+bt+" of "+kt+" is not part of "+e);xt&&pt instanceof at&&bt++}else bt=typeof pt=="number"?pt:xt;return Math.min(bt<0&&l?bt%h:bt<0?bt+h:bt,h-1)}var c=l&&i.from===n&&i.to===n,_=f(i.from,0),m=f(i.to,h-1);if(_>m)if(l)_-=h;else{var w=_;_=m,m=w}if(/^(?:asymmetric|continuous)$/.test(r)){var v=r==="asymmetric",p=Math.min,k=m-_+1,x=k-1,O=c?p(k,4):1,y=O,C=O,d=[];if(l||(y=p(1,_),C=p(1,h-m-1)),x+=y+C,x<=1)return;for(var S=0,P=_-y;S<=x;S++,P++)d[S]=s[(P<0?P+h:P)%h]._point;for(var M=d[0]._x+2*d[1]._x,T=d[0]._y+2*d[1]._y,D=2,N=x-1,F=[M],U=[T],V=[D],H=[],q=[],S=1;S<x;S++){var W=S<N,X=W||v?1:2,J=W?4:v?2:7,nt=W?4:v?3:8,ht=W?2:v?0:1,dt=X/D;D=V[S]=J-dt,M=F[S]=nt*d[S]._x+ht*d[S+1]._x-dt*M,T=U[S]=nt*d[S]._y+ht*d[S+1]._y-dt*T}H[N]=F[N]/V[N],q[N]=U[N]/V[N];for(var S=x-2;S>=0;S--)H[S]=(F[S]-H[S+1])/V[S],q[S]=(U[S]-q[S+1])/V[S];H[x]=(3*d[x]._x-H[N])/2,q[x]=(3*d[x]._y-q[N])/2;for(var S=y,gt=x-C,P=_;S<=gt;S++,P++){var tt=s[P<0?P+h:P],st=tt._point,ft=H[S]-st._x,wt=q[S]-st._y;(c||S<gt)&&tt.setHandleOut(ft,wt),(c||S>y)&&tt.setHandleIn(-ft,-wt)}}else for(var S=_;S<=m;S++)s[S<0?S+h:S].smooth(i,!c&&S===_,!c&&S===m)},toShape:function(t){if(!this._closed)return null;var e=this._segments,i,r,s,h;function l(v,p){var k=e[v],x=k.getNext(),O=e[p],y=O.getNext();return k._handleOut.isZero()&&x._handleIn.isZero()&&O._handleOut.isZero()&&y._handleIn.isZero()&&x._point.subtract(k._point).isCollinear(y._point.subtract(O._point))}function f(v){var p=e[v],k=p.getPrevious(),x=p.getNext();return k._handleOut.isZero()&&p._handleIn.isZero()&&p._handleOut.isZero()&&x._handleIn.isZero()&&p._point.subtract(k._point).isOrthogonal(x._point.subtract(p._point))}function c(v){var p=e[v],k=p.getNext(),x=p._handleOut,O=k._handleIn,y=.5522847498307936;if(x.isOrthogonal(O)){var C=p._point,d=k._point,S=new ut(C,x,!0).intersect(new ut(d,O,!0),!0);return S&&R.isZero(x.getLength()/S.subtract(C).getLength()-y)&&R.isZero(O.getLength()/S.subtract(d).getLength()-y)}return!1}function _(v,p){return e[v]._point.getDistance(e[p]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&f(1)?(i=ct.Rectangle,r=new Y(_(0,3),_(0,1)),h=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&c(0)&&c(2)&&c(4)&&c(6)&&l(1,5)&&l(3,7)?(i=ct.Rectangle,r=new Y(_(1,6),_(0,3)),s=r.subtract(new Y(_(0,7),_(1,2))).divide(2),h=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&c(0)&&c(1)&&c(2)&&c(3)&&(R.isZero(_(0,2)-_(1,3))?(i=ct.Circle,s=_(0,2)/2):(i=ct.Ellipse,s=new Y(_(2,0)/2,_(3,1)/2)),h=e[1]._point),i){var m=this.getPosition(!0),w=new i({center:m,size:r,radius:s,insert:!1});return w.copyAttributes(this,!0),w._matrix.prepend(this._matrix),w.rotate(h.subtract(m).getAngle()+90),(t===n||t)&&w.insertAbove(this),w}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof fe)return t.base.call(this,e);var i=this.getCurves(),r=e.getCurves(),s=i.length,h=r.length;if(!s||!h)return s==h;for(var l=i[0].getValues(),f=[],c=0,_,m=0,w,v=0;v<h;v++){var O=r[v].getValues();f.push(O);var p=at.getOverlaps(l,O);if(p){_=!v&&p[0][0]>0?h-1:v,w=p[0][1];break}}for(var k=Math.abs,x=1e-8,O=f[_],y;l&&O;){var p=at.getOverlaps(l,O);if(p){var C=p[0][0];if(k(C-m)<x){m=p[1][0],m===1&&(l=++c<s?i[c].getValues():null,m=0);var d=p[0][1];if(k(d-w)<x){if(y||(y=[_,d]),w=p[1][1],w===1&&(++_>=h&&(_=0),O=f[_]||r[_].getValues(),w=0),!l)return y[0]===_&&y[1]===w;continue}}}break}return!1},_hitTestSelf:function(t,e,i,r){var s=this,h=this.getStyle(),l=this._segments,f=l.length,c=this._closed,_=e._tolerancePadding,m=_,w,v,p,k,x,O,y=e.stroke&&h.hasStroke(),C=e.fill&&h.hasFill(),d=e.curves,S=y?h.getStrokeWidth()/2:C&&e.tolerance>0||d?0:null;S!==null&&(S>0?(w=h.getStrokeJoin(),v=h.getStrokeCap(),p=h.getMiterLimit(),m=m.add(Ct._getStrokePadding(S,r))):w=v="round");function P(H,q){return t.subtract(H).divide(q).length<=1}function M(H,q,W){if(!e.selected||q.isSelected()){var X=H._point;if(q!==X&&(q=q.add(X)),P(q,m))return new Rt(W,s,{segment:H,point:q})}}function T(H,q){return(q||e.segments)&&M(H,H._point,"segment")||!q&&e.handles&&(M(H,H._handleIn,"handle-in")||M(H,H._handleOut,"handle-out"))}function D(H){k.add(H)}function N(H){var q=c||H._index>0&&H._index<f-1;if((q?w:v)==="round")return P(H._point,m);if(k=new Ct({internal:!0,closed:!0}),q?H.isSmooth()||Ct._addBevelJoin(H,w,S,p,null,r,D,!0):v==="square"&&Ct._addSquareCap(H,v,S,null,r,D,!0),!k.isEmpty()){var W;return k.contains(t)||(W=k.getNearestLocation(t))&&P(W.getPoint(),_)}}if(e.ends&&!e.segments&&!c){if(O=T(l[0],!0)||T(l[f-1],!0))return O}else if(e.segments||e.handles){for(var F=0;F<f;F++)if(O=T(l[F]))return O}if(S!==null){if(x=this.getNearestLocation(t),x){var U=x.getTime();U===0||U===1&&f>1?N(x.getSegment())||(x=null):P(x.getPoint(),m)||(x=null)}if(!x&&w==="miter"&&f>1)for(var F=0;F<f;F++){var V=l[F];if(t.getDistance(V._point)<=p*S&&N(V)){x=V.getLocation();break}}}return!x&&C&&this._contains(t)||x&&!y&&!d?new Rt("fill",this):x?new Rt(y?"stroke":"curve",this,{location:x,point:x.getPoint()}):null}},a.each(at._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=A.read(arguments),e=this.getCurves(),i=0,r=e.length;i<r;i++){var s=e[i].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var e=this.getCurves(),i=0,r=0,s=e.length;r<s;r++){var h=i,l=e[r];if(i+=l.getLength(),i>t)return l.getLocationAt(t-h)}if(e.length>0&&t<=this.getLength())return new Ft(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=A.read(arguments);if(t.isZero())return[];for(var e=[],i=0,r=this.getCurves(),s=0,h=r.length;s<h;s++){for(var l=r[s],f=l.getTimesWithTangent(t),c=0,_=f.length;c<_;c++){var m=i+l.getOffsetAtTime(f[c]);e.indexOf(m)<0&&e.push(m)}i+=l.length}return e}}),new function(){function t(i,r,s,h){if(h<=0)return;var l=h/2,f=h-2,c=l-1,_=new Array(6),m,w;function v(C){var d=_[C],S=_[C+1];(m!=d||w!=S)&&(i.beginPath(),i.moveTo(m,w),i.lineTo(d,S),i.stroke(),i.beginPath(),i.arc(d,S,l,0,Math.PI*2,!0),i.fill())}for(var p=0,k=r.length;p<k;p++){var x=r[p],O=x._selection;if(x._transformCoordinates(s,_),m=_[0],w=_[1],O&2&&v(2),O&4&&v(4),i.fillRect(m-l,w-l,h,h),f>0&&!(O&1)){var y=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(m-c,w-c,f,f),i.fillStyle=y}}}function e(i,r,s){var h=r._segments,l=h.length,f=new Array(6),c=!0,_,m,w,v,p,k,x,O;function y(d){if(s)d._transformCoordinates(s,f),_=f[0],m=f[1];else{var S=d._point;_=S._x,m=S._y}if(c)i.moveTo(_,m),c=!1;else{if(s)p=f[2],k=f[3];else{var P=d._handleIn;p=_+P._x,k=m+P._y}p===_&&k===m&&x===w&&O===v?i.lineTo(_,m):i.bezierCurveTo(x,O,p,k,_,m)}if(w=_,v=m,s)x=f[4],O=f[5];else{var P=d._handleOut;x=w+P._x,O=v+P._y}}for(var C=0;C<l;C++)y(h[C]);r._closed&&l>0&&y(h[0])}return{_draw:function(i,r,s,h){var l=r.dontStart,f=r.dontFinish||r.clip,c=this.getStyle(),_=c.hasFill(),m=c.hasStroke(),w=c.getDashArray(),v=!Et.support.nativeDash&&m&&w&&w.length;l||i.beginPath(),(_||m&&!v||f)&&(e(i,this,h),this._closed&&i.closePath());function p(d){return w[(d%v+v)%v]}if(!f&&(_||m)&&(this._setStyles(i,r,s),_&&(i.fill(c.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),m)){if(v){l||i.beginPath();for(var k=new Ye(this,.25,32,!1,h),x=k.length,O=-c.getDashOffset(),y,C=0;O>0;)O-=p(C--)+p(C--);for(;O<x;)y=O+p(C++),(O>0||y>0)&&k.drawPart(i,Math.max(O,0),Math.max(y,0)),O=y+p(C++)}i.stroke()}},_drawSelected:function(i,r){i.beginPath(),e(i,this,r),i.stroke(),t(i,this._segments,r,Et.settings.handleSize)}}},new function(){function t(e){var i=e._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new yt(A.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new yt(A.read(arguments))])},cubicCurveTo:function(){var e=arguments,i=A.read(e),r=A.read(e),s=A.read(e),h=t(this);h.setHandleOut(i.subtract(h._point)),this._add([new yt(s,r.subtract(s))])},quadraticCurveTo:function(){var e=arguments,i=A.read(e),r=A.read(e),s=t(this)._point;this.cubicCurveTo(i.add(s.subtract(i).multiply(1/3)),i.add(r.subtract(i).multiply(1/3)),r)},curveTo:function(){var e=arguments,i=A.read(e),r=A.read(e),s=a.pick(a.read(e),.5),h=1-s,l=t(this)._point,f=i.subtract(l.multiply(h*h)).subtract(r.multiply(s*s)).divide(2*s*h);if(f.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(f,r)},arcTo:function(){var e=arguments,i=Math.abs,r=Math.sqrt,s=t(this),h=s._point,l=A.read(e),f,c=a.peek(e),_=a.pick(c,!0),m,w,v,p;if(typeof _=="boolean")var k=h.add(l).divide(2),f=k.add(k.subtract(h).rotate(_?-90:90));else if(a.remain(e)<=2)f=l,l=A.read(e);else if(!h.equals(l)){var x=Y.read(e),O=R.isZero;if(O(x.width)||O(x.height))return this.lineTo(l);var y=a.read(e),_=!!a.read(e),C=!!a.read(e),k=h.add(l).divide(2),d=h.subtract(k).rotate(-y),S=d.x,P=d.y,M=i(x.width),T=i(x.height),D=M*M,N=T*T,F=S*S,U=P*P,V=r(F/D+U/N);if(V>1&&(M*=V,T*=V,D=M*M,N=T*T),V=(D*N-D*U-N*F)/(D*U+N*F),i(V)<1e-12&&(V=0),V<0)throw new Error("Cannot create an arc with the given arguments");m=new A(M*P/T,-T*S/M).multiply((C===_?-1:1)*r(V)).rotate(y).add(k),p=new it().translate(m).rotate(y).scale(M,T),v=p._inverseTransform(h),w=v.getDirectedAngle(p._inverseTransform(l)),!_&&w>0?w-=360:_&&w<0&&(w+=360)}if(f){var H=new ut(h.add(f).divide(2),f.subtract(h).rotate(90),!0),q=new ut(f.add(l).divide(2),l.subtract(f).rotate(90),!0),W=new ut(h,l),X=W.getSide(f);if(m=H.intersect(q,!0),!m){if(!X)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}v=h.subtract(m),w=v.getDirectedAngle(l.subtract(m));var J=W.getSide(m,!0);J===0?w=X*i(w):X===J&&(w+=w<0?360:-360)}if(w){for(var nt=1e-5,ht=i(w),dt=ht>=360?4:Math.ceil((ht-nt)/90),gt=w/dt,tt=gt*Math.PI/360,st=4/3*Math.sin(tt)/(1+Math.cos(tt)),ft=[],wt=0;wt<=dt;wt++){var d=l,pt=null;if(wt<dt&&(pt=v.rotate(90).multiply(st),p?(d=p._transformPoint(v),pt=p._transformPoint(v.add(pt)).subtract(d)):d=m.add(v)),!wt)s.setHandleOut(pt);else{var xt=v.rotate(-90).multiply(st);p&&(xt=p._transformPoint(v.add(xt)).subtract(d)),ft.push(new yt(d,xt,pt))}v=v.rotate(gt)}this._add(ft)}},lineBy:function(){var e=A.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=arguments,i=A.read(e),r=A.read(e),s=a.read(e),h=t(this)._point;this.curveTo(h.add(i),h.add(r),s)},cubicCurveBy:function(){var e=arguments,i=A.read(e),r=A.read(e),s=A.read(e),h=t(this)._point;this.cubicCurveTo(h.add(i),h.add(r),h.add(s))},quadraticCurveBy:function(){var e=arguments,i=A.read(e),r=A.read(e),s=t(this)._point;this.quadraticCurveTo(s.add(i),s.add(r))},arcBy:function(){var e=arguments,i=t(this)._point,r=i.add(A.read(e)),s=a.pick(a.peek(e),!0);typeof s=="boolean"?this.arcTo(r,s):this.arcTo(r,i.add(A.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return Ct[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,r,s,h){var l=t[0];if(!l)return new j;var f=new Array(6),c=l._transformCoordinates(r,new Array(6)),_=c.slice(0,2),m=_.slice(),w=new Array(2);function v(x){x._transformCoordinates(r,f);for(var O=0;O<2;O++)at._addBounds(c[O],c[O+4],f[O+2],f[O],O,h?h[O]:0,_,m,w);var y=c;c=f,f=y}for(var p=1,k=t.length;p<k;p++)v(t[p]);return e&&v(l),new j(_[0],_[1],m[0]-_[0],m[1]-_[1])},getStrokeBounds:function(t,e,i,r,s){var h=i.getStyle(),l=h.hasStroke(),f=h.getStrokeWidth(),c=l&&i._getStrokeMatrix(r,s),_=l&&Ct._getStrokePadding(f,c),m=Ct.getBounds(t,e,i,r,s,_);if(!l)return m;var w=f/2,v=h.getStrokeJoin(),p=h.getStrokeCap(),k=h.getMiterLimit(),x=new j(new Y(_));function O(M){m=m.include(M)}function y(M){m=m.unite(x.setCenter(M._point.transform(r)))}function C(M,T){T==="round"||M.isSmooth()?y(M):Ct._addBevelJoin(M,T,w,k,r,c,O)}function d(M,T){T==="round"?y(M):Ct._addSquareCap(M,T,w,r,c,O)}var S=t.length-(e?0:1);if(S>0){for(var P=1;P<S;P++)C(t[P],v);e?C(t[0],v):(d(t[0],p),d(t[t.length-1],p))}return m},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new A(t,0).transform(e),r=new A(0,t).transform(e),s=i.getAngleInRadians(),h=i.getLength(),l=r.getLength(),f=Math.sin(s),c=Math.cos(s),_=Math.tan(s),m=Math.atan2(l*_,h),w=Math.atan2(l,_*h);return[Math.abs(h*Math.cos(m)*c+l*Math.sin(m)*f),Math.abs(l*Math.sin(w)*c+h*Math.cos(w)*f)]},_addBevelJoin:function(t,e,i,r,s,h,l,f){var c=t.getCurve(),_=c.getPrevious(),m=c.getPoint1().transform(s),w=_.getNormalAtTime(1).multiply(i).transform(h),v=c.getNormalAtTime(0).multiply(i).transform(h),p=w.getDirectedAngle(v);if((p<0||p>=180)&&(w=w.negate(),v=v.negate()),f&&l(m),l(m.add(w)),e==="miter"){var k=new ut(m.add(w),new A(-w.y,w.x),!0).intersect(new ut(m.add(v),new A(-v.y,v.x),!0),!0);k&&m.getDistance(k)<=r*i&&l(k)}l(m.add(v))},_addSquareCap:function(t,e,i,r,s,h,l){var f=t._point.transform(r),c=t.getLocation(),_=c.getNormal().multiply(c.getTime()===0?i:-i).transform(s);e==="square"&&(l&&(h(f.subtract(_)),h(f.add(_))),f=f.add(_.rotate(-90))),h(f.add(_)),h(f.subtract(_))},getHandleBounds:function(t,e,i,r,s){var h=i.getStyle(),l=s.stroke&&h.hasStroke(),f,c;if(l){var _=i._getStrokeMatrix(r,s),m=h.getStrokeWidth()/2,w=m;h.getStrokeJoin()==="miter"&&(w=m*h.getMiterLimit()),h.getStrokeCap()==="square"&&(w=Math.max(w,m*Math.SQRT2)),f=Ct._getStrokePadding(m,_),c=Ct._getStrokePadding(w,_)}for(var v=new Array(6),p=1/0,k=-p,x=p,O=k,y=0,C=t.length;y<C;y++){var d=t[y];d._transformCoordinates(r,v);for(var S=0;S<6;S+=2){var P=S?f:c,M=P?P[0]:0,T=P?P[1]:0,D=v[S],N=v[S+1],F=D-M,U=D+M,V=N-T,H=N+T;F<p&&(p=F),U>k&&(k=U),V<x&&(x=V),H>O&&(O=H)}}return new j(p,x,k-p,O-x)}}});Ct.inject({statics:new function(){var t=.5522847498307936,e=[new yt([-1,0],[0,t],[0,-t]),new yt([0,-1],[-t,0],[t,0]),new yt([1,0],[0,-t],[0,t]),new yt([0,1],[t,0],[-t,0])];function i(s,h,l){var f=a.getNamed(l),c=new Ct(f&&(f.insert==!0?et.INSERT:f.insert==!1?et.NO_INSERT:null));return c._add(s),c._closed=h,c.set(f,et.INSERT)}function r(s,h,l){for(var f=new Array(4),c=0;c<4;c++){var _=e[c];f[c]=new yt(_._point.multiply(h).add(s),_._handleIn.multiply(h),_._handleOut.multiply(h))}return i(f,!0,l)}return{Line:function(){var s=arguments;return i([new yt(A.readNamed(s,"from")),new yt(A.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,h=A.readNamed(s,"center"),l=a.readNamed(s,"radius");return r(h,new Y(l),s)},Rectangle:function(){var s=arguments,h=j.readNamed(s,"rectangle"),l=Y.readNamed(s,"radius",0,{readNull:!0}),f=h.getBottomLeft(!0),c=h.getTopLeft(!0),_=h.getTopRight(!0),m=h.getBottomRight(!0),w;if(!l||l.isZero())w=[new yt(f),new yt(c),new yt(_),new yt(m)];else{l=Y.min(l,h.getSize(!0).divide(2));var v=l.width,p=l.height,k=v*t,x=p*t;w=[new yt(f.add(v,0),null,[-k,0]),new yt(f.subtract(0,p),[0,x]),new yt(c.add(0,p),null,[0,-x]),new yt(c.add(v,0),[-k,0],null),new yt(_.subtract(v,0),null,[k,0]),new yt(_.add(0,p),[0,-x],null),new yt(m.subtract(0,p),null,[0,x]),new yt(m.subtract(v,0),[k,0])]}return i(w,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,h=ct._readEllipse(s);return r(h.center,h.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,h=A.readNamed(s,"from"),l=A.readNamed(s,"through"),f=A.readNamed(s,"to"),c=a.getNamed(s),_=new Ct(c&&c.insert==!1&&et.NO_INSERT);return _.moveTo(h),_.arcTo(l,f),_.set(c)},RegularPolygon:function(){for(var s=arguments,h=A.readNamed(s,"center"),l=a.readNamed(s,"sides"),f=a.readNamed(s,"radius"),c=360/l,_=l%3===0,m=new A(0,_?-f:f),w=_?-1:.5,v=new Array(l),p=0;p<l;p++)v[p]=new yt(h.add(m.rotate((p+w)*c)));return i(v,!0,s)},Star:function(){for(var s=arguments,h=A.readNamed(s,"center"),l=a.readNamed(s,"points")*2,f=a.readNamed(s,"radius1"),c=a.readNamed(s,"radius2"),_=360/l,m=new A(0,-1),w=new Array(l),v=0;v<l;v++)w[v]=new yt(h.add(m.rotate(_*v).multiply(v%2?c:f)));return i(w,!0,s)}}}});var fe=qt.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,i){var r=i,s=r[0];s&&typeof s[0]=="number"&&(r=[r]);for(var h=i.length-1;h>=0;h--){var l=r[h];r===i&&!(l instanceof Ct)&&(r=a.slice(r)),Array.isArray(l)?r[h]=new Ct({segments:l,insert:!1}):l instanceof fe&&(r.splice.apply(r,[h,1].concat(l.removeChildren())),l.remove())}return t.base.call(this,e,r)},reduce:function t(e){for(var i=this._children,r=i.length-1;r>=0;r--){var s=i[r].reduce(e);s.isEmpty()&&s.remove()}if(!i.length){var s=new Ct(et.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,r=e.length;i<r;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,r=t.length;i<r;i++)a.push(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,r=t.length;i<r;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,r=t.length;i<r;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,r=[],s=0,h=i.length;s<h;s++){var l=i[s],f=l._matrix;r.push(l.getPathData(t&&!f.isIdentity()?t.appended(f):t,e))}return r.join("")},_hitTestChildren:function t(e,i,r){return t.base.call(this,e,i.class===Ct||i.type==="path"?i:a.set({},i,{fill:!1}),r)},_draw:function(t,e,i,r){var s=this._children;if(!!s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var h=0,l=s.length;h<l;h++)s[h].draw(t,e,r);if(!e.clip){this._setStyles(t,e,i);var f=this._style;f.hasFill()&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),f.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var r=this._children,s=0,h=r.length;s<h;s++){var l=r[s],f=l._matrix;i[l._id]||l._drawSelected(t,f.isIdentity()?e:e.appended(f))}}},new function(){function t(e,i){var r=e._children;if(i&&!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return a.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new Ct(et.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),r=A.read(arguments);this.moveTo(i?r.add(i._point):r)},closePath:function(e){t(this,!0).closePath(e)}})},a.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i=this._children,r,s=0,h=i.length;s<h;s++)r=i[s][t](e)||r;return r}},{}));qt.inject(new function(){var t=Math.min,e=Math.max,i=Math.abs,r={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(y){return y._children||[y]}function h(y,C){var d=y.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(C){for(var S=s(d),P=0,M=S.length;P<M;P++){var y=S[P];!y._closed&&!y.isEmpty()&&(y.closePath(1e-12),y.getFirstSegment().setHandleIn(0,0),y.getLastSegment().setHandleOut(0,0))}d=d.resolveCrossings().reorient(d.getFillRule()==="nonzero",!0)}return d}function l(y,C,d,S,P){var M=new fe(et.NO_INSERT);return M.addChildren(y,!0),M=M.reduce({simplify:C}),P&&P.insert==!1||M.insertAbove(S&&d.isSibling(S)&&d.getIndex()<S.getIndex()?S:d),M.copyAttributes(d,!0),M}function f(y){return y.hasOverlap()||y.isCrossing()}function c(y,C,d,S){if(S&&(S.trace==!1||S.stroke)&&/^(subtract|intersect)$/.test(d))return _(y,C,d);var P=h(y,!0),M=C&&y!==C&&h(C,!0),T=r[d];T[d]=!0,M&&(T.subtract||T.exclude)^(M.isClockwise()^P.isClockwise())&&M.reverse();var D=p(Ft.expand(P.getIntersections(M,f))),N=s(P),F=M&&s(M),U=[],V=[],H;function q(pt){for(var xt=0,bt=pt.length;xt<bt;xt++){var kt=pt[xt];a.push(U,kt._segments),a.push(V,kt.getCurves()),kt._overlapsOnly=!0}}function W(pt){for(var xt=[],bt=0,kt=pt&&pt.length;bt<kt;bt++)xt.push(V[pt[bt]]);return xt}if(D.length){q(N),F&&q(F);for(var X=new Array(V.length),J=0,nt=V.length;J<nt;J++)X[J]=V[J].getValues();for(var ht=E.findCurveBoundsCollisions(X,X,0,!0),dt={},J=0;J<V.length;J++){var gt=V[J],tt=gt._path._id,st=dt[tt]=dt[tt]||{};st[gt.getIndex()]={hor:W(ht[J].hor),ver:W(ht[J].ver)}}for(var J=0,nt=D.length;J<nt;J++)x(D[J]._segment,P,M,dt,T);for(var J=0,nt=U.length;J<nt;J++){var ft=U[J],wt=ft._intersection;ft._winding||x(ft,P,M,dt,T),wt&&wt._overlap||(ft._path._overlapsOnly=!1)}H=O(U,T)}else H=v(F?N.concat(F):N.slice(),function(pt){return!!T[pt]});return l(H,!0,y,C,S)}function _(y,C,d){var S=h(y),P=h(C),M=S.getIntersections(P,f),T=d==="subtract",D=d==="divide",N={},F=[];function U(q){if(!N[q._id]&&(D||P.contains(q.getPointAt(q.getLength()/2))^T))return F.unshift(q),N[q._id]=!0}for(var V=M.length-1;V>=0;V--){var H=M[V].split();H&&(U(H)&&H.getFirstSegment().setHandleIn(0,0),S.getLastSegment().setHandleOut(0,0))}return U(S),l(F,!1,y,C)}function m(y,C){for(var d=y;d;){if(d===C)return;d=d._previous}for(;y._next&&y._next!==C;)y=y._next;if(!y._next){for(;C._previous;)C=C._previous;y._next=C,C._previous=y}}function w(y){for(var C=y.length-1;C>=0;C--)y[C].clearHandles()}function v(y,C,d){var S=y&&y.length;if(S){var P=a.each(y,function(ht,dt){this[ht._id]={container:null,winding:ht.isClockwise()?1:-1,index:dt}},{}),M=y.slice().sort(function(ht,dt){return i(dt.getArea())-i(ht.getArea())}),T=M[0],D=E.findItemBoundsCollisions(M,null,R.GEOMETRIC_EPSILON);d==null&&(d=T.isClockwise());for(var N=0;N<S;N++){var F=M[N],U=P[F._id],V=0,H=D[N];if(H){for(var q=null,W=H.length-1;W>=0;W--)if(H[W]<N){q=q||F.getInteriorPoint();var X=M[H[W]];if(X.contains(q)){var J=P[X._id];V=J.winding,U.winding+=V,U.container=J.exclude?J.container:X;break}}}if(C(U.winding)===C(V))U.exclude=!0,y[U.index]=null;else{var nt=U.container;F.setClockwise(nt?!nt.isClockwise():d)}}}return y}function p(y,C,d){var S=C&&[],P=1e-8,M=1-P,T=!1,D=d||[],N=d&&{},F,U,V;function H(xt){return xt._path._id+"."+xt._segment1._index}for(var q=(d&&d.length)-1;q>=0;q--){var W=d[q];W._path&&(N[H(W)]=!0)}for(var q=y.length-1;q>=0;q--){var X=y[q],J=X._time,nt=J,ht=C&&!C(X),W=X._curve,dt;if(W&&(W!==U?(T=!W.hasHandles()||N&&N[H(W)],F=[],V=null,U=W):V>=P&&(J/=V)),ht){F&&F.push(X);continue}else C&&S.unshift(X);if(V=nt,J<P)dt=W._segment1;else if(J>M)dt=W._segment2;else{var gt=W.divideAtTime(J,!0);T&&D.push(W,gt),dt=gt._segment1;for(var tt=F.length-1;tt>=0;tt--){var st=F[tt];st._time=(st._time-J)/(1-J)}}X._setSegment(dt);var ft=dt._intersection,wt=X._intersection;if(ft){m(ft,wt);for(var pt=ft;pt;)m(pt._intersection,ft),pt=pt._next}else dt._intersection=wt}return d||w(D),S||y}function k(y,C,d,S,P){var M=Array.isArray(C)?C:C[d?"hor":"ver"],T=d?1:0,D=T^1,N=[y.x,y.y],F=N[T],U=N[D],V=1e-9,H=1e-6,q=F-V,W=F+V,X=0,J=0,nt=0,ht=0,dt=!1,gt=!1,tt=1,st=[],ft,wt;function pt(Vt){var te=Vt[D+0],Ce=Vt[D+6];if(!(U<t(te,Ce)||U>e(te,Ce))){var oe=Vt[T+0],Le=Vt[T+2],oi=Vt[T+4],qe=Vt[T+6];if(te===Ce){(oe<W&&qe>q||qe<W&&oe>q)&&(dt=!0);return}var Ue=U===te?0:U===Ce||q>e(oe,Le,oi,qe)||W<t(oe,Le,oi,qe)?1:at.solveCubic(Vt,D,U,st,0,1)>0?st[0]:1,Te=Ue===0?oe:Ue===1?qe:at.getPoint(Vt,Ue)[d?"y":"x"],Me=te>Ce?1:-1,hi=ft[D]>ft[D+6]?1:-1,He=ft[T+6];return U!==te?(Te<q?nt+=Me:Te>W?ht+=Me:dt=!0,Te>F-H&&Te<F+H&&(tt/=2)):(Me!==hi?oe<q?nt+=Me:oe>W&&(ht+=Me):oe!=He&&(He<W&&Te>W?(ht+=Me,dt=!0):He>q&&Te<q&&(nt+=Me,dt=!0)),tt/=4),ft=Vt,!P&&Te>q&&Te<W&&at.getTangent(Vt,Ue)[d?"x":"y"]===0&&k(y,C,!d,S,!0)}}function xt(Vt){var te=Vt[D+0],Ce=Vt[D+2],oe=Vt[D+4],Le=Vt[D+6];if(U<=e(te,Ce,oe,Le)&&U>=t(te,Ce,oe,Le)){for(var oi=Vt[T+0],qe=Vt[T+2],Ue=Vt[T+4],Te=Vt[T+6],Me=q>e(oi,qe,Ue,Te)||W<t(oi,qe,Ue,Te)?[Vt]:at.getMonoCurves(Vt,d),hi,He=0,xn=Me.length;He<xn;He++)if(hi=pt(Me[He]))return hi}}for(var bt=0,kt=M.length;bt<kt;bt++){var It=M[bt],Pt=It._path,ae=It.getValues(),ue;if((!bt||M[bt-1]._path!==Pt)&&(ft=null,Pt._closed||(wt=at.getValues(Pt.getLastCurve().getSegment2(),It.getSegment1(),null,!S),wt[D]!==wt[D+6]&&(ft=wt)),!ft)){ft=ae;for(var _e=Pt.getLastCurve();_e&&_e!==It;){var Qt=_e.getValues();if(Qt[D]!==Qt[D+6]){ft=Qt;break}_e=_e.getPrevious()}}if(ue=xt(ae))return ue;if(bt+1===kt||M[bt+1]._path!==Pt){if(wt&&(ue=xt(wt)))return ue;dt&&!nt&&!ht&&(nt=ht=Pt.isClockwise(S)^d?1:-1),X+=nt,J+=ht,nt=ht=0,dt&&(gt=!0,dt=!1),wt=null}}return X=i(X),J=i(J),{winding:e(X,J),windingL:X,windingR:J,quality:tt,onPath:gt}}function x(y,C,d,S,P){var M=[],T=y,D=0,V;do{var N=y.getCurve();if(N){var F=N.getLength();M.push({segment:y,curve:N,length:F}),D+=F}y=y.getNext()}while(y&&!y._intersection&&y!==T);for(var U=[.5,.25,.75],V={winding:0,quality:-1},H=.001,q=1-H,W=0;W<U.length&&V.quality<.5;W++)for(var F=D*U[W],X=0,J=M.length;X<J;X++){var nt=M[X],ht=nt.length;if(F<=ht){var N=nt.curve,dt=N._path,gt=dt._parent,tt=gt instanceof fe?gt:dt,st=R.clamp(N.getTimeAt(F),H,q),ft=N.getPointAtTime(st),wt=i(N.getTangentAtTime(st).y)<Math.SQRT1_2,pt=null;if(P.subtract&&d){var xt=tt===C?d:C,bt=xt._getWinding(ft,wt,!0);if(tt===C&&bt.winding||tt===d&&!bt.winding){if(bt.quality<1)continue;pt={winding:0,quality:1}}}pt=pt||k(ft,S[dt._id][N.getIndex()],wt,!0),pt.quality>V.quality&&(V=pt);break}F-=ht}for(var X=M.length-1;X>=0;X--)M[X].segment._winding=V}function O(y,C){var d=[],S;function P(kt){var It;return!!(kt&&!kt._visited&&(!C||C[(It=kt._winding||{}).winding]&&!(C.unite&&It.winding===2&&It.windingL&&It.windingR)))}function M(kt){if(kt){for(var It=0,Pt=S.length;It<Pt;It++)if(kt===S[It])return!0}return!1}function T(kt){for(var It=kt._segments,Pt=0,ae=It.length;Pt<ae;Pt++)It[Pt]._visited=!0}function D(kt,It){var Pt=kt._intersection,ae=Pt,ue=[];It&&(S=[kt]);function _e(Qt,Vt){for(;Qt&&Qt!==Vt;){var te=Qt._segment,Ce=te&&te._path;if(Ce){var oe=te.getNext()||Ce.getFirstSegment(),Le=oe._intersection;te!==kt&&(M(te)||M(oe)||oe&&P(te)&&(P(oe)||Le&&P(Le._segment)))&&ue.push(te),It&&S.push(te)}Qt=Qt._next}}if(Pt){for(_e(Pt);Pt&&Pt._previous;)Pt=Pt._previous;_e(Pt,ae)}return ue}y.sort(function(kt,It){var Pt=kt._intersection,ae=It._intersection,ue=!!(Pt&&Pt._overlap),_e=!!(ae&&ae._overlap),Qt=kt._path,Vt=It._path;return ue^_e?ue?1:-1:!Pt^!ae?Pt?1:-1:Qt!==Vt?Qt._id-Vt._id:kt._index-It._index});for(var N=0,F=y.length;N<F;N++){var U=y[N],V=P(U),H=null,q=!1,W=!0,X=[],J,nt,ht;if(V&&U._path._overlapsOnly){var dt=U._path,gt=U._intersection._segment._path;dt.compare(gt)&&(dt.getArea()&&d.push(dt.clone(!1)),T(dt),T(gt),V=!1)}for(;V;){var tt=!H,st=D(U,tt),ft=st.shift(),q=!tt&&(M(U)||M(ft)),wt=!q&&ft;if(tt&&(H=new Ct(et.NO_INSERT),J=null),q){(U.isFirst()||U.isLast())&&(W=U._path._closed),U._visited=!0;break}if(wt&&J&&(X.push(J),J=null),J||(wt&&st.push(U),J={start:H._segments.length,crossings:st,visited:nt=[],handleIn:ht}),wt&&(U=ft),!P(U)){H.removeSegments(J.start);for(var pt=0,xt=nt.length;pt<xt;pt++)nt[pt]._visited=!1;nt.length=0;do U=J&&J.crossings.shift(),(!U||!U._path)&&(U=null,J=X.pop(),J&&(nt=J.visited,ht=J.handleIn));while(J&&!P(U));if(!U)break}var bt=U.getNext();H.add(new yt(U._point,ht,bt&&U._handleOut)),U._visited=!0,nt.push(U),U=bt||U._path.getFirstSegment(),ht=bt&&bt._handleIn}q&&(W&&(H.getFirstSegment().setHandleIn(ht),H.setClosed(W)),H.getArea()!==0&&d.push(H))}return d}return{_getWinding:function(y,C,d){return k(y,this.getCurves(),C,d)},unite:function(y,C){return c(this,y,"unite",C)},intersect:function(y,C){return c(this,y,"intersect",C)},subtract:function(y,C){return c(this,y,"subtract",C)},exclude:function(y,C){return c(this,y,"exclude",C)},divide:function(y,C){return C&&(C.trace==!1||C.stroke)?_(this,y,"divide"):l([this.subtract(y,C),this.intersect(y,C)],!0,this,y,C)},resolveCrossings:function(){var y=this._children,C=y||[this];function d(J,nt){var ht=J&&J._intersection;return ht&&ht._overlap&&ht._path===nt}var S=!1,P=!1,M=this.getIntersections(null,function(J){return J.hasOverlap()&&(S=!0)||J.isCrossing()&&(P=!0)}),T=S&&P&&[];if(M=Ft.expand(M),S)for(var D=p(M,function(J){return J.hasOverlap()},T),N=D.length-1;N>=0;N--){var F=D[N],U=F._path,V=F._segment,H=V.getPrevious(),q=V.getNext();d(H,U)&&d(q,U)&&(V.remove(),H._handleOut._set(0,0),q._handleIn._set(0,0),H!==V&&!H.getCurve().hasLength()&&(q._handleIn.set(H._handleIn),H.remove()))}P&&(p(M,S&&function(J){var nt=J.getCurve(),ht=J.getSegment(),dt=J._intersection,gt=dt._curve,tt=dt._segment;if(nt&&gt&&nt._path&&gt._path)return!0;ht&&(ht._intersection=null),tt&&(tt._intersection=null)},T),T&&w(T),C=O(a.each(C,function(J){a.push(this,J._segments)},[])));var W=C.length,X;return W>1&&y?(C!==y&&this.setChildren(C),X=this):W===1&&!y&&(C[0]!==this&&this.setSegments(C[0].removeSegments()),X=this),X||(X=new fe(et.NO_INSERT),X.addChildren(C),X=X.reduce(),X.copyAttributes(this),this.replaceWith(X)),X},reorient:function(y,C){var d=this._children;return d&&d.length?this.setChildren(v(this.removeChildren(),function(S){return!!(y?S:S&1)},C)):C!==n&&this.setClockwise(C),this},getInteriorPoint:function(){var y=this.getBounds(),C=y.getCenter(!0);if(!this.contains(C)){for(var d=this.getCurves(),S=C.y,P=[],M=[],T=0,D=d.length;T<D;T++){var N=d[T].getValues(),F=N[1],U=N[3],V=N[5],H=N[7];if(S>=t(F,U,V,H)&&S<=e(F,U,V,H))for(var q=at.getMonoCurves(N),W=0,X=q.length;W<X;W++){var J=q[W],nt=J[1],ht=J[7];if(nt!==ht&&(S>=nt&&S<=ht||S>=ht&&S<=nt)){var dt=S===nt?J[0]:S===ht?J[6]:at.solveCubic(J,1,S,M,0,1)===1?at.getPoint(J,M[0]).x:(J[0]+J[6])/2;P.push(dt)}}}P.length>1&&(P.sort(function(gt,tt){return gt-tt}),C.x=(P[0]+P[1])/2)}return C}}});var Ye=a.extend({_class:"PathFlattener",initialize:function(t,e,i,r,s){var h=[],l=[],f=0,c=1/(i||32),_=t._segments,m=_[0],w;function v(O,y){var C=at.getValues(O,y,s);h.push(C),p(C,O._index,0,1)}function p(O,y,C,d){if(d-C>c&&!(r&&at.isStraight(O))&&!at.isFlatEnough(O,e||.25)){var S=at.subdivide(O,.5),P=(C+d)/2;p(S[0],y,C,P),p(S[1],y,P,d)}else{var M=O[6]-O[0],T=O[7]-O[1],D=Math.sqrt(M*M+T*T);D>0&&(f+=D,l.push({offset:f,curve:O,index:y,time:d}))}}for(var k=1,x=_.length;k<x;k++)w=_[k],v(m,w),m=w;t._closed&&v(w||m,_[0]),this.curves=h,this.parts=l,this.length=f,this.index=0},_get:function(t){for(var e=this.parts,i=e.length,r,s,h=this.index;s=h,!(!h||e[--h].offset<t););for(;s<i;s++){var l=e[s];if(l.offset>=t){this.index=s;var f=e[s-1],c=f&&f.index===l.index?f.time:0,_=f?f.offset:0;return{index:l.index,time:c+(l.time-c)*(t-_)/(l.offset-_)}}}return{index:e[i-1].index,time:1}},drawPart:function(t,e,i){for(var r=this._get(e),s=this._get(i),h=r.index,l=s.index;h<=l;h++){var f=at.getPart(this.curves[h],h===r.index?r.time:0,h===s.index?s.time:1);h===r.index&&t.moveTo(f[0],f[1]),t.bezierCurveTo.apply(t,f.slice(2))}}},a.each(at._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return at[t](this.curves[i.index],i.time)}},{})),wi=a.extend({initialize:function(t){for(var e=this.points=[],i=t._segments,r=t._closed,s=0,h,l=i.length;s<l;s++){var f=i[s].point;(!h||!h.equals(f))&&e.push(h=f.clone())}r&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=r},fit:function(t){var e=this.points,i=e.length,r=null;return i>0&&(r=[new yt(e[0])],i>1&&(this.fitCubic(r,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(t,e,i,r,s,h){var l=this.points;if(r-i===1){var f=l[i],c=l[r],_=f.getDistance(c)/3;this.addCurve(t,[f,f.add(s.normalize(_)),c.add(h.normalize(_)),c]);return}for(var m=this.chordLengthParameterize(i,r),w=Math.max(e,e*e),v,p=!0,k=0;k<=4;k++){var x=this.generateBezier(i,r,m,s,h),O=this.findMaxError(i,r,x,m);if(O.error<e&&p){this.addCurve(t,x);return}if(v=O.index,O.error>=w)break;p=this.reparameterize(i,r,m,x),w=O.error}var y=l[v-1].subtract(l[v+1]);this.fitCubic(t,e,i,v,s,y),this.fitCubic(t,e,v,r,y.negate(),h)},addCurve:function(t,e){var i=t[t.length-1];i.setHandleOut(e[1].subtract(e[0])),t.push(new yt(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,r,s){for(var h=1e-12,l=Math.abs,f=this.points,c=f[t],_=f[e],m=[[0,0],[0,0]],w=[0,0],v=0,p=e-t+1;v<p;v++){var k=i[v],x=1-k,O=3*k*x,y=x*x*x,C=O*x,d=O*k,S=k*k*k,P=r.normalize(C),M=s.normalize(d),T=f[t+v].subtract(c.multiply(y+C)).subtract(_.multiply(d+S));m[0][0]+=P.dot(P),m[0][1]+=P.dot(M),m[1][0]=m[0][1],m[1][1]+=M.dot(M),w[0]+=P.dot(T),w[1]+=M.dot(T)}var D=m[0][0]*m[1][1]-m[1][0]*m[0][1],N,F;if(l(D)>h){var U=m[0][0]*w[1]-m[1][0]*w[0],V=w[0]*m[1][1]-w[1]*m[0][1];N=V/D,F=U/D}else{var H=m[0][0]+m[0][1],q=m[1][0]+m[1][1];N=F=l(H)>h?w[0]/H:l(q)>h?w[1]/q:0}var W=_.getDistance(c),X=h*W,J,nt;if(N<X||F<X)N=F=W/3;else{var ht=_.subtract(c);J=r.normalize(N),nt=s.normalize(F),J.dot(ht)-nt.dot(ht)>W*W&&(N=F=W/3,J=nt=null)}return[c,c.add(J||r.normalize(N)),_.add(nt||s.normalize(F)),_]},reparameterize:function(t,e,i,r){for(var s=t;s<=e;s++)i[s-t]=this.findRoot(r,this.points[s],i[s-t]);for(var s=1,h=i.length;s<h;s++)if(i[s]<=i[s-1])return!1;return!0},findRoot:function(t,e,i){for(var r=[],s=[],h=0;h<=2;h++)r[h]=t[h+1].subtract(t[h]).multiply(3);for(var h=0;h<=1;h++)s[h]=r[h+1].subtract(r[h]).multiply(2);var l=this.evaluate(3,t,i),f=this.evaluate(2,r,i),c=this.evaluate(1,s,i),_=l.subtract(e),m=f.dot(f)+_.dot(c);return R.isMachineZero(m)?i:i-_.dot(f)/m},evaluate:function(t,e,i){for(var r=e.slice(),s=1;s<=t;s++)for(var h=0;h<=t-s;h++)r[h]=r[h].multiply(1-i).add(r[h+1].multiply(i));return r[0]},chordLengthParameterize:function(t,e){for(var i=[0],r=t+1;r<=e;r++)i[r-t]=i[r-t-1]+this.points[r].getDistance(this.points[r-1]);for(var r=1,s=e-t;r<=s;r++)i[r]/=i[s];return i},findMaxError:function(t,e,i,r){for(var s=Math.floor((e-t+1)/2),h=0,l=t+1;l<e;l++){var f=this.evaluate(3,i,r[l-t]),c=f.subtract(this.points[l]),_=c.x*c.x+c.y*c.y;_>=h&&(h=_,s=l)}return{error:h,index:s}}}),Ee=et.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var i=e&&a.isPlainObject(e)&&e.x===n&&e.y===n;this._initialize(i&&e,!i&&A.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),wn=Ee.extend({_class:"PointText",initialize:function(){Ee.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new K(t.x,t.y,this,"setPoint")},setPoint:function(){var t=A.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(!!this._content){this._setStyles(t,e,i);var r=this._lines,s=this._style,h=s.hasFill(),l=s.hasStroke(),f=s.getLeading(),c=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var _=0,m=r.length;_<m;_++){t.shadowColor=c;var w=r[_];h&&(t.fillText(w,0,0),t.shadowColor="rgba(0,0,0,0)"),l&&t.strokeText(w,0,0),t.translate(0,f)}}},_getBounds:function(t,e){var i=this._style,r=this._lines,s=r.length,h=i.getJustification(),l=i.getLeading(),f=this.getView().getTextWidth(i.getFontStyle(),r),c=0;h!=="left"&&(c-=f/(h==="center"?2:1));var _=new j(c,s?-.75*l:0,f,s*l);return t?t._transformBounds(_,_):_}}),Bt=a.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},i={transparent:[0,0,0,0]},r;function s(f){var c=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||f.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",m;if(c){var w=c[4]?4:3;m=new Array(w);for(var v=0;v<w;v++){var p=c[v+1];m[v]=parseInt(p.length==1?p+p:p,16)/255}}else if(c=f.match(/^(rgb|hsl)a?\((.*)\)$/)){_=c[1],m=c[2].trim().split(/[,\s]+/g);for(var k=_==="hsl",v=0,x=Math.min(m.length,4);v<x;v++){var O=m[v],p=parseFloat(O);if(k)if(v===0){var y=O.match(/([a-z]*)$/)[1];p*={turn:360,rad:180/Math.PI,grad:.9}[y]||1}else v<3&&(p/=100);else v<3&&(p/=/%$/.test(O)?100:255);m[v]=p}}else{var C=i[f];if(!C)if(u){r||(r=se.getContext(1,1,{willReadFrequently:!0}),r.globalCompositeOperation="copy"),r.fillStyle="rgba(0,0,0,0)",r.fillStyle=f,r.fillRect(0,0,1,1);var d=r.getImageData(0,0,1,1).data;C=i[f]=[d[0]/255,d[1]/255,d[2]/255]}else C=[0,0,0];m=C.slice()}return[_,m]}var h=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(f,c,_){var m=Math.max(f,c,_),w=Math.min(f,c,_),v=m-w,p=v===0?0:(m==f?(c-_)/v+(c<_?6:0):m==c?(_-f)/v+2:(f-c)/v+4)*60;return[p,m===0?0:v/m,m]},"hsb-rgb":function(f,c,_){f=(f/60%6+6)%6;var w=Math.floor(f),m=f-w,w=h[w],v=[_,_*(1-c),_*(1-c*m),_*(1-c*(1-m))];return[v[w[0]],v[w[1]],v[w[2]]]},"rgb-hsl":function(f,c,_){var m=Math.max(f,c,_),w=Math.min(f,c,_),v=m-w,p=v===0,k=p?0:(m==f?(c-_)/v+(c<_?6:0):m==c?(_-f)/v+2:(f-c)/v+4)*60,x=(m+w)/2,O=p?0:x<.5?v/(m+w):v/(2-m-w);return[k,O,x]},"hsl-rgb":function(f,c,_){if(f=(f/360%1+1)%1,c===0)return[_,_,_];for(var m=[f+1/3,f,f-1/3],w=_<.5?_*(1+c):_+c-_*c,v=2*_-w,p=[],k=0;k<3;k++){var x=m[k];x<0&&(x+=1),x>1&&(x-=1),p[k]=6*x<1?v+(w-v)*6*x:2*x<1?w:3*x<2?v+(w-v)*(2/3-x)*6:v}return p},"rgb-gray":function(f,c,_){return[f*.2989+c*.587+_*.114]},"gray-rgb":function(f){return[f,f,f]},"gray-hsb":function(f){return[0,0,f]},"gray-hsl":function(f){return[0,0,f]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return a.each(t,function(f,c){e[c]=[],a.each(f,function(_,m){var w=a.capitalize(_),v=/^(hue|saturation)$/.test(_),p=e[c][m]=c==="gradient"?_==="gradient"?function(k){var x=this._components[0];return k=ze.read(Array.isArray(k)?k:arguments,0,{readNull:!0}),x!==k&&(x&&x._removeOwner(this),k&&k._addOwner(this)),k}:function(){return A.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(k){return k==null||isNaN(k)?0:+k};this["get"+w]=function(){return this._type===c||v&&/^hs[bl]$/.test(this._type)?this._components[m]:this._convert(c)[m]},this["set"+w]=function(k){this._type!==c&&!(v&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(c),this._properties=t[c],this._type=c),this._components[m]=p.call(this,k),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function f(c){var _=arguments,m=this.__read,w=0,v,p,k,x;Array.isArray(c)&&(_=c,c=_[0]);var O=c!=null&&typeof c;if(O==="string"&&c in t&&(v=c,c=_[1],Array.isArray(c)?(p=c,k=_[2]):(m&&(w=1),_=a.slice(_,1),O=typeof c)),!p){if(x=O==="number"?_:O==="object"&&c.length!=null?c:null,x){v||(v=x.length>=3?"rgb":"gray");var y=t[v].length;k=x[y],m&&(w+=x===arguments?y+(k!=null?1:0):1),x.length>y&&(x=a.slice(x,0,y))}else if(O==="string"){var C=s(c);v=C[0],p=C[1],p.length===4&&(k=p[3],p.length--)}else if(O==="object")if(c.constructor===f){if(v=c._type,p=c._components.slice(),k=c._alpha,v==="gradient")for(var d=1,S=p.length;d<S;d++){var P=p[d];P&&(p[d]=P.clone())}}else if(c.constructor===ze)v="gradient",x=_;else{v="hue"in c?"lightness"in c?"hsl":"hsb":"gradient"in c||"stops"in c||"radial"in c?"gradient":"gray"in c?"gray":"rgb";var M=t[v],T=e[v];this._components=p=[];for(var d=0,S=M.length;d<S;d++){var D=c[M[d]];D==null&&!d&&v==="gradient"&&"stops"in c&&(D={stops:c.stops,radial:c.radial}),D=T[d].call(this,D),D!=null&&(p[d]=D)}k=c.alpha}m&&v&&(w=1)}if(this._type=v||"rgb",!p){this._components=p=[];for(var T=e[this._type],d=0,S=T.length;d<S;d++){var D=T[d].call(this,x&&x[d]);D!=null&&(p[d]=D)}}return this._components=p,this._properties=t[this._type],this._alpha=k,m&&(this.__read=w),this},set:"#initialize",_serialize:function(f,c){var _=this.getComponents();return a.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),f,!0,c)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(f){var c;return this._type===f?this._components.slice():(c=l[this._type+"-"+f])?c.apply(this,this._components):l["rgb-"+f].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(f){return new Bt(f,this._convert(f),this._alpha)},getType:function(){return this._type},setType:function(f){this._components=this._convert(f),this._properties=t[f],this._type=f},getComponents:function(){var f=this._components.slice();return this._alpha!=null&&f.push(this._alpha),f},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(f){this._alpha=f==null?null:Math.min(Math.max(f,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(f){var c=a.isPlainValue(f,!0)?Bt.read(arguments):f;return c===this||c&&this._class===c._class&&this._type===c._type&&this.getAlpha()===c.getAlpha()&&a.equals(this._components,c._components)||!1},toString:function(){for(var f=this._properties,c=[],_=this._type==="gradient",m=L.instance,w=0,v=f.length;w<v;w++){var p=this._components[w];p!=null&&c.push(f[w]+": "+(_?p:m.number(p)))}return this._alpha!=null&&c.push("alpha: "+m.number(this._alpha)),"{ "+c.join(", ")+" }"},toCSS:function(f){var c=this._convert("rgb"),_=f||this._alpha==null?1:this._alpha;function m(w){return Math.round((w<0?0:w>1?1:w)*255)}return c=[m(c[0]),m(c[1]),m(c[2])],_<1&&c.push(_<0?0:_),f?"#"+((1<<24)+(c[0]<<16)+(c[1]<<8)+c[2]).toString(16).slice(1):(c.length==4?"rgba(":"rgb(")+c.join(",")+")"},toCanvasStyle:function(f,c){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,m=_[0],w=m._stops,v=_[1],p=_[2],k=_[3],x=c&&c.inverted(),O;if(x&&(v=x._transformPoint(v),p=x._transformPoint(p),k&&(k=x._transformPoint(k))),m._radial){var y=p.getDistance(v);if(k){var C=k.subtract(v);C.getLength()>y&&(k=v.add(C.normalize(y-.1)))}var d=k||v;O=f.createRadialGradient(d.x,d.y,0,v.x,v.y,y)}else O=f.createLinearGradient(v.x,v.y,p.x,p.y);for(var S=0,P=w.length;S<P;S++){var M=w[S],T=M._offset;O.addColorStop(T??S/(P-1),M._color.toCanvasStyle())}return this._canvasStyle=O},transform:function(f){if(this._type==="gradient"){for(var c=this._components,_=1,m=c.length;_<m;_++){var w=c[_];f._transformPoint(w,w,!0)}this._changed()}},statics:{_types:t,random:function(){var f=Math.random;return new Bt(f(),f(),f())},_setOwner:function(f,c,_){return f&&(f._owner&&c&&f._owner!==c&&(f=f.clone()),!f._owner^!c&&(f._owner=c||null,f._setter=_||null)),f}}})},new function(){var t={add:function(e,i){return e+i},subtract:function(e,i){return e-i},multiply:function(e,i){return e*i},divide:function(e,i){return e/i}};return a.each(t,function(e,i){this[i]=function(r){r=Bt.read(arguments);for(var s=this._type,h=this._components,l=r._convert(s),f=0,c=h.length;f<c;f++)l[f]=e(h[f],l[f]);return new Bt(s,l,this._alpha!=null?e(this._alpha,r.getAlpha()):null)}},{})}),ze=a.extend({_class:"Gradient",initialize:function(e,i){this._id=$.get(),e&&a.isPlainObject(e)&&(this.set(e),e=i=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(t,e){return e.add(this,function(){return a.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=n))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new ze(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,r=e.length;i<r;i++)e[i]._owner=n;e=this._stops=Kn.readList(t,0,{clone:!0});for(var i=0,r=e.length;i<r;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,r=e.length;if(r===i.length){for(var s=0;s<r;s++)if(!e[s].equals(i[s]))return!1;return!0}}return!1}}),Kn=a.extend({_class:"GradientStop",initialize:function(e,i){var r=e,s=i;typeof e=="object"&&i===n&&(Array.isArray(e)&&typeof e[0]!="number"?(r=e[0],s=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(r=e.color,s=e.offset||e.rampPoint||0)),this.setColor(r),this.setOffset(s)},clone:function(){return new Kn(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,r=this._offset;return a.serialize(r==null?[i]:[i,r],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Bt._setOwner(this._color,null),this._color=Bt._setOwner(Bt.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),Jn=a.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new A,selectedColor:null},e=a.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=a.set({},e,{fillColor:new Bt}),r={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},h={_class:"Style",beans:!0,initialize:function(f,c,_){this._values={},this._owner=c,this._project=c&&c._project||_||Et.project,this._defaults=!c||c instanceof vt?e:c instanceof Ee?i:t,f&&this.set(f)}};return a.each(e,function(l,f){var c=/Color$/.test(f),_=f==="shadowOffset",m=a.capitalize(f),w=r[f],v="set"+m,p="get"+m;h[v]=function(k){var x=this._owner,O=x&&x._children,y=O&&O.length>0&&!(x instanceof fe);if(y)for(var C=0,d=O.length;C<d;C++)O[C]._style[v](k);if((f==="selectedColor"||!y)&&f in this._defaults){var S=this._values[f];S!==k&&(c&&(S&&(Bt._setOwner(S,null),S._canvasStyle=null),k&&k.constructor===Bt&&(k=Bt._setOwner(k,x,y&&v))),this._values[f]=k,x&&x._changed(w||129))}},h[p]=function(k){var x=this._owner,O=x&&x._children,y=O&&O.length>0&&!(x instanceof fe),C;if(y&&!k)for(var d=0,S=O.length;d<S;d++){var P=O[d]._style[p]();if(!d)C=P;else if(!a.equals(C,P))return n}else if(f in this._defaults){var C=this._values[f];if(C===n)C=this._defaults[f],C&&C.clone&&(C=C.clone());else{var M=c?Bt:_?A:null;M&&!(C&&C.constructor===M)&&(this._values[f]=C=M.read([C],0,{readNull:!0,clone:!0}))}}return C&&c&&(C=Bt._setOwner(C,x,y&&v)),C},s[p]=function(k){return this._style[p](k)},s[v]=function(k){this._style[v](k)}}),a.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,f){var c="get"+f,_="set"+f;h[c]=s[c]="#get"+l,h[_]=s[_]="#set"+l}),et.inject(s),h},{set:function(t){var e=t instanceof Jn,i=e?t._values:t;if(i){for(var r in i)if(r in this._defaults){var s=i[r];this[r]=s&&e&&s.clone?s.clone():s}}},equals:function(t){function e(i,r,s){var h=i._values,l=r._values,f=r._defaults;for(var c in h){var _=h[c],m=l[c];if(!(s&&c in l)&&!a.equals(_,m===n?f[c]:m))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),e??i*1.2}}),Kt=new function(){function t(e,i,r,s){for(var h=["","webkit","moz","Moz","ms","o"],l=i[0].toUpperCase()+i.substring(1),f=0;f<6;f++){var c=h[f],_=c?c+l:i;if(_ in e){if(r)e[_]=s;else return e[_];break}}}return{getStyles:function(e){var i=e&&e.nodeType!==9?e.ownerDocument:e,r=i&&i.defaultView;return r&&r.getComputedStyle(e,"")},getBounds:function(e,i){var r=e.ownerDocument,s=r.body,h=r.documentElement,l;try{l=e.getBoundingClientRect()}catch{l={left:0,top:0,width:0,height:0}}var f=l.left-(h.clientLeft||s.clientLeft||0),c=l.top-(h.clientTop||s.clientTop||0);if(!i){var _=r.defaultView;f+=_.pageXOffset||h.scrollLeft||s.scrollLeft,c+=_.pageYOffset||h.scrollTop||s.scrollTop}return new j(f,c,l.width,l.height)},getViewportBounds:function(e){var i=e.ownerDocument,r=i.defaultView,s=i.documentElement;return new j(0,0,r.innerWidth||s.clientWidth,r.innerHeight||s.clientHeight)},getOffset:function(e,i){return Kt.getBounds(e,i).getPoint()},getSize:function(e){return Kt.getBounds(e,!0).getSize()},isInvisible:function(e){return Kt.getSize(e).equals(new Y(0,0))},isInView:function(e){return!Kt.isInvisible(e)&&Kt.getViewportBounds(e).intersects(Kt.getBounds(e,!0))},isInserted:function(e){return o.body.contains(e)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,r){if(typeof i=="object")for(var s in i)t(e,s,!0,i[s]);else t(e,i,!0,r)}}},re={add:function(t,e){if(t)for(var i in e)for(var r=e[i],s=i.split(/[\s,]+/g),h=0,l=s.length;h<l;h++){var f=s[h],c=t===o&&(f==="touchstart"||f==="touchmove")?{passive:!1}:!1;t.addEventListener(f,r,c)}},remove:function(t,e){if(t)for(var i in e)for(var r=e[i],s=i.split(/[\s,]+/g),h=0,l=s.length;h<l;h++)t.removeEventListener(s[h],r,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new A(e.pageX||e.clientX+o.documentElement.scrollLeft,e.pageY||e.clientY+o.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return re.getPoint(t).subtract(Kt.getOffset(e||re.getTarget(t)))}};re.requestAnimationFrame=new function(){var t=Kt.getPrefixed(u,"requestAnimationFrame"),e=!1,i=[],r;function s(){var h=i;i=[];for(var l=0,f=h.length;l<f;l++)h[l]();e=t&&i.length,e&&t(s)}return function(h){i.push(h),t?e||(t(s),e=!0):r||(r=setInterval(s,16.666666666666668))}};var Yt=a.extend(g,{_class:"View",initialize:function t(e,i){function r(w){return i[w]||parseInt(i.getAttribute(w),10)}function s(){var w=Kt.getSize(i);return w.isNaN()||w.isZero()?new Y(r("width"),r("height")):w}var h;if(u&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+t._id++),re.add(i,this._viewEvents);var l="none";if(Kt.setPrefixed(i.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),b.hasAttribute(i,"resize")){var f=this;re.add(u,this._windowEvents={resize:function(){f.setViewSize(s())}})}if(h=s(),b.hasAttribute(i,"stats")&&typeof Stats<"u"){this._stats=new Stats;var c=this._stats.domElement,_=c.style,m=Kt.getOffset(i);_.position="absolute",_.left=m.x+"px",_.top=m.y+"px",o.body.appendChild(c)}}else h=new Y(i),i=null;this._project=e,this._scope=e._scope,this._element=i,this._pixelRatio||(this._pixelRatio=u&&u.devicePixelRatio||1),this._setElementSize(h.width,h.height),this._viewSize=h,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new it)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Et.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Yt._focused===this&&(Yt._focused=null),Yt._views.splice(Yt._views.indexOf(this),1),delete Yt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),re.remove(this._element,this._viewEvents),re.remove(u,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:a.each(et._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;re.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!Kt.getPrefixed(o,"hidden")||b.getAttribute(e,"keepalive")==="true")&&Kt.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Et=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new a({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new a(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=n},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new Z(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=Y.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new j(new A,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Kt.isInView(this._element)},isInserted:function(){return Kt.isInserted(this._element)},getPixelSize:function(t){var e=this._element,i;if(e){var r=e.parentNode,s=o.createElement("div");s.style.fontSize=t,r.appendChild(s),i=parseFloat(Kt.getStyles(s).fontSize),r.removeChild(s)}else i=parseFloat(i);return i},getTextWidth:function(t,e){return 0}},a.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var i=arguments,r=(e?a:A).read(i),s=A.read(i,0,{readNull:!0});return this.transform(new it()[t](r,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new it;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=A.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new it().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();e!=null&&t!=null&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new K(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=A.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(A.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(A.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(A.read(arguments))},getEventPoint:function(t){return this.viewToProject(re.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){o&&typeof e=="string"&&(e=o.getElementById(e));var i=u?Ja:Yt;return new i(t,e)}}},new function(){if(!u)return;var t,e,i=!1,r=!1;function s(H){var q=re.getTarget(H);return q.getAttribute&&Yt._viewsById[q.getAttribute("id")]}function h(){var H=Yt._focused;if(!H||!H.isVisible()){for(var q=0,W=Yt._views.length;q<W;q++)if((H=Yt._views[q]).isVisible()){Yt._focused=e=H;break}}}function l(H,q,W){H._handleMouseEvent("mousemove",q,W)}var f=u.navigator,c,_,m;f.pointerEnabled||f.msPointerEnabled?(c="pointerdown MSPointerDown",_="pointermove MSPointerMove",m="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",_="touchmove",m="touchend touchcancel","ontouchstart"in u&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",_+=" mousemove",m+=" mouseup"));var w={},v={mouseout:function(H){var q=Yt._focused,W=re.getRelatedTarget(H);if(q&&(!W||W.nodeName==="HTML")){var X=re.getOffset(H,q._element),J=X.x,nt=Math.abs,ht=nt(J),dt=1<<25,gt=ht-dt;X.x=nt(gt)<ht?gt*(J<0?-1:1):J,l(q,H,q.viewToProject(X))}},scroll:h};w[c]=function(H){var q=Yt._focused=s(H);i||(i=!0,q._handleMouseEvent("mousedown",H))},v[_]=function(H){var q=Yt._focused;if(!r){var W=s(H);W?q!==W&&(q&&l(q,H),t||(t=q),q=Yt._focused=e=W):e&&e===q&&(t&&!t.isInserted()&&(t=null),q=Yt._focused=t,t=null,h())}q&&l(q,H)},v[c]=function(){r=!0},v[m]=function(H){var q=Yt._focused;q&&i&&q._handleMouseEvent("mouseup",H),r=i=!1},re.add(o,v),re.add(u,{load:h});var p=!1,k=!1,x={doubleclick:"click",mousedrag:"mousemove"},O=!1,y,C,d,S,P,M,T,D,N;function F(H,q,W,X,J,nt,ht){var dt=!1,gt;function tt(st,ft){if(st.responds(ft)){if(gt||(gt=new tu(ft,X,J,q||st,nt?J.subtract(nt):null)),st.emit(ft,gt)&&(p=!0,gt.prevented&&(k=!0),gt.stopped))return dt=!0}else{var wt=x[ft];if(wt)return tt(st,wt)}}for(;H&&H!==ht&&!tt(H,W);)H=H._parent;return dt}function U(H,q,W,X,J,nt){return H._project.removeOn(W),k=p=!1,M&&F(M,null,W,X,J,nt)||q&&q!==M&&!q.isDescendant(M)&&F(q,null,W==="mousedrag"?"mousemove":W,X,J,nt,M)||F(H,M||q||H,W,X,J,nt)}var V={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:w,_handleMouseEvent:function(H,q,W){var X=this._itemEvents,J=X.native[H],nt=H==="mousemove",ht=this._scope.tool,dt=this;function gt(bt){return X.virtual[bt]||dt.responds(bt)||ht&&ht.responds(bt)}nt&&i&&gt("mousedrag")&&(H="mousedrag"),W||(W=this.getEventPoint(q));var tt=this.getBounds().contains(W),st=J&&tt&&dt._project.hitTest(W,{tolerance:0,fill:!0,stroke:!0}),ft=st&&st.item||null,wt=!1,pt={};if(pt[H.substr(5)]=!0,J&&ft!==P&&(P&&F(P,null,"mouseleave",q,W),ft&&F(ft,null,"mouseenter",q,W),P=ft),O^tt&&(F(this,null,tt?"mouseenter":"mouseleave",q,W),y=tt?this:null,wt=!0),(tt||pt.drag)&&!W.equals(d)&&(U(this,ft,nt?H:"mousemove",q,W,d),wt=!0),O=tt,pt.down&&tt||pt.up&&C){if(U(this,ft,H,q,W,C),pt.down){if(N=ft===T&&Date.now()-D<300,S=T=ft,!k&&ft){for(var xt=ft;xt&&!xt.responds("mousedrag");)xt=xt._parent;xt&&(M=ft)}C=W}else pt.up&&(!k&&ft===S&&(D=Date.now(),U(this,ft,N?"doubleclick":"click",q,W,C),N=!1),S=M=null);O=!1,wt=!0}d=W,wt&&ht&&(p=ht._handleMouseEvent(H,q,W,pt)||p),q.cancelable!==!1&&(p&&!pt.move||pt.down&&gt("mouseup"))&&q.preventDefault()},_handleKeyEvent:function(H,q,W,X){var J=this._scope,nt=J.tool,ht;function dt(gt){gt.responds(H)&&(Et=J,gt.emit(H,ht=ht||new Qa(H,q,W,X)))}this.isVisible()&&(dt(this),nt&&nt.responds(H)&&dt(nt))},_countItemEvent:function(H,q){var W=this._itemEvents,X=W.native,J=W.virtual;for(var nt in V)X[nt]=(X[nt]||0)+(V[nt][H]||0)*q;J[H]=(J[H]||0)+q},statics:{updateFocus:h,_resetState:function(){i=r=p=O=!1,t=e=y=C=d=S=P=M=T=D=N=null}}}}),Ja=Yt.extend({_class:"CanvasView",initialize:function(e,i){if(!(i instanceof u.HTMLCanvasElement)){var r=Y.read(arguments,1);if(r.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+a.slice(arguments,1));i=se.getCanvas(r)}var s=this._context=i.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(b.getAttribute(i,"hidpi"))){var h=u.devicePixelRatio||1,l=Kt.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=h/l}Yt.call(this,e,i),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,i){var r=this._pixelRatio;if(t.base.call(this,e*r,i*r),r!==1){var s=this._element,h=this._context;if(!b.hasAttribute(s,"resize")){var l=s.style;l.width=e+"px",l.height=i+"px"}h.restore(),h.save(),h.scale(r,r)}},getContext:function(){return this._context},getPixelSize:function t(e){var i=Et.agent,r;if(i&&i.firefox)r=t.base.call(this,e);else{var s=this._context,h=s.font;s.font=e+" serif",r=parseFloat(s.font),s.font=h}return r},getTextWidth:function(t,e){var i=this._context,r=i.font,s=0;i.font=t;for(var h=0,l=e.length;h<l;h++)s=Math.max(s,i.measureText(e[h]).width);return i.font=r,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),bn=a.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ds.modifiers}}),Qa=bn.extend({_class:"KeyEvent",initialize:function(e,i,r,s){this.type=e,this.event=i,this.key=r,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ds=new function(){var t={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},i={},r={},s,h,l=new a({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=Et&&Et.agent;return _&&_.mac?this.meta:this.control}}});function f(_){var m=_.key||_.keyIdentifier;return m=/^U\+/.test(m)?String.fromCharCode(parseInt(m.substr(2),16)):/^Arrow[A-Z]/.test(m)?m.substr(5):m==="Unidentified"||m===n?String.fromCharCode(_.keyCode):m,t[m]||(m.length>1?a.hyphenate(m):m.toLowerCase())}function c(_,m,w,v){var p=_?"keydown":"keyup",k=Yt._focused,x;if(i[m]=_,_?r[m]=w:delete r[m],m.length>1&&(x=a.camelize(m))in l){l[x]=_;var O=Et&&Et.agent;if(x==="meta"&&O&&O.mac)if(_)s={};else{for(var y in s)y in r&&c(!1,y,s[y],v);s=null}}else _&&s&&(s[m]=w);k&&k._handleKeyEvent(_?"keydown":"keyup",v,m,w)}return re.add(o,{keydown:function(_){var m=f(_),w=Et&&Et.agent;m.length>1||w&&w.chrome&&(_.altKey||w.mac&&_.metaKey||!w.mac&&_.ctrlKey)?c(!0,m,e[m]||(m.length>1?"":m),_):h=m},keypress:function(_){if(h){var m=f(_),w=_.charCode,v=w>=32?String.fromCharCode(w):m.length>1?"":m;m!==h&&(m=v.toLowerCase()),c(!0,m,v,_),h=null}},keyup:function(_){var m=f(_);m in r&&c(!1,m,r[m],_)}}),re.add(u,{blur:function(_){for(var m in r)c(!1,m,r[m],_)}}),{modifiers:l,isDown:function(_){return!!i[_]}}},tu=bn.extend({_class:"MouseEvent",initialize:function(e,i,r,s,h){this.type=e,this.event=i,this.point=r,this.target=s,this.delta=h},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),eu=bn.extend({_class:"ToolEvent",_item:null,initialize:function(e,i,r){this.tool=e,this.type=i,this.event=r},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),iu=I.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){I.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,r){Et=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var s=r.move||r.drag,h=this.responds(t),l=this.minDistance,f=this.maxDistance,c=!1,_=this;function m(v,p){var k=i,x=s?_._point:_._downPoint||k;if(s){if(_._moveCount>=0&&k.equals(x))return!1;if(x&&(v!=null||p!=null)){var O=k.subtract(x),y=O.getLength();if(y<(v||0))return!1;p&&(k=x.add(O.normalize(Math.min(y,p))))}_._moveCount++}return _._point=k,_._lastPoint=x||k,r.down&&(_._moveCount=-1,_._downPoint=k,_._downCount++),!0}function w(){h&&(c=_.emit(t,new eu(_,t,e))||c)}if(r.down)m(),w();else if(r.up)m(null,f),w();else if(h)for(;m(l,f);)w();return c}}),nu=a.extend(g,{_class:"Tween",statics:{easings:new a({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,i,r,s,h,l){this.object=e;var f=typeof h,c=f==="function";this.type=c?f:f==="string"?h:"linear",this.easing=c?h:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var _=i||r;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(i),this._to=_&&this._getState(r),l!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),i=this._keys,r=function(m){return typeof m=="function"?m(e,t):m},s=0,h=i&&i.length;s<h;s++){var l=i[s],f=r(this._from[l]),c=r(this._to[l]),_=f&&c&&f.__add&&c.__add?c.__subtract(f).__multiply(e).__add(f):(c-f)*e+f;this._setProperty(this._parsedKeys[l],_)}this.responds("update")&&this.emit("update",new a({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,i=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(i)},_getState:function(t){for(var e=this._keys,i={},r=0,s=e.length;r<s;r++){var h=e[r],l=this._parsedKeys[h],f=this._getProperty(l),c;if(t){var _=this._resolveValue(f,t[h]);this._setProperty(l,_),c=this._getProperty(l),c=c&&c.clone?c.clone():c,this._setProperty(l,f)}else c=f&&f.clone?f.clone():f;i[h]=c}return i},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&e.length===2){var i=e[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(t,i[0],e[1]):e}else if(typeof e=="string"){var r=e.match(/^[+\-*/]=(.*)/);if(r){var s=JSON.parse(r[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,i){return Et.PaperScript.calculateBinary(t,e,i)},_parseKeys:function(t){for(var e={},i=0,r=t.length;i<r;i++){var s=t[i],h=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=h.split("/")}return e},_getProperty:function(t,e){for(var i=this.object,r=0,s=t.length-(e||0);r<s&&i;r++)i=i[t[r]];return i},_setProperty:function(t,e){var i=this._getProperty(t,1);i&&(i[t[t.length-1]]=e)}}),gs={request:function(t){var e=new z.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,a.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var i=e.status;i===0||i===200?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var i=e.status,r='Could not load "'+t.url+'" (Status: '+i+")";if(t.onError)t.onError(r,i);else throw new Error(r)},e.send(null)}},se=a.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,i){if(!u)return null;var r,s=!0;typeof t=="object"&&(e=t.height,t=t.width),this.canvases.length?r=this.canvases.pop():(r=o.createElement("canvas"),s=!1);var h=r.getContext("2d",i||{});if(!h)throw new Error("Canvas "+r+" is unable to provide a 2D context.");return r.width===t&&r.height===e?s&&h.clearRect(0,0,t+1,e+1):(r.width=t,r.height=e),h.save(),r},getContext:function(t,e,i){var r=this.getCanvas(t,e,i);return r?r.getContext("2d",i||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},Qn=new function(){var t=Math.min,e=Math.max,i=Math.abs,r,s,h,l,f,c,_,m,w,v,p;function k(P,M,T){return .2989*P+.587*M+.114*T}function x(P,M,T,F){var N=F-k(P,M,T);w=P+N,v=M+N,p=T+N;var F=k(w,v,p),U=t(w,v,p),V=e(w,v,p);if(U<0){var H=F-U;w=F+(w-F)*F/H,v=F+(v-F)*F/H,p=F+(p-F)*F/H}if(V>255){var q=255-F,W=V-F;w=F+(w-F)*q/W,v=F+(v-F)*q/W,p=F+(p-F)*q/W}}function O(P,M,T){return e(P,M,T)-t(P,M,T)}function y(P,M,T,D){var N=[P,M,T],F=e(P,M,T),U=t(P,M,T),V;U=U===P?0:U===M?1:2,F=F===P?0:F===M?1:2,V=t(U,F)===0?e(U,F)===1?2:1:0,N[F]>N[U]?(N[V]=(N[V]-N[U])*D/(N[F]-N[U]),N[F]=D):N[V]=N[F]=0,N[U]=0,w=N[0],v=N[1],p=N[2]}var C={multiply:function(){w=f*r/255,v=c*s/255,p=_*h/255},screen:function(){w=f+r-f*r/255,v=c+s-c*s/255,p=_+h-_*h/255},overlay:function(){w=f<128?2*f*r/255:255-2*(255-f)*(255-r)/255,v=c<128?2*c*s/255:255-2*(255-c)*(255-s)/255,p=_<128?2*_*h/255:255-2*(255-_)*(255-h)/255},"soft-light":function(){var P=r*f/255;w=P+f*(255-(255-f)*(255-r)/255-P)/255,P=s*c/255,v=P+c*(255-(255-c)*(255-s)/255-P)/255,P=h*_/255,p=P+_*(255-(255-_)*(255-h)/255-P)/255},"hard-light":function(){w=r<128?2*r*f/255:255-2*(255-r)*(255-f)/255,v=s<128?2*s*c/255:255-2*(255-s)*(255-c)/255,p=h<128?2*h*_/255:255-2*(255-h)*(255-_)/255},"color-dodge":function(){w=f===0?0:r===255?255:t(255,255*f/(255-r)),v=c===0?0:s===255?255:t(255,255*c/(255-s)),p=_===0?0:h===255?255:t(255,255*_/(255-h))},"color-burn":function(){w=f===255?255:r===0?0:e(0,255-(255-f)*255/r),v=c===255?255:s===0?0:e(0,255-(255-c)*255/s),p=_===255?255:h===0?0:e(0,255-(255-_)*255/h)},darken:function(){w=f<r?f:r,v=c<s?c:s,p=_<h?_:h},lighten:function(){w=f>r?f:r,v=c>s?c:s,p=_>h?_:h},difference:function(){w=f-r,w<0&&(w=-w),v=c-s,v<0&&(v=-v),p=_-h,p<0&&(p=-p)},exclusion:function(){w=f+r*(255-f-f)/255,v=c+s*(255-c-c)/255,p=_+h*(255-_-_)/255},hue:function(){y(r,s,h,O(f,c,_)),x(w,v,p,k(f,c,_))},saturation:function(){y(f,c,_,O(r,s,h)),x(w,v,p,k(f,c,_))},luminosity:function(){x(f,c,_,k(r,s,h))},color:function(){x(r,s,h,k(f,c,_))},add:function(){w=t(f+r,255),v=t(c+s,255),p=t(_+h,255)},subtract:function(){w=e(f-r,0),v=e(c-s,0),p=e(_-h,0)},average:function(){w=(f+r)/2,v=(c+s)/2,p=(_+h)/2},negation:function(){w=255-i(255-r-f),v=255-i(255-s-c),p=255-i(255-h-_)}},d=this.nativeModes=a.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(P){this[P]=!0},{}),S=se.getContext(1,1,{willReadFrequently:!0});S&&(a.each(C,function(P,M){var T=M==="darken",D=!1;S.save();try{S.fillStyle=T?"#300":"#a00",S.fillRect(0,0,1,1),S.globalCompositeOperation=M,S.globalCompositeOperation===M&&(S.fillStyle=T?"#a00":"#300",S.fillRect(0,0,1,1),D=S.getImageData(0,0,1,1).data[0]!==T?170:51)}catch{}S.restore(),d[M]=D}),se.release(S)),this.process=function(P,M,T,D,N){var F=M.canvas,U=P==="normal";if(U||d[P])T.save(),T.setTransform(1,0,0,1,0,0),T.globalAlpha=D,U||(T.globalCompositeOperation=P),T.drawImage(F,N.x,N.y),T.restore();else{var V=C[P];if(!V)return;for(var H=T.getImageData(N.x,N.y,F.width,F.height),q=H.data,W=M.getImageData(0,0,F.width,F.height).data,X=0,J=q.length;X<J;X+=4){r=W[X],f=q[X],s=W[X+1],c=q[X+1],h=W[X+2],_=q[X+2],l=W[X+3],m=q[X+3],V();var nt=l*D/255,ht=1-nt;q[X]=nt*w+ht*f,q[X+1]=nt*v+ht*c,q[X+2]=nt*p+ht*_,q[X+3]=l*D+ht*m}T.putImageData(H,N.x,N.y)}}},Jt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",r={href:i,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function s(f,c,_){return l(o.createElementNS(t,f),c,_)}function h(f,c){var _=r[c],m=_?f.getAttributeNS(_,c):f.getAttribute(c);return m==="null"?null:m}function l(f,c,_){for(var m in c){var w=c[m],v=r[m];typeof w=="number"&&_&&(w=_.number(w)),v?f.setAttributeNS(v,m,w):f.setAttribute(m,w)}return f}return{svg:t,xmlns:e,xlink:i,create:s,get:h,set:l}},ps=a.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof qt||t instanceof ct||t instanceof Ee)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=a.capitalize(e),r=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:r,fromSVG:r&&a.each(r,function(s,h){this[s]=h},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});new function(){var t;function e(C,d,S){var P=new a,M=C.getTranslation();if(d){var T;C.isInvertible()?(C=C._shiftless(),T=C._inverseTransform(M),M=null):T=new A,P[S?"cx":"x"]=T.x,P[S?"cy":"y"]=T.y}if(!C.isIdentity()){var D=C.decompose();if(D){var N=[],F=D.rotation,U=D.scaling,V=D.skewing;M&&!M.isZero()&&N.push("translate("+t.point(M)+")"),F&&N.push("rotate("+t.number(F)+")"),(!R.isZero(U.x-1)||!R.isZero(U.y-1))&&N.push("scale("+t.point(U)+")"),V.x&&N.push("skewX("+t.number(V.x)+")"),V.y&&N.push("skewY("+t.number(V.y)+")"),P.transform=N.join(" ")}else P.transform="matrix("+C.getValues().join(",")+")"}return P}function i(C,d){for(var S=e(C._matrix),P=C._children,M=Jt.create("g",S,t),T=0,D=P.length;T<D;T++){var N=P[T],F=O(N,d);if(F)if(N.isClipMask()){var U=Jt.create("clipPath");U.appendChild(F),k(N,U,"clip"),Jt.set(M,{"clip-path":"url(#"+U.id+")"})}else M.appendChild(F)}return M}function r(C,d){var S=e(C._matrix,!0),P=C.getSize(),M=C.getImage();return S.x-=P.width/2,S.y-=P.height/2,S.width=P.width,S.height=P.height,S.href=d.embedImages==!1&&M&&M.src||C.toDataURL(),Jt.create("image",S,t)}function s(C,d){var S=d.matchShapes;if(S){var P=C.toShape(!1);if(P)return h(P,d)}var M=C._segments,T=M.length,D,N=e(C._matrix);if(S&&T>=2&&!C.hasHandles())if(T>2){D=C._closed?"polygon":"polyline";for(var F=[],U=0;U<T;U++)F.push(t.point(M[U]._point));N.points=F.join(" ")}else{D="line";var V=M[0]._point,H=M[1]._point;N.set({x1:V.x,y1:V.y,x2:H.x,y2:H.y})}else D="path",N.d=C.getPathData(null,d.precision);return Jt.create(D,N,t)}function h(C){var d=C._type,S=C._radius,P=e(C._matrix,!0,d!=="rectangle");if(d==="rectangle"){d="rect";var M=C._size,T=M.width,D=M.height;P.x-=T/2,P.y-=D/2,P.width=T,P.height=D,S.isZero()&&(S=null)}return S&&(d==="circle"?P.r=S:(P.rx=S.width,P.ry=S.height)),Jt.create(d,P,t)}function l(C,d){var S=e(C._matrix),P=C.getPathData(null,d.precision);return P&&(S.d=P),Jt.create("path",S,t)}function f(C,d){var S=e(C._matrix,!0),P=C._definition,M=p(P,"symbol"),T=P._item,D=T.getStrokeBounds();return M||(M=Jt.create("symbol",{viewBox:t.rectangle(D)}),M.appendChild(O(T,d)),k(P,M,"symbol")),S.href="#"+M.id,S.x+=D.x,S.y+=D.y,S.width=D.width,S.height=D.height,S.overflow="visible",Jt.create("use",S,t)}function c(C){var d=p(C,"color");if(!d){var S=C.getGradient(),P=S._radial,M=C.getOrigin(),T=C.getDestination(),D;if(P){D={cx:M.x,cy:M.y,r:M.getDistance(T)};var N=C.getHighlight();N&&(D.fx=N.x,D.fy=N.y)}else D={x1:M.x,y1:M.y,x2:T.x,y2:T.y};D.gradientUnits="userSpaceOnUse",d=Jt.create((P?"radial":"linear")+"Gradient",D,t);for(var F=S._stops,U=0,V=F.length;U<V;U++){var H=F[U],q=H._color,W=q.getAlpha(),X=H._offset;D={offset:X??U/(V-1)},q&&(D["stop-color"]=q.toCSS(!0)),W<1&&(D["stop-opacity"]=W),d.appendChild(Jt.create("stop",D,t))}k(C,d,"color")}return"url(#"+d.id+")"}function _(C){var d=Jt.create("text",e(C._matrix,!0),t);return d.textContent=C._content,d}var m={Group:i,Layer:i,Raster:r,Path:s,Shape:h,CompoundPath:l,SymbolItem:f,PointText:_};function w(C,d,S){var P={},M=!S&&C.getParent(),T=[];return C._name!=null&&(P.id=C._name),a.each(ps,function(D){var N=D.get,F=D.type,U=C[N]();if(D.exportFilter?D.exportFilter(C,U):!M||!a.equals(M[N](),U)){if(F==="color"&&U!=null){var V=U.getAlpha();V<1&&(P[D.attribute+"-opacity"]=V)}F==="style"?T.push(D.attribute+": "+U):P[D.attribute]=U==null?"none":F==="color"?U.gradient?c(U,C):U.toCSS(!0):F==="array"?U.join(","):F==="lookup"?D.toSVG[U]:U}}),T.length&&(P.style=T.join(";")),P.opacity===1&&delete P.opacity,C._visible||(P.visibility="hidden"),Jt.set(d,P,t)}var v;function p(C,d){return v||(v={ids:{},svgs:{}}),C&&v.svgs[d+"-"+(C._id||C.__id||(C.__id=$.get("svg")))]}function k(C,d,S){v||p();var P=v.ids[S]=(v.ids[S]||0)+1;d.id=S+"-"+P,v.svgs[S+"-"+(C._id||C.__id)]=d}function x(C,d){var S=C,P=null;if(v){S=C.nodeName.toLowerCase()==="svg"&&C;for(var M in v.svgs)P||(S||(S=Jt.create("svg"),S.appendChild(C)),P=S.insertBefore(Jt.create("defs"),S.firstChild)),P.appendChild(v.svgs[M]);v=null}return d.asString?new z.XMLSerializer().serializeToString(S):S}function O(C,d,S){var P=m[C._class],M=P&&P(C,d);if(M){var T=d.onExport;T&&(M=T(C,M,d)||M);var D=JSON.stringify(C._data);D&&D!=="{}"&&D!=="null"&&M.setAttribute("data-paper-data",D)}return M&&w(C,M,S)}function y(C){return C||(C={}),t=new L(C.precision),C}et.inject({exportSVG:function(C){return C=y(C),x(O(this,C,!0),C)}}),lt.inject({exportSVG:function(C){C=y(C);var d=this._children,S=this.getView(),P=a.pick(C.bounds,"view"),M=C.matrix||P==="view"&&S._matrix,T=M&&it.read([M]),D=P==="view"?new j([0,0],S.getViewSize()):P==="content"?et._getBounds(d,T,{stroke:!0}).rect:j.read([P],0,{readNull:!0}),N={version:"1.1",xmlns:Jt.svg,"xmlns:xlink":Jt.xlink};D&&(N.width=D.width,N.height=D.height,(D.x||D.x===0||D.y||D.y===0)&&(N.viewBox=t.rectangle(D)));var F=Jt.create("svg",N,t),U=F;T&&!T.isIdentity()&&(U=F.appendChild(Jt.create("g",e(T),t)));for(var V=0,H=d.length;V<H;V++)U.appendChild(O(d[V],C,!0));return x(F,C)}})},new function(){var t={},e;function i(d,S,P,M,T,D){var N=Jt.get(d,S)||D,F=N==null?M?null:P?"":0:P?N:parseFloat(N);return/%\s*$/.test(N)?F/100*(T?1:e[/x|^width/.test(S)?"width":"height"]):F}function r(d,S,P,M,T,D,N){return S=i(d,S||"x",!1,M,T,D),P=i(d,P||"y",!1,M,T,N),M&&(S==null||P==null)?null:new A(S,P)}function s(d,S,P,M,T){return S=i(d,S||"width",!1,M,T),P=i(d,P||"height",!1,M,T),M&&(S==null||P==null)?null:new Y(S,P)}function h(d,S,P){return d==="none"?null:S==="number"?parseFloat(d):S==="array"?d?d.split(/[\s,]+/g).map(parseFloat):[]:S==="color"?O(d)||d:S==="lookup"?P[d]:d}function l(d,S,P,M){var T=d.childNodes,D=S==="clippath",N=S==="defs",F=new vt,U=F._project,V=U._currentStyle,H=[];if(!D&&!N&&(F=x(F,d,M),U._currentStyle=F._style.clone()),M)for(var q=d.querySelectorAll("defs"),W=0,X=q.length;W<X;W++)y(q[W],P,!1);for(var W=0,X=T.length;W<X;W++){var J=T[W],nt;J.nodeType===1&&!/^defs$/i.test(J.nodeName)&&(nt=y(J,P,!1))&&!(nt instanceof At)&&H.push(nt)}return F.addChildren(H),D&&(F=x(F.reduce(),d,M)),U._currentStyle=V,(D||N)&&(F.remove(),F=null),F}function f(d,S){for(var P=d.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),M=[],T=0,D=P.length;T<D;T+=2)M.push(new A(parseFloat(P[T]),parseFloat(P[T+1])));var N=new Ct(M);return S==="polygon"&&N.closePath(),N}function c(d){return qt.create(d.getAttribute("d"))}function _(d,S){var P=(i(d,"href",!0)||"").substring(1),M=S==="radialgradient",T;if(P)T=t[P].getGradient(),T._radial^M&&(T=T.clone(),T._radial=M);else{for(var D=d.childNodes,N=[],F=0,U=D.length;F<U;F++){var V=D[F];V.nodeType===1&&N.push(x(new Kn,V))}T=new ze(N,M)}var H,q,W,X=i(d,"gradientUnits",!0)!=="userSpaceOnUse";M?(H=r(d,"cx","cy",!1,X,"50%","50%"),q=H.add(i(d,"r",!1,!1,X,"50%"),0),W=r(d,"fx","fy",!0,X)):(H=r(d,"x1","y1",!1,X,"0%","0%"),q=r(d,"x2","y2",!1,X,"100%","0%"));var J=x(new Bt(T,H,q,W),d);return J._scaleToBounds=X,null}var m={"#document":function(d,S,P,M){for(var T=d.childNodes,D=0,N=T.length;D<N;D++){var F=T[D];if(F.nodeType===1)return y(F,P,M)}},g:l,svg:l,clippath:l,polygon:f,polyline:f,path:c,lineargradient:_,radialgradient:_,image:function(d){var S=new _t(i(d,"href",!0));return S.on("load",function(){var P=s(d);this.setSize(P);var M=r(d).add(P.divide(2));this._matrix.append(new it().translate(M))}),S},symbol:function(d,S,P,M){return new At(l(d,S,P,M),!0)},defs:l,use:function(d){var S=(i(d,"href",!0)||"").substring(1),P=t[S],M=r(d);return P?P instanceof At?P.place(M):P.clone().translate(M):null},circle:function(d){return new ct.Circle(r(d,"cx","cy"),i(d,"r"))},ellipse:function(d){return new ct.Ellipse({center:r(d,"cx","cy"),radius:s(d,"rx","ry")})},rect:function(d){return new ct.Rectangle(new j(r(d),s(d)),s(d,"rx","ry"))},line:function(d){return new Ct.Line(r(d,"x1","y1"),r(d,"x2","y2"))},text:function(d){var S=new wn(r(d).add(r(d,"dx","dy")));return S.setContent(d.textContent.trim()||""),S},switch:l};function w(d,S,P,M){if(d.transform){for(var T=(M.getAttribute(P)||"").split(/\)\s*/g),D=new it,N=0,F=T.length;N<F;N++){var U=T[N];if(!U)break;for(var V=U.split(/\(\s*/),H=V[0],q=V[1].split(/[\s,]+/g),W=0,X=q.length;W<X;W++)q[W]=parseFloat(q[W]);switch(H){case"matrix":D.append(new it(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":D.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":D.translate(q[0],q[1]||0);break;case"scale":D.scale(q);break;case"skewX":D.skew(q[0],0);break;case"skewY":D.skew(0,q[0]);break}}d.transform(D)}}function v(d,S,P){var M=P==="fill-opacity"?"getFillColor":"getStrokeColor",T=d[M]&&d[M]();T&&T.setAlpha(parseFloat(S))}var p=a.set(a.each(ps,function(d){this[d.attribute]=function(S,P){if(S[d.set]&&(S[d.set](h(P,d.type,d.fromSVG)),d.type==="color")){var M=S[d.get]();if(M&&M._scaleToBounds){var T=S.getBounds();M.transform(new it().translate(T.getPoint()).scale(T.getSize()))}}}},{}),{id:function(d,S){t[S]=d,d.setName&&d.setName(S)},"clip-path":function(d,S){var P=O(S);if(P)if(P=P.clone(),P.setClipMask(!0),d instanceof vt)d.insertChild(0,P);else return new vt(P,d)},gradientTransform:w,transform:w,"fill-opacity":v,"stroke-opacity":v,visibility:function(d,S){d.setVisible&&d.setVisible(S==="visible")},display:function(d,S){d.setVisible&&d.setVisible(S!==null)},"stop-color":function(d,S){d.setColor&&d.setColor(S)},"stop-opacity":function(d,S){d._color&&d._color.setAlpha(parseFloat(S))},offset:function(d,S){if(d.setOffset){var P=S.match(/(.*)%$/);d.setOffset(P?P[1]/100:parseFloat(S))}},viewBox:function(d,S,P,M,T){var D=new j(h(S,"array")),N=s(M,null,null,!0),F,U;if(d instanceof vt){var V=N?N.divide(D.getSize()):1,U=new it().scale(V).translate(D.getPoint().negate());F=d}else d instanceof At&&(N&&D.setSize(N),F=d._item);if(F){if(k(M,"overflow",T)!=="visible"){var H=new ct.Rectangle(D);H.setClipMask(!0),F.addChild(H)}U&&F.transform(U)}}});function k(d,S,P){var M=d.attributes[S],T=M&&M.value;if(!T&&d.style){var D=a.camelize(S);T=d.style[D],!T&&P.node[D]!==P.parent[D]&&(T=P.node[D])}return T?T==="none"?null:T:n}function x(d,S,P){var M=S.parentNode,T={node:Kt.getStyles(S)||{},parent:!P&&!/^defs$/i.test(M.tagName)&&Kt.getStyles(M)||{}};return a.each(p,function(D,N){var F=k(S,N,T);d=F!==n&&D(d,F,N,S,T)||d}),d}function O(d){var S=d&&d.match(/\((?:["'#]*)([^"')]+)/),P=S&&S[1],M=P&&t[u?P.replace(u.location.href.split("#")[0]+"#",""):P];return M&&M._scaleToBounds&&(M=M.clone(),M._scaleToBounds=!0),M}function y(d,S,P){var M=d.nodeName.toLowerCase(),T=M!=="#document",D=o.body,N,F,U;P&&T&&(e=Et.getView().getSize(),e=s(d,null,null,!0)||e,N=Jt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),F=d.parentNode,U=d.nextSibling,N.appendChild(d),D.appendChild(N));var V=Et.settings,H=V.applyMatrix,q=V.insertItems;V.applyMatrix=!1,V.insertItems=!1;var W=m[M],X=W&&W(d,M,S,P)||null;if(V.insertItems=q,V.applyMatrix=H,X){T&&!(X instanceof vt)&&(X=x(X,d,P));var J=S.onImport,nt=T&&d.getAttribute("data-paper-data");J&&(X=J(d,X,S)||X),S.expandShapes&&X instanceof ct&&(X.remove(),X=X.toPath()),nt&&(X._data=JSON.parse(nt))}return N&&(D.removeChild(N),F&&(U?F.insertBefore(d,U):F.appendChild(d))),P&&(t={},X&&a.pick(S.applyMatrix,H)&&X.matrix.apply(!0,!0)),X}function C(d,S,P){if(!d)return null;S=typeof S=="function"?{onLoad:S}:S||{};var M=Et,T=null;function D(V){try{var H=typeof V=="object"?V:new z.DOMParser().parseFromString(V.trim(),"image/svg+xml");if(!H.nodeName)throw H=null,new Error("Unsupported SVG source: "+d);Et=M,T=y(H,S,!0),(!S||S.insert!==!1)&&P._insertItem(n,T);var q=S.onLoad;q&&q(T,V)}catch(W){N(W)}}function N(V,H){var q=S.onError;if(q)q(V,H);else throw new Error(V)}if(typeof d=="string"&&!/^[\s\S]*</.test(d)){var F=o.getElementById(d);F?D(F):gs.request({url:d,async:!0,onLoad:D,onError:N})}else if(typeof File<"u"&&d instanceof File){var U=new FileReader;return U.onload=function(){D(U.result)},U.onerror=function(){N(U.error)},U.readAsText(d)}else D(d);return T}et.inject({importSVG:function(d,S){return C(d,S,this)}}),lt.inject({importSVG:function(d,S){return this.activate(),C(d,S,this)}})},a.exports.PaperScript=function(){var t=this,e=t.acorn;if(!e&&typeof vr<"u")try{e=vr("acorn")}catch{}if(!e){var i,r;e=i=r={},function(x,O){if(typeof i=="object"&&typeof r=="object")return O(i);if(typeof define=="function"&&define.amd)return define(["exports"],O);O(x.acorn||(x.acorn={}))}(this,function(x){"use strict";x.version="0.5.0";var O,y,C,d;x.parse=function(B,G){return y=String(B),C=y.length,P(G),Ms(),Au(O.program)};var S=x.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function P(B){O=B||{};for(var G in S)Object.prototype.hasOwnProperty.call(O,G)||(O[G]=S[G]);d=O.sourceFile||null}var M=x.getLineInfo=function(B,G){for(var Q=1,rt=0;;){Vi.lastIndex=rt;var St=Vi.exec(B);if(St&&St.index<G)++Q,rt=St.index+St[0].length;else break}return{line:Q,column:G-rt}};x.tokenize=function(B,G){y=String(B),C=y.length,P(G),Ms();var Q={};function rt(St){return nt=N,Ci(St),Q.start=D,Q.end=N,Q.startLoc=F,Q.endLoc=U,Q.type=V,Q.value=H,Q}return rt.jumpTo=function(St,Tt){if(T=St,O.locations){W=1,X=Vi.lastIndex=0;for(var Ot;(Ot=Vi.exec(y))&&Ot.index<St;)++W,X=Ot.index+Ot[0].length}q=Tt,qi()},rt};var T,D,N,F,U,V,H,q,W,X,J,nt,ht,dt,gt,tt;function st(B,G){var Q=M(y,B);G+=" ("+Q.line+":"+Q.column+")";var rt=new SyntaxError(G);throw rt.pos=B,rt.loc=Q,rt.raisedAt=T,rt}var ft=[],wt={type:"num"},pt={type:"regexp"},xt={type:"string"},bt={type:"name"},kt={type:"eof"},It={keyword:"break"},Pt={keyword:"case",beforeExpr:!0},ae={keyword:"catch"},ue={keyword:"continue"},_e={keyword:"debugger"},Qt={keyword:"default"},Vt={keyword:"do",isLoop:!0},te={keyword:"else",beforeExpr:!0},Ce={keyword:"finally"},oe={keyword:"for",isLoop:!0},Le={keyword:"function"},oi={keyword:"if"},qe={keyword:"return",beforeExpr:!0},Ue={keyword:"switch"},Te={keyword:"throw",beforeExpr:!0},Me={keyword:"try"},hi={keyword:"var"},He={keyword:"while",isLoop:!0},xn={keyword:"with"},vs={keyword:"new",beforeExpr:!0},ms={keyword:"this"},ys={keyword:"null",atomValue:null},ws={keyword:"true",atomValue:!0},bs={keyword:"false",atomValue:!1},Sn={keyword:"in",binop:7,beforeExpr:!0},tr={break:It,case:Pt,catch:ae,continue:ue,debugger:_e,default:Qt,do:Vt,else:te,finally:Ce,for:oe,function:Le,if:oi,return:qe,switch:Ue,throw:Te,try:Me,var:hi,while:He,with:xn,null:ys,true:ws,false:bs,new:vs,in:Sn,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:ms,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Cn={type:"[",beforeExpr:!0},Tn={type:"]"},Fi={type:"{",beforeExpr:!0},bi={type:"}"},$e={type:"(",beforeExpr:!0},Ge={type:")"},ti={type:",",beforeExpr:!0},je={type:";",beforeExpr:!0},Bi={type:":",beforeExpr:!0},er={type:"."},ir={type:"?",beforeExpr:!0},nr={binop:10,beforeExpr:!0},rr={isAssign:!0,beforeExpr:!0},xi={isAssign:!0,beforeExpr:!0},ru={postfix:!0,prefix:!0,isUpdate:!0},xs={prefix:!0,beforeExpr:!0},Ss={binop:1,beforeExpr:!0},Cs={binop:2,beforeExpr:!0},su={binop:3,beforeExpr:!0},au={binop:4,beforeExpr:!0},uu={binop:5,beforeExpr:!0},ou={binop:6,beforeExpr:!0},hu={binop:7,beforeExpr:!0},fu={binop:8,beforeExpr:!0},lu={binop:9,prefix:!0,beforeExpr:!0},cu={binop:10,beforeExpr:!0};x.tokTypes={bracketL:Cn,bracketR:Tn,braceL:Fi,braceR:bi,parenL:$e,parenR:Ge,comma:ti,semi:je,colon:Bi,dot:er,question:ir,slash:nr,eq:rr,name:bt,eof:kt,num:wt,regexp:pt,string:xt};for(var Ts in tr)x.tokTypes["_"+Ts]=tr[Ts];function nn(B){B=B.split(" ");var G="",Q=[];t:for(var rt=0;rt<B.length;++rt){for(var St=0;St<Q.length;++St)if(Q[St][0].length==B[rt].length){Q[St].push(B[rt]);continue t}Q.push([B[rt]])}function Tt(Nt){if(Nt.length==1)return G+="return str === "+JSON.stringify(Nt[0])+";";G+="switch(str){";for(var Ze=0;Ze<Nt.length;++Ze)G+="case "+JSON.stringify(Nt[Ze])+":";G+="return true}return false;"}if(Q.length>3){Q.sort(function(Nt,Ze){return Ze.length-Nt.length}),G+="switch(str.length){";for(var rt=0;rt<Q.length;++rt){var Ot=Q[rt];G+="case "+Ot[0].length+":",Tt(Ot)}G+="}"}else Tt(B);return new Function("str",G)}var _u=nn("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),du=nn("class enum extends super const export import"),Ps=nn("implements interface let package private protected public static yield"),Pn=nn("eval arguments"),gu=nn("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),pu=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ks="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",vu="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Os=new RegExp("["+ks+"]"),mu=new RegExp("["+ks+vu+"]"),kn=/[\n\r\u2028\u2029]/,Vi=/\r\n|[\n\r\u2028\u2029]/g,On=x.isIdentifierStart=function(B){return B<65?B===36:B<91?!0:B<97?B===95:B<123?!0:B>=170&&Os.test(String.fromCharCode(B))},Is=x.isIdentifierChar=function(B){return B<48?B===36:B<58?!0:B<65?!1:B<91?!0:B<97?B===95:B<123?!0:B>=170&&mu.test(String.fromCharCode(B))};function Si(){this.line=W,this.column=T-X}function Ms(){W=1,T=X=0,q=!0,qi()}function le(B,G){N=T,O.locations&&(U=new Si),V=B,qi(),H=G,q=B.beforeExpr}function yu(){var B=O.onComment&&O.locations&&new Si,G=T,Q=y.indexOf("*/",T+=2);if(Q===-1&&st(T-2,"Unterminated comment"),T=Q+2,O.locations){Vi.lastIndex=G;for(var rt;(rt=Vi.exec(y))&&rt.index<T;)++W,X=rt.index+rt[0].length}O.onComment&&O.onComment(!0,y.slice(G+2,Q),G,T,B,O.locations&&new Si)}function sr(){for(var B=T,G=O.onComment&&O.locations&&new Si,Q=y.charCodeAt(T+=2);T<C&&Q!==10&&Q!==13&&Q!==8232&&Q!==8233;)++T,Q=y.charCodeAt(T);O.onComment&&O.onComment(!1,y.slice(B+2,T),B,T,G,O.locations&&new Si)}function qi(){for(;T<C;){var B=y.charCodeAt(T);if(B===32)++T;else if(B===13){++T;var G=y.charCodeAt(T);G===10&&++T,O.locations&&(++W,X=T)}else if(B===10||B===8232||B===8233)++T,O.locations&&(++W,X=T);else if(B>8&&B<14)++T;else if(B===47){var G=y.charCodeAt(T+1);if(G===42)yu();else if(G===47)sr();else break}else if(B===160)++T;else if(B>=5760&&pu.test(String.fromCharCode(B)))++T;else break}}function wu(){var B=y.charCodeAt(T+1);return B>=48&&B<=57?Es(!0):(++T,le(er))}function bu(){var B=y.charCodeAt(T+1);return q?(++T,As()):B===61?ce(xi,2):ce(nr,1)}function xu(){var B=y.charCodeAt(T+1);return B===61?ce(xi,2):ce(cu,1)}function Su(B){var G=y.charCodeAt(T+1);return G===B?ce(B===124?Ss:Cs,2):G===61?ce(xi,2):ce(B===124?su:uu,1)}function Cu(){var B=y.charCodeAt(T+1);return B===61?ce(xi,2):ce(au,1)}function Tu(B){var G=y.charCodeAt(T+1);return G===B?G==45&&y.charCodeAt(T+2)==62&&kn.test(y.slice(nt,T))?(T+=3,sr(),qi(),Ci()):ce(ru,2):G===61?ce(xi,2):ce(lu,1)}function Pu(B){var G=y.charCodeAt(T+1),Q=1;return G===B?(Q=B===62&&y.charCodeAt(T+2)===62?3:2,y.charCodeAt(T+Q)===61?ce(xi,Q+1):ce(fu,Q)):G==33&&B==60&&y.charCodeAt(T+2)==45&&y.charCodeAt(T+3)==45?(T+=4,sr(),qi(),Ci()):(G===61&&(Q=y.charCodeAt(T+2)===61?3:2),ce(hu,Q))}function ku(B){var G=y.charCodeAt(T+1);return G===61?ce(ou,y.charCodeAt(T+2)===61?3:2):ce(B===61?rr:xs,1)}function Ou(B){switch(B){case 46:return wu();case 40:return++T,le($e);case 41:return++T,le(Ge);case 59:return++T,le(je);case 44:return++T,le(ti);case 91:return++T,le(Cn);case 93:return++T,le(Tn);case 123:return++T,le(Fi);case 125:return++T,le(bi);case 58:return++T,le(Bi);case 63:return++T,le(ir);case 48:var G=y.charCodeAt(T+1);if(G===120||G===88)return Iu();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Es(!1);case 34:case 39:return Mu(B);case 47:return bu(B);case 37:case 42:return xu();case 124:case 38:return Su(B);case 94:return Cu();case 43:case 45:return Tu(B);case 60:case 62:return Pu(B);case 61:case 33:return ku(B);case 126:return ce(xs,1)}return!1}function Ci(B){if(B?T=D+1:D=T,O.locations&&(F=new Si),B)return As();if(T>=C)return le(kt);var G=y.charCodeAt(T);if(On(G)||G===92)return Ls();var Q=Ou(G);if(Q===!1){var rt=String.fromCharCode(G);if(rt==="\\"||Os.test(rt))return Ls();st(T,"Unexpected character '"+rt+"'")}return Q}function ce(B,G){var Q=y.slice(T,T+G);T+=G,le(B,Q)}function As(){for(var St="",B,G,Q=T;;){T>=C&&st(Q,"Unterminated regular expression");var rt=y.charAt(T);if(kn.test(rt)&&st(Q,"Unterminated regular expression"),B)B=!1;else{if(rt==="[")G=!0;else if(rt==="]"&&G)G=!1;else if(rt==="/"&&!G)break;B=rt==="\\"}++T}var St=y.slice(Q,T);++T;var Tt=zs();Tt&&!/^[gmsiy]*$/.test(Tt)&&st(Q,"Invalid regexp flag");try{var Ot=new RegExp(St,Tt)}catch(Nt){Nt instanceof SyntaxError&&st(Q,Nt.message),st(Nt)}return le(pt,Ot)}function rn(B,G){for(var Q=T,rt=0,St=0,Tt=G??1/0;St<Tt;++St){var Ot=y.charCodeAt(T),Nt;if(Ot>=97?Nt=Ot-97+10:Ot>=65?Nt=Ot-65+10:Ot>=48&&Ot<=57?Nt=Ot-48:Nt=1/0,Nt>=B)break;++T,rt=rt*B+Nt}return T===Q||G!=null&&T-Q!==G?null:rt}function Iu(){T+=2;var B=rn(16);return B==null&&st(D+2,"Expected hexadecimal number"),On(y.charCodeAt(T))&&st(T,"Identifier directly after number"),le(wt,B)}function Es(B){var G=T,Q=!1,rt=y.charCodeAt(T)===48;!B&&rn(10)===null&&st(G,"Invalid number"),y.charCodeAt(T)===46&&(++T,rn(10),Q=!0);var St=y.charCodeAt(T);(St===69||St===101)&&(St=y.charCodeAt(++T),(St===43||St===45)&&++T,rn(10)===null&&st(G,"Invalid number"),Q=!0),On(y.charCodeAt(T))&&st(T,"Identifier directly after number");var Tt=y.slice(G,T),Ot;return Q?Ot=parseFloat(Tt):!rt||Tt.length===1?Ot=parseInt(Tt,10):/[89]/.test(Tt)||tt?st(G,"Invalid number"):Ot=parseInt(Tt,8),le(wt,Ot)}function Mu(B){T++;for(var G="";;){T>=C&&st(D,"Unterminated string constant");var Q=y.charCodeAt(T);if(Q===B)return++T,le(xt,G);if(Q===92){Q=y.charCodeAt(++T);var rt=/^[0-7]+/.exec(y.slice(T,T+3));for(rt&&(rt=rt[0]);rt&&parseInt(rt,8)>255;)rt=rt.slice(0,-1);if(rt==="0"&&(rt=null),++T,rt)tt&&st(T-2,"Octal literal in strict mode"),G+=String.fromCharCode(parseInt(rt,8)),T+=rt.length-1;else switch(Q){case 110:G+=`
`;break;case 114:G+="\r";break;case 120:G+=String.fromCharCode(In(2));break;case 117:G+=String.fromCharCode(In(4));break;case 85:G+=String.fromCharCode(In(8));break;case 116:G+="	";break;case 98:G+="\b";break;case 118:G+="\v";break;case 102:G+="\f";break;case 48:G+="\0";break;case 13:y.charCodeAt(T)===10&&++T;case 10:O.locations&&(X=T,++W);break;default:G+=String.fromCharCode(Q);break}}else(Q===13||Q===10||Q===8232||Q===8233)&&st(D,"Unterminated string constant"),G+=String.fromCharCode(Q),++T}}function In(B){var G=rn(16,B);return G===null&&st(D,"Bad character escape sequence"),G}var Ui;function zs(){Ui=!1;for(var B,G=!0,Q=T;;){var rt=y.charCodeAt(T);if(Is(rt))Ui&&(B+=y.charAt(T)),++T;else if(rt===92){Ui||(B=y.slice(Q,T)),Ui=!0,y.charCodeAt(++T)!=117&&st(T,"Expecting Unicode escape sequence \\uXXXX"),++T;var St=In(4),Tt=String.fromCharCode(St);Tt||st(T-1,"Invalid Unicode escape"),(G?On(St):Is(St))||st(T-4,"Invalid Unicode escape"),B+=Tt}else break;G=!1}return Ui?B:y.slice(Q,T)}function Ls(){var B=zs(),G=bt;return!Ui&&gu(B)&&(G=tr[B]),le(G,B)}function Dt(){J=D,nt=N,ht=U,Ci()}function ar(B){if(tt=B,T=D,O.locations)for(;T<X;)X=y.lastIndexOf(`
`,X-2)+1,--W;qi(),Ci()}function Ds(){this.type=null,this.start=D,this.end=null}function Rs(){this.start=F,this.end=null,d!==null&&(this.source=d)}function de(){var B=new Ds;return O.locations&&(B.loc=new Rs),O.directSourceFile&&(B.sourceFile=O.directSourceFile),O.ranges&&(B.range=[D,0]),B}function fi(B){var G=new Ds;return G.start=B.start,O.locations&&(G.loc=new Rs,G.loc.start=B.loc.start),O.ranges&&(G.range=[B.range[0],0]),G}function Mt(B,G){return B.type=G,B.end=nt,O.locations&&(B.loc.end=ht),O.ranges&&(B.range[1]=nt),B}function ur(B){return O.ecmaVersion>=5&&B.type==="ExpressionStatement"&&B.expression.type==="Literal"&&B.expression.value==="use strict"}function Wt(B){if(V===B)return Dt(),!0}function Mn(){return!O.strictSemicolons&&(V===kt||V===bi||kn.test(y.slice(nt,D)))}function Ti(){!Wt(je)&&!Mn()&&ei()}function ee(B){V===B?Dt():ei()}function ei(){st(D,"Unexpected token")}function An(B){B.type!=="Identifier"&&B.type!=="MemberExpression"&&st(B.start,"Assigning to rvalue"),tt&&B.type==="Identifier"&&Pn(B.name)&&st(B.start,"Assigning to "+B.name+" in strict mode")}function Au(B){J=nt=T,O.locations&&(ht=new Si),dt=tt=null,gt=[],Ci();var G=B||de(),Q=!0;for(B||(G.body=[]);V!==kt;){var rt=We();G.body.push(rt),Q&&ur(rt)&&ar(!0),Q=!1}return Mt(G,"Program")}var or={kind:"loop"},Eu={kind:"switch"};function We(){(V===nr||V===xi&&H=="/=")&&Ci(!0);var B=V,G=de();switch(B){case It:case ue:Dt();var Q=B===It;Wt(je)||Mn()?G.label=null:V!==bt?ei():(G.label=li(),Ti());for(var rt=0;rt<gt.length;++rt){var St=gt[rt];if((G.label==null||St.name===G.label.name)&&(St.kind!=null&&(Q||St.kind==="loop")||G.label&&Q))break}return rt===gt.length&&st(G.start,"Unsyntactic "+B.keyword),Mt(G,Q?"BreakStatement":"ContinueStatement");case _e:return Dt(),Ti(),Mt(G,"DebuggerStatement");case Vt:return Dt(),gt.push(or),G.body=We(),gt.pop(),ee(He),G.test=sn(),Ti(),Mt(G,"DoWhileStatement");case oe:if(Dt(),gt.push(or),ee($e),V===je)return hr(G,null);if(V===hi){var Tt=de();return Dt(),Fs(Tt,!0),Mt(Tt,"VariableDeclaration"),Tt.declarations.length===1&&Wt(Sn)?Ns(G,Tt):hr(G,Tt)}var Tt=ve(!1,!0);return Wt(Sn)?(An(Tt),Ns(G,Tt)):hr(G,Tt);case Le:return Dt(),dr(G,!0);case oi:return Dt(),G.test=sn(),G.consequent=We(),G.alternate=Wt(te)?We():null,Mt(G,"IfStatement");case qe:return!dt&&!O.allowReturnOutsideFunction&&st(D,"'return' outside of function"),Dt(),Wt(je)||Mn()?G.argument=null:(G.argument=ve(),Ti()),Mt(G,"ReturnStatement");case Ue:Dt(),G.discriminant=sn(),G.cases=[],ee(Fi),gt.push(Eu);for(var Ot,Nt;V!=bi;)if(V===Pt||V===Qt){var Ze=V===Pt;Ot&&Mt(Ot,"SwitchCase"),G.cases.push(Ot=de()),Ot.consequent=[],Dt(),Ze?Ot.test=ve():(Nt&&st(J,"Multiple default clauses"),Nt=!0,Ot.test=null),ee(Bi)}else Ot||ei(),Ot.consequent.push(We());return Ot&&Mt(Ot,"SwitchCase"),Dt(),gt.pop(),Mt(G,"SwitchStatement");case Te:return Dt(),kn.test(y.slice(nt,D))&&st(nt,"Illegal newline after throw"),G.argument=ve(),Ti(),Mt(G,"ThrowStatement");case Me:if(Dt(),G.block=an(),G.handler=null,V===ae){var Pi=de();Dt(),ee($e),Pi.param=li(),tt&&Pn(Pi.param.name)&&st(Pi.param.start,"Binding "+Pi.param.name+" in strict mode"),ee(Ge),Pi.guard=null,Pi.body=an(),G.handler=Mt(Pi,"CatchClause")}return G.guardedHandlers=ft,G.finalizer=Wt(Ce)?an():null,!G.handler&&!G.finalizer&&st(G.start,"Missing catch or finally clause"),Mt(G,"TryStatement");case hi:return Dt(),Fs(G),Ti(),Mt(G,"VariableDeclaration");case He:return Dt(),G.test=sn(),gt.push(or),G.body=We(),gt.pop(),Mt(G,"WhileStatement");case xn:return tt&&st(D,"'with' in strict mode"),Dt(),G.object=sn(),G.body=We(),Mt(G,"WithStatement");case Fi:return an();case je:return Dt(),Mt(G,"EmptyStatement");default:var pr=H,En=ve();if(B===bt&&En.type==="Identifier"&&Wt(Bi)){for(var rt=0;rt<gt.length;++rt)gt[rt].name===pr&&st(En.start,"Label '"+pr+"' is already declared");var Fu=V.isLoop?"loop":V===Ue?"switch":null;return gt.push({name:pr,kind:Fu}),G.body=We(),gt.pop(),G.label=En,Mt(G,"LabeledStatement")}else return G.expression=En,Ti(),Mt(G,"ExpressionStatement")}}function sn(){ee($e);var B=ve();return ee(Ge),B}function an(B){var G=de(),Q=!0,rt=!1,St;for(G.body=[],ee(Fi);!Wt(bi);){var Tt=We();G.body.push(Tt),Q&&B&&ur(Tt)&&(St=rt,ar(rt=!0)),Q=!1}return rt&&!St&&ar(!1),Mt(G,"BlockStatement")}function hr(B,G){return B.init=G,ee(je),B.test=V===je?null:ve(),ee(je),B.update=V===Ge?null:ve(),ee(Ge),B.body=We(),gt.pop(),Mt(B,"ForStatement")}function Ns(B,G){return B.left=G,B.right=ve(),ee(Ge),B.body=We(),gt.pop(),Mt(B,"ForInStatement")}function Fs(B,G){for(B.declarations=[],B.kind="var";;){var Q=de();if(Q.id=li(),tt&&Pn(Q.id.name)&&st(Q.id.start,"Binding "+Q.id.name+" in strict mode"),Q.init=Wt(rr)?ve(!0,G):null,B.declarations.push(Mt(Q,"VariableDeclarator")),!Wt(ti))break}return B}function ve(B,G){var Q=fr(G);if(!B&&V===ti){var rt=fi(Q);for(rt.expressions=[Q];Wt(ti);)rt.expressions.push(fr(G));return Mt(rt,"SequenceExpression")}return Q}function fr(B){var G=zu(B);if(V.isAssign){var Q=fi(G);return Q.operator=H,Q.left=G,Dt(),Q.right=fr(B),An(G),Mt(Q,"AssignmentExpression")}return G}function zu(B){var G=Lu(B);if(Wt(ir)){var Q=fi(G);return Q.test=G,Q.consequent=ve(!0),ee(Bi),Q.alternate=ve(!0,B),Mt(Q,"ConditionalExpression")}return G}function Lu(B){return lr(cr(),-1,B)}function lr(B,G,Q){var rt=V.binop;if(rt!=null&&(!Q||V!==Sn)&&rt>G){var St=fi(B);St.left=B,St.operator=H;var Tt=V;Dt(),St.right=lr(cr(),rt,Q);var Ot=Mt(St,Tt===Ss||Tt===Cs?"LogicalExpression":"BinaryExpression");return lr(Ot,G,Q)}return B}function cr(){if(V.prefix){var B=de(),G=V.isUpdate;return B.operator=H,B.prefix=!0,q=!0,Dt(),B.argument=cr(),G?An(B.argument):tt&&B.operator==="delete"&&B.argument.type==="Identifier"&&st(B.start,"Deleting local variable in strict mode"),Mt(B,G?"UpdateExpression":"UnaryExpression")}for(var Q=Du();V.postfix&&!Mn();){var B=fi(Q);B.operator=H,B.prefix=!1,B.argument=Q,An(Q),Dt(),Q=Mt(B,"UpdateExpression")}return Q}function Du(){return un(_r())}function un(B,G){if(Wt(er)){var Q=fi(B);return Q.object=B,Q.property=li(!0),Q.computed=!1,un(Mt(Q,"MemberExpression"),G)}else if(Wt(Cn)){var Q=fi(B);return Q.object=B,Q.property=ve(),Q.computed=!0,ee(Tn),un(Mt(Q,"MemberExpression"),G)}else if(!G&&Wt($e)){var Q=fi(B);return Q.callee=B,Q.arguments=gr(Ge,!1),un(Mt(Q,"CallExpression"),G)}else return B}function _r(){switch(V){case ms:var rt=de();return Dt(),Mt(rt,"ThisExpression");case bt:return li();case wt:case xt:case pt:var rt=de();return rt.value=H,rt.raw=y.slice(D,N),Dt(),Mt(rt,"Literal");case ys:case ws:case bs:var rt=de();return rt.value=V.atomValue,rt.raw=V.keyword,Dt(),Mt(rt,"Literal");case $e:var B=F,G=D;Dt();var Q=ve();return Q.start=G,Q.end=N,O.locations&&(Q.loc.start=B,Q.loc.end=U),O.ranges&&(Q.range=[G,N]),ee(Ge),Q;case Cn:var rt=de();return Dt(),rt.elements=gr(Tn,!0,!0),Mt(rt,"ArrayExpression");case Fi:return Nu();case Le:var rt=de();return Dt(),dr(rt,!1);case vs:return Ru();default:ei()}}function Ru(){var B=de();return Dt(),B.callee=un(_r(),!0),Wt($e)?B.arguments=gr(Ge,!1):B.arguments=ft,Mt(B,"NewExpression")}function Nu(){var B=de(),G=!0,Q=!1;for(B.properties=[],Dt();!Wt(bi);){if(G)G=!1;else if(ee(ti),O.allowTrailingCommas&&Wt(bi))break;var rt={key:Bs()},St=!1,Tt;if(Wt(Bi)?(rt.value=ve(!0),Tt=rt.kind="init"):O.ecmaVersion>=5&&rt.key.type==="Identifier"&&(rt.key.name==="get"||rt.key.name==="set")?(St=Q=!0,Tt=rt.kind=rt.key.name,rt.key=Bs(),V!==$e&&ei(),rt.value=dr(de(),!1)):ei(),rt.key.type==="Identifier"&&(tt||Q))for(var Ot=0;Ot<B.properties.length;++Ot){var Nt=B.properties[Ot];if(Nt.key.name===rt.key.name){var Ze=Tt==Nt.kind||St&&Nt.kind==="init"||Tt==="init"&&(Nt.kind==="get"||Nt.kind==="set");Ze&&!tt&&Tt==="init"&&Nt.kind==="init"&&(Ze=!1),Ze&&st(rt.key.start,"Redefinition of property")}}B.properties.push(rt)}return Mt(B,"ObjectExpression")}function Bs(){return V===wt||V===xt?_r():li(!0)}function dr(B,G){V===bt?B.id=li():G?ei():B.id=null,B.params=[];var Q=!0;for(ee($e);!Wt(Ge);)Q?Q=!1:ee(ti),B.params.push(li());var rt=dt,St=gt;if(dt=!0,gt=[],B.body=an(!0),dt=rt,gt=St,tt||B.body.body.length&&ur(B.body.body[0]))for(var Tt=B.id?-1:0;Tt<B.params.length;++Tt){var Ot=Tt<0?B.id:B.params[Tt];if((Ps(Ot.name)||Pn(Ot.name))&&st(Ot.start,"Defining '"+Ot.name+"' in strict mode"),Tt>=0)for(var Nt=0;Nt<Tt;++Nt)Ot.name===B.params[Nt].name&&st(Ot.start,"Argument name clash in strict mode")}return Mt(B,G?"FunctionDeclaration":"FunctionExpression")}function gr(B,G,Q){for(var rt=[],St=!0;!Wt(B);){if(St)St=!1;else if(ee(ti),G&&O.allowTrailingCommas&&Wt(B))break;Q&&V===ti?rt.push(null):rt.push(ve(!0))}return rt}function li(B){var G=de();return B&&O.forbidReserved=="everywhere"&&(B=!1),V===bt?(!B&&(O.forbidReserved&&(O.ecmaVersion===3?_u:du)(H)||tt&&Ps(H))&&y.slice(D,N).indexOf("\\")==-1&&st(D,"The keyword '"+H+"' is reserved"),G.name=H):B&&V.keyword?G.name=V.keyword:ei(),q=!1,Dt(),Mt(G,"Identifier")}}),e.version||(e=null)}function s(x,O){return(t.acorn||e).parse(x,O)}var h={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},l={"-":"__negate","+":"__self"},f=a.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(x){this["__"+x]="#"+x},{__self:function(){return this}});A.inject(f),Y.inject(f),Bt.inject(f);function c(x,O,y){var C=h[O];if(x&&x[C]){var d=x[C](y);return O==="!="?!d:d}switch(O){case"+":return x+y;case"-":return x-y;case"*":return x*y;case"/":return x/y;case"%":return x%y;case"==":return x==y;case"!=":return x!=y}}function _(x,O){var y=l[x];if(O&&O[y])return O[y]();switch(x){case"+":return+O;case"-":return-O}}function m(x,O){if(!x)return"";O=O||{};var y=[];function C(tt){for(var st=0,ft=y.length;st<ft;st++){var wt=y[st];if(wt[0]>=tt)break;tt+=wt[1]}return tt}function d(tt){return x.substring(C(tt.range[0]),C(tt.range[1]))}function S(tt,st){return x.substring(C(tt.range[1]),C(st.range[0]))}function P(tt,st){for(var ft=C(tt.range[0]),wt=C(tt.range[1]),pt=0,xt=y.length-1;xt>=0;xt--)if(ft>y[xt][0]){pt=xt+1;break}y.splice(pt,0,[ft,st.length-wt+ft]),x=x.substring(0,ft)+st+x.substring(wt)}function M(tt,st){switch(tt.type){case"UnaryExpression":if(tt.operator in l&&tt.argument.type!=="Literal"){var ft=d(tt.argument);P(tt,'$__("'+tt.operator+'", '+ft+")")}break;case"BinaryExpression":if(tt.operator in h&&tt.left.type!=="Literal"){var wt=d(tt.left),pt=d(tt.right),xt=S(tt.left,tt.right),bt=tt.operator;P(tt,"__$__("+wt+","+xt.replace(new RegExp("\\"+bt),'"'+bt+'"')+", "+pt+")")}break;case"UpdateExpression":case"AssignmentExpression":var kt=st&&st.type;if(!(kt==="ForStatement"||kt==="BinaryExpression"&&/^[=!<>]/.test(st.operator)||kt==="MemberExpression"&&st.computed)){if(tt.type==="UpdateExpression"){var ft=d(tt.argument),It="__$__("+ft+', "'+tt.operator[0]+'", 1)',Pt=ft+" = "+It;tt.prefix?Pt="("+Pt+")":(kt==="AssignmentExpression"||kt==="VariableDeclarator"||kt==="BinaryExpression")&&(d(st.left||st.id)===ft&&(Pt=It),Pt=ft+"; "+Pt),P(tt,Pt)}else if(/^.=$/.test(tt.operator)&&tt.left.type!=="Literal"){var wt=d(tt.left),pt=d(tt.right),It=wt+" = __$__("+wt+', "'+tt.operator[0]+'", '+pt+")";P(tt,/^\(.*\)$/.test(d(tt))?"("+It+")":It)}}break}}function T(tt){switch(tt.type){case"ExportDefaultDeclaration":P({range:[tt.start,tt.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var st=tt.declaration,ft=tt.specifiers;if(st){var wt=st.declarations;wt&&(wt.forEach(function(xt){P(xt,"module.exports."+d(xt))}),P({range:[tt.start,st.start+st.kind.length]},""))}else if(ft){var pt=ft.map(function(xt){var bt=d(xt);return"module.exports."+bt+" = "+bt+"; "}).join("");pt&&P(tt,pt)}break}}function D(tt,st,ft){if(tt){for(var wt in tt)if(wt!=="range"&&wt!=="loc"){var pt=tt[wt];if(Array.isArray(pt))for(var xt=0,bt=pt.length;xt<bt;xt++)D(pt[xt],tt,ft);else pt&&typeof pt=="object"&&D(pt,tt,ft)}ft.operatorOverloading!==!1&&M(tt,st),ft.moduleExports!==!1&&T(tt)}}function N(tt){var st="",ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(tt=(Math.abs(tt)<<1)+(tt<0?1:0);tt||!st;){var wt=tt&31;tt>>=5,tt&&(wt|=32),st+=ft[wt]}return st}var F=O.url||"",U=O.sourceMaps,V=O.paperFeatures||{},H=O.source||x,q=O.offset||0,W=Et.agent,X=W.versionNumber,J=!1,nt=/\r\n|\n|\r/mg,ht;if(U&&(W.chrome&&X>=30||W.webkit&&X>=537.76||W.firefox&&X>=23||W.node)){if(W.node)q-=2;else if(u&&F&&!u.location.href.indexOf(F)){var dt=o.getElementsByTagName("html")[0].innerHTML;q=dt.substr(0,dt.indexOf(x)+1).match(nt).length+1}J=q>0&&!(W.chrome&&X>=36||W.safari&&X>=600||W.firefox&&X>=40||W.node);var gt=["AA"+N(J?0:q)+"A"];gt.length=(x.match(nt)||[]).length+1+(J?q:0),ht={version:3,file:F,names:[],mappings:gt.join(";AACA"),sourceRoot:"",sources:[F],sourcesContent:[H]}}return(V.operatorOverloading!==!1||V.moduleExports!==!1)&&D(s(x,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,V),ht&&(J&&(x=new Array(q+1).join(`
`)+x),/^(inline|both)$/.test(U)&&(x+=`
//# sourceMappingURL=data:application/json;base64,`+z.btoa(unescape(encodeURIComponent(JSON.stringify(ht))))),x+=`
//# sourceURL=`+(F||"paperscript")),{url:F,source:H,code:x,map:ht}}function w(x,O,y){Et=O;var C=O.getView(),d=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(x)&&!/\bnew\s+Tool\b/.test(x)?new iu:null,S=d?d._events:[],P=["onFrame","onResize"].concat(S),M=[],T=[],D,N=typeof x=="object"?x:m(x,y);x=N.code;function F(X,J){for(var nt in X)(J||!/^_/.test(nt))&&new RegExp("([\\b\\s\\W]|^)"+nt.replace(/\$/g,"\\$")+"\\b").test(x)&&(M.push(nt),T.push(X[nt]))}F({__$__:c,$__:_,paper:O,tool:d},!0),F(O),x="var module = { exports: {} }; "+x;var q=a.each(P,function(X){new RegExp("\\s+"+X+"\\b").test(x)&&(M.push(X),this.push("module.exports."+X+" = "+X+";"))},[]).join(`
`);q&&(x+=`
`+q),x+=`
return module.exports;`;var U=Et.agent;if(o&&(U.chrome||U.firefox&&U.versionNumber<40)){var V=o.createElement("script"),H=o.head||o.getElementsByTagName("head")[0];U.firefox&&(x=`
`+x),V.appendChild(o.createTextNode("document.__paperscript__ = function("+M+") {"+x+`
}`)),H.appendChild(V),D=o.__paperscript__,delete o.__paperscript__,H.removeChild(V)}else D=Function(M,x);var q=D&&D.apply(O,T),W=q||{};return a.each(S,function(X){var J=W[X];J&&(d[X]=J)}),C&&(W.onResize&&C.setOnResize(W.onResize),C.emit("resize",{size:C.size,delta:new A}),W.onFrame&&C.setOnFrame(W.onFrame),C.requestUpdate()),q}function v(x){if(/^text\/(?:x-|)paperscript$/.test(x.type)&&b.getAttribute(x,"ignore")!=="true"){var O=b.getAttribute(x,"canvas"),y=o.getElementById(O),C=x.src||x.getAttribute("data-src"),d=b.hasAttribute(x,"async"),S="data-paper-scope";if(!y)throw new Error('Unable to find canvas with id "'+O+'"');var P=b.get(y.getAttribute(S))||new b().setup(y);return y.setAttribute(S,P._id),C?gs.request({url:C,async:d,mimeType:"text/plain",onLoad:function(M){w(M,P,C)}}):w(x.innerHTML,P,x.baseURI),x.setAttribute("data-paper-ignore","true"),P}}function p(){a.each(o&&o.getElementsByTagName("script"),v)}function k(x){return x?v(x):p()}return u&&(o.readyState==="complete"?setTimeout(p):re.add(u,{load:p})),{compile:m,execute:w,load:k,parse:s,calculateBinary:c,calculateUnary:_}}.call(this);var Et=new(b.inject(a.exports,{Base:a,Numerical:R,Key:ds,DomEvent:re,DomElement:Kt,document:o,window:u,Symbol:At,PlacedSymbol:zt}));return Et.agent.node&&Us()(Et),typeof define=="function"&&define.amd?define("paper",Et):typeof Hi=="object"&&Hi&&(Hi.exports=Et),Et}.call(Hs,typeof self=="object"?self:null)});var Ni=Wu(Gs(),1);function ii(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Js(z,n){z.prototype=Object.create(n.prototype),z.prototype.constructor=z,z.__proto__=n}var Ie={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Wi={duration:.5,overwrite:!1,delay:0},Nr,ye,ne,Ne=1e8,Ht=1/Ne,Pr=Math.PI*2,Zu=Pr/4,Xu=0,Qs=Math.sqrt,Yu=Math.cos,$u=Math.sin,he=function(n){return typeof n=="string"},$t=function(n){return typeof n=="function"},ri=function(n){return typeof n=="number"},Hn=function(n){return typeof n>"u"},Je=function(n){return typeof n=="object"},Oe=function(n){return n!==!1},ta=function(){return typeof window<"u"},zn=function(n){return $t(n)||he(n)},ea=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},we=Array.isArray,kr=/(?:-?\.?\d|\.)+/gi,Fr=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Mi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,yr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Br=/[+-]=-?[.\d]+/,ia=/[^,'"\[\]\s]+/gi,ju=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Zt,Re,Or,Vr,Ae={},Nn={},na,ra=function(n){return(Nn=Ii(n,Ae))&&be},Gn=function(n,u){return console.warn("Invalid property",n,"set to",u,"Missing plugin? gsap.registerPlugin()")},Fn=function(n,u){return!u&&console.warn(n)},sa=function(n,u){return n&&(Ae[n]=u)&&Nn&&(Nn[n]=u)||Ae},_n=function(){return 0},Ku={suppressEvents:!0,isStart:!0,kill:!1},Ln={suppressEvents:!0,kill:!1},Ju={suppressEvents:!0},qr={},_i=[],Ir={},aa,Pe={},wr={},Ws=30,Dn=[],Ur="",Hr=function(n){var u=n[0],o,a;if(Je(u)||$t(u)||(n=[n]),!(o=(u._gsap||{}).harness)){for(a=Dn.length;a--&&!Dn[a].targetTest(u););o=Dn[a]}for(a=n.length;a--;)n[a]&&(n[a]._gsap||(n[a]._gsap=new Zr(n[a],o)))||n.splice(a,1);return n},di=function(n){return n._gsap||Hr(Fe(n))[0]._gsap},Gr=function(n,u,o){return(o=n[u])&&$t(o)?n[u]():Hn(o)&&n.getAttribute&&n.getAttribute(u)||o},xe=function(n,u){return(n=n.split(",")).forEach(u)||n},jt=function(n){return Math.round(n*1e5)/1e5||0},ge=function(n){return Math.round(n*1e7)/1e7||0},Ai=function(n,u){var o=u.charAt(0),a=parseFloat(u.substr(2));return n=parseFloat(n),o==="+"?n+a:o==="-"?n-a:o==="*"?n*a:n/a},Qu=function(n,u){for(var o=u.length,a=0;n.indexOf(u[a])<0&&++a<o;);return a<o},Bn=function(){var n=_i.length,u=_i.slice(0),o,a;for(Ir={},_i.length=0,o=0;o<n;o++)a=u[o],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},ua=function(n,u,o,a){_i.length&&!ye&&Bn(),n.render(u,o,a||ye&&u<0&&(n._initted||n._startAt)),_i.length&&!ye&&Bn()},oa=function(n){var u=parseFloat(n);return(u||u===0)&&(n+"").match(ia).length<2?u:he(n)?n.trim():n},ha=function(n){return n},Ve=function(n,u){for(var o in u)o in n||(n[o]=u[o]);return n},to=function(n){return function(u,o){for(var a in o)a in u||a==="duration"&&n||a==="ease"||(u[a]=o[a])}},Ii=function(n,u){for(var o in u)n[o]=u[o];return n},Zs=function z(n,u){for(var o in u)o!=="__proto__"&&o!=="constructor"&&o!=="prototype"&&(n[o]=Je(u[o])?z(n[o]||(n[o]={}),u[o]):u[o]);return n},Vn=function(n,u){var o={},a;for(a in n)a in u||(o[a]=n[a]);return o},fn=function(n){var u=n.parent||Zt,o=n.keyframes?to(we(n.keyframes)):Ve;if(Oe(n.inherit))for(;u;)o(n,u.vars.defaults),u=u.parent||u._dp;return n},eo=function(n,u){for(var o=n.length,a=o===u.length;a&&o--&&n[o]===u[o];);return o<0},fa=function(n,u,o,a,g){o===void 0&&(o="_first"),a===void 0&&(a="_last");var b=n[a],I;if(g)for(I=u[g];b&&b[g]>I;)b=b._prev;return b?(u._next=b._next,b._next=u):(u._next=n[o],n[o]=u),u._next?u._next._prev=u:n[a]=u,u._prev=b,u.parent=u._dp=n,u},Wn=function(n,u,o,a){o===void 0&&(o="_first"),a===void 0&&(a="_last");var g=u._prev,b=u._next;g?g._next=b:n[o]===u&&(n[o]=b),b?b._prev=g:n[a]===u&&(n[a]=g),u._next=u._prev=u.parent=null},gi=function(n,u){n.parent&&(!u||n.parent.autoRemoveChildren)&&n.parent.remove(n),n._act=0},ki=function(n,u){if(n&&(!u||u._end>n._dur||u._start<0))for(var o=n;o;)o._dirty=1,o=o.parent;return n},io=function(n){for(var u=n.parent;u&&u.parent;)u._dirty=1,u.totalDuration(),u=u.parent;return n},Mr=function(n,u,o,a){return n._startAt&&(ye?n._startAt.revert(Ln):n.vars.immediateRender&&!n.vars.autoRevert||n._startAt.render(u,!0,a))},no=function z(n){return!n||n._ts&&z(n.parent)},Xs=function(n){return n._repeat?Zi(n._tTime,n=n.duration()+n._rDelay)*n:0},Zi=function(n,u){var o=Math.floor(n/=u);return n&&o===n?o-1:o},qn=function(n,u){return(n-u._start)*u._ts+(u._ts>=0?0:u._dirty?u.totalDuration():u._tDur)},Zn=function(n){return n._end=ge(n._start+(n._tDur/Math.abs(n._ts||n._rts||Ht)||0))},Xn=function(n,u){var o=n._dp;return o&&o.smoothChildTiming&&n._ts&&(n._start=ge(o._time-(n._ts>0?u/n._ts:((n._dirty?n.totalDuration():n._tDur)-u)/-n._ts)),Zn(n),o._dirty||ki(o,n)),n},la=function(n,u){var o;if((u._time||u._initted&&!u._dur)&&(o=qn(n.rawTime(),u),(!u._dur||gn(0,u.totalDuration(),o)-u._tTime>Ht)&&u.render(o,!0)),ki(n,u)._dp&&n._initted&&n._time>=n._dur&&n._ts){if(n._dur<n.duration())for(o=n;o._dp;)o.rawTime()>=0&&o.totalTime(o._tTime),o=o._dp;n._zTime=-Ht}},Ke=function(n,u,o,a){return u.parent&&gi(u),u._start=ge((ri(o)?o:o||n!==Zt?De(n,o,u):n._time)+u._delay),u._end=ge(u._start+(u.totalDuration()/Math.abs(u.timeScale())||0)),fa(n,u,"_first","_last",n._sort?"_start":0),Ar(u)||(n._recent=u),a||la(n,u),n._ts<0&&Xn(n,n._tTime),n},ca=function(n,u){return(Ae.ScrollTrigger||Gn("scrollTrigger",u))&&Ae.ScrollTrigger.create(u,n)},_a=function(n,u,o,a,g){if($r(n,u,g),!n._initted)return 1;if(!o&&n._pt&&!ye&&(n._dur&&n.vars.lazy!==!1||!n._dur&&n.vars.lazy)&&aa!==ke.frame)return _i.push(n),n._lazy=[g,a],1},ro=function z(n){var u=n.parent;return u&&u._ts&&u._initted&&!u._lock&&(u.rawTime()<0||z(u))},Ar=function(n){var u=n.data;return u==="isFromStart"||u==="isStart"},so=function(n,u,o,a){var g=n.ratio,b=u<0||!u&&(!n._start&&ro(n)&&!(!n._initted&&Ar(n))||(n._ts<0||n._dp._ts<0)&&!Ar(n))?0:1,I=n._rDelay,E=0,L,R,$;if(I&&n._repeat&&(E=gn(0,n._tDur,u),R=Zi(E,I),n._yoyo&&R&1&&(b=1-b),R!==Zi(n._tTime,I)&&(g=1-b,n.vars.repeatRefresh&&n._initted&&n.invalidate())),b!==g||ye||a||n._zTime===Ht||!u&&n._zTime){if(!n._initted&&_a(n,u,a,o,E))return;for($=n._zTime,n._zTime=u||(o?Ht:0),o||(o=u&&!$),n.ratio=b,n._from&&(b=1-b),n._time=0,n._tTime=E,L=n._pt;L;)L.r(b,L.d),L=L._next;u<0&&Mr(n,u,o,!0),n._onUpdate&&!o&&Be(n,"onUpdate"),E&&n._repeat&&!o&&n.parent&&Be(n,"onRepeat"),(u>=n._tDur||u<0)&&n.ratio===b&&(b&&gi(n,1),!o&&!ye&&(Be(n,b?"onComplete":"onReverseComplete",!0),n._prom&&n._prom()))}else n._zTime||(n._zTime=u)},ao=function(n,u,o){var a;if(o>u)for(a=n._first;a&&a._start<=o;){if(a.data==="isPause"&&a._start>u)return a;a=a._next}else for(a=n._last;a&&a._start>=o;){if(a.data==="isPause"&&a._start<u)return a;a=a._prev}},Xi=function(n,u,o,a){var g=n._repeat,b=ge(u)||0,I=n._tTime/n._tDur;return I&&!a&&(n._time*=b/n._dur),n._dur=b,n._tDur=g?g<0?1e10:ge(b*(g+1)+n._rDelay*g):b,I>0&&!a&&Xn(n,n._tTime=n._tDur*I),n.parent&&Zn(n),o||ki(n.parent,n),n},Ys=function(n){return n instanceof me?ki(n):Xi(n,n._dur)},uo={_start:0,endTime:_n,totalDuration:_n},De=function z(n,u,o){var a=n.labels,g=n._recent||uo,b=n.duration()>=Ne?g.endTime(!1):n._dur,I,E,L;return he(u)&&(isNaN(u)||u in a)?(E=u.charAt(0),L=u.substr(-1)==="%",I=u.indexOf("="),E==="<"||E===">"?(I>=0&&(u=u.replace(/=/,"")),(E==="<"?g._start:g.endTime(g._repeat>=0))+(parseFloat(u.substr(1))||0)*(L?(I<0?g:o).totalDuration()/100:1)):I<0?(u in a||(a[u]=b),a[u]):(E=parseFloat(u.charAt(I-1)+u.substr(I+1)),L&&o&&(E=E/100*(we(o)?o[0]:o).totalDuration()),I>1?z(n,u.substr(0,I-1),o)+E:b+E)):u==null?b:+u},ln=function(n,u,o){var a=ri(u[1]),g=(a?2:1)+(n<2?0:1),b=u[g],I,E;if(a&&(b.duration=u[1]),b.parent=o,n){for(I=b,E=o;E&&!("immediateRender"in I);)I=E.vars.defaults||{},E=Oe(E.vars.inherit)&&E.parent;b.immediateRender=Oe(I.immediateRender),n<2?b.runBackwards=1:b.startAt=u[g-1]}return new ie(u[0],b,u[g+1])},pi=function(n,u){return n||n===0?u(n):u},gn=function(n,u,o){return o<n?n:o>u?u:o},pe=function(n,u){return!he(n)||!(u=ju.exec(n))?"":u[1]},oo=function(n,u,o){return pi(o,function(a){return gn(n,u,a)})},Er=[].slice,da=function(n,u){return n&&Je(n)&&"length"in n&&(!u&&!n.length||n.length-1 in n&&Je(n[0]))&&!n.nodeType&&n!==Re},ho=function(n,u,o){return o===void 0&&(o=[]),n.forEach(function(a){var g;return he(a)&&!u||da(a,1)?(g=o).push.apply(g,Fe(a)):o.push(a)})||o},Fe=function(n,u,o){return ne&&!u&&ne.selector?ne.selector(n):he(n)&&!o&&(Or||!Yi())?Er.call((u||Vr).querySelectorAll(n),0):we(n)?ho(n,o):da(n)?Er.call(n,0):n?[n]:[]},zr=function(n){return n=Fe(n)[0]||Fn("Invalid scope")||{},function(u){var o=n.current||n.nativeElement||n;return Fe(u,o.querySelectorAll?o:o===n?Fn("Invalid scope")||Vr.createElement("div"):n)}},ga=function(n){return n.sort(function(){return .5-Math.random()})},pa=function(n){if($t(n))return n;var u=Je(n)?n:{each:n},o=Oi(u.ease),a=u.from||0,g=parseFloat(u.base)||0,b={},I=a>0&&a<1,E=isNaN(a)||I,L=u.axis,R=a,$=a;return he(a)?R=$={center:.5,edges:.5,end:1}[a]||0:!I&&E&&(R=a[0],$=a[1]),function(A,K,Y){var Z=(Y||u).length,j=b[Z],ot,it,ut,lt,et,vt,mt,ct,_t;if(!j){if(_t=u.grid==="auto"?0:(u.grid||[1,Ne])[1],!_t){for(mt=-Ne;mt<(mt=Y[_t++].getBoundingClientRect().left)&&_t<Z;);_t--}for(j=b[Z]=[],ot=E?Math.min(_t,Z)*R-.5:a%_t,it=_t===Ne?0:E?Z*$/_t-.5:a/_t|0,mt=0,ct=Ne,vt=0;vt<Z;vt++)ut=vt%_t-ot,lt=it-(vt/_t|0),j[vt]=et=L?Math.abs(L==="y"?lt:ut):Qs(ut*ut+lt*lt),et>mt&&(mt=et),et<ct&&(ct=et);a==="random"&&ga(j),j.max=mt-ct,j.min=ct,j.v=Z=(parseFloat(u.amount)||parseFloat(u.each)*(_t>Z?Z-1:L?L==="y"?Z/_t:_t:Math.max(_t,Z/_t))||0)*(a==="edges"?-1:1),j.b=Z<0?g-Z:g,j.u=pe(u.amount||u.each)||0,o=o&&Z<0?Sa(o):o}return Z=(j[A]-j.min)/j.max||0,ge(j.b+(o?o(Z):Z)*j.v)+j.u}},Lr=function(n){var u=Math.pow(10,((n+"").split(".")[1]||"").length);return function(o){var a=ge(Math.round(parseFloat(o)/n)*n*u);return(a-a%1)/u+(ri(o)?0:pe(o))}},va=function(n,u){var o=we(n),a,g;return!o&&Je(n)&&(a=o=n.radius||Ne,n.values?(n=Fe(n.values),(g=!ri(n[0]))&&(a*=a)):n=Lr(n.increment)),pi(u,o?$t(n)?function(b){return g=n(b),Math.abs(g-b)<=a?g:b}:function(b){for(var I=parseFloat(g?b.x:b),E=parseFloat(g?b.y:0),L=Ne,R=0,$=n.length,A,K;$--;)g?(A=n[$].x-I,K=n[$].y-E,A=A*A+K*K):A=Math.abs(n[$]-I),A<L&&(L=A,R=$);return R=!a||L<=a?n[R]:b,g||R===b||ri(b)?R:R+pe(b)}:Lr(n))},ma=function(n,u,o,a){return pi(we(n)?!u:o===!0?!!(o=0):!a,function(){return we(n)?n[~~(Math.random()*n.length)]:(o=o||1e-5)&&(a=o<1?Math.pow(10,(o+"").length-2):1)&&Math.floor(Math.round((n-o/2+Math.random()*(u-n+o*.99))/o)*o*a)/a})},fo=function(){for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return function(a){return u.reduce(function(g,b){return b(g)},a)}},lo=function(n,u){return function(o){return n(parseFloat(o))+(u||pe(o))}},co=function(n,u,o){return wa(n,u,0,1,o)},ya=function(n,u,o){return pi(o,function(a){return n[~~u(a)]})},_o=function z(n,u,o){var a=u-n;return we(n)?ya(n,z(0,n.length),u):pi(o,function(g){return(a+(g-n)%a)%a+n})},go=function z(n,u,o){var a=u-n,g=a*2;return we(n)?ya(n,z(0,n.length-1),u):pi(o,function(b){return b=(g+(b-n)%g)%g||0,n+(b>a?g-b:b)})},Ki=function(n){for(var u=0,o="",a,g,b,I;~(a=n.indexOf("random(",u));)b=n.indexOf(")",a),I=n.charAt(a+7)==="[",g=n.substr(a+7,b-a-7).match(I?ia:kr),o+=n.substr(u,a-u)+ma(I?g:+g[0],I?0:+g[1],+g[2]||1e-5),u=b+1;return o+n.substr(u,n.length-u)},wa=function(n,u,o,a,g){var b=u-n,I=a-o;return pi(g,function(E){return o+((E-n)/b*I||0)})},po=function z(n,u,o,a){var g=isNaN(n+u)?0:function(K){return(1-K)*n+K*u};if(!g){var b=he(n),I={},E,L,R,$,A;if(o===!0&&(a=1)&&(o=null),b)n={p:n},u={p:u};else if(we(n)&&!we(u)){for(R=[],$=n.length,A=$-2,L=1;L<$;L++)R.push(z(n[L-1],n[L]));$--,g=function(Y){Y*=$;var Z=Math.min(A,~~Y);return R[Z](Y-Z)},o=u}else a||(n=Ii(we(n)?[]:{},n));if(!R){for(E in u)Xr.call(I,n,E,"get",u[E]);g=function(Y){return Jr(Y,I)||(b?n.p:n)}}}return pi(o,g)},$s=function(n,u,o){var a=n.labels,g=Ne,b,I,E;for(b in a)I=a[b]-u,I<0==!!o&&I&&g>(I=Math.abs(I))&&(E=b,g=I);return E},Be=function(n,u,o){var a=n.vars,g=a[u],b=ne,I=n._ctx,E,L,R;if(!!g)return E=a[u+"Params"],L=a.callbackScope||n,o&&_i.length&&Bn(),I&&(ne=I),R=E?g.apply(L,E):g.call(L),ne=b,R},on=function(n){return gi(n),n.scrollTrigger&&n.scrollTrigger.kill(!!ye),n.progress()<1&&Be(n,"onInterrupt"),n},Gi,vo=function(n){n=!n.name&&n.default||n;var u=n.name,o=$t(n),a=u&&!o&&n.init?function(){this._props=[]}:n,g={init:_n,render:Jr,add:Xr,kill:zo,modifier:Eo,rawVars:0},b={targetTest:0,get:0,getSetter:Yn,aliases:{},register:0};if(Yi(),n!==a){if(Pe[u])return;Ve(a,Ve(Vn(n,g),b)),Ii(a.prototype,Ii(g,Vn(n,b))),Pe[a.prop=u]=a,n.targetTest&&(Dn.push(a),qr[u]=1),u=(u==="css"?"CSS":u.charAt(0).toUpperCase()+u.substr(1))+"Plugin"}sa(u,a),n.register&&n.register(be,a,Se)},Ut=255,hn={aqua:[0,Ut,Ut],lime:[0,Ut,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ut],navy:[0,0,128],white:[Ut,Ut,Ut],olive:[128,128,0],yellow:[Ut,Ut,0],orange:[Ut,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ut,0,0],pink:[Ut,192,203],cyan:[0,Ut,Ut],transparent:[Ut,Ut,Ut,0]},br=function(n,u,o){return n+=n<0?1:n>1?-1:0,(n*6<1?u+(o-u)*n*6:n<.5?o:n*3<2?u+(o-u)*(2/3-n)*6:u)*Ut+.5|0},ba=function(n,u,o){var a=n?ri(n)?[n>>16,n>>8&Ut,n&Ut]:0:hn.black,g,b,I,E,L,R,$,A,K,Y;if(!a){if(n.substr(-1)===","&&(n=n.substr(0,n.length-1)),hn[n])a=hn[n];else if(n.charAt(0)==="#"){if(n.length<6&&(g=n.charAt(1),b=n.charAt(2),I=n.charAt(3),n="#"+g+g+b+b+I+I+(n.length===5?n.charAt(4)+n.charAt(4):"")),n.length===9)return a=parseInt(n.substr(1,6),16),[a>>16,a>>8&Ut,a&Ut,parseInt(n.substr(7),16)/255];n=parseInt(n.substr(1),16),a=[n>>16,n>>8&Ut,n&Ut]}else if(n.substr(0,3)==="hsl"){if(a=Y=n.match(kr),!u)E=+a[0]%360/360,L=+a[1]/100,R=+a[2]/100,b=R<=.5?R*(L+1):R+L-R*L,g=R*2-b,a.length>3&&(a[3]*=1),a[0]=br(E+1/3,g,b),a[1]=br(E,g,b),a[2]=br(E-1/3,g,b);else if(~n.indexOf("="))return a=n.match(Fr),o&&a.length<4&&(a[3]=1),a}else a=n.match(kr)||hn.transparent;a=a.map(Number)}return u&&!Y&&(g=a[0]/Ut,b=a[1]/Ut,I=a[2]/Ut,$=Math.max(g,b,I),A=Math.min(g,b,I),R=($+A)/2,$===A?E=L=0:(K=$-A,L=R>.5?K/(2-$-A):K/($+A),E=$===g?(b-I)/K+(b<I?6:0):$===b?(I-g)/K+2:(g-b)/K+4,E*=60),a[0]=~~(E+.5),a[1]=~~(L*100+.5),a[2]=~~(R*100+.5)),o&&a.length<4&&(a[3]=1),a},xa=function(n){var u=[],o=[],a=-1;return n.split(ni).forEach(function(g){var b=g.match(Mi)||[];u.push.apply(u,b),o.push(a+=b.length+1)}),u.c=o,u},js=function(n,u,o){var a="",g=(n+a).match(ni),b=u?"hsla(":"rgba(",I=0,E,L,R,$;if(!g)return n;if(g=g.map(function(A){return(A=ba(A,u,1))&&b+(u?A[0]+","+A[1]+"%,"+A[2]+"%,"+A[3]:A.join(","))+")"}),o&&(R=xa(n),E=o.c,E.join(a)!==R.c.join(a)))for(L=n.replace(ni,"1").split(Mi),$=L.length-1;I<$;I++)a+=L[I]+(~E.indexOf(I)?g.shift()||b+"0,0,0,0)":(R.length?R:g.length?g:o).shift());if(!L)for(L=n.split(ni),$=L.length-1;I<$;I++)a+=L[I]+g[I];return a+L[$]},ni=function(){var z="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",n;for(n in hn)z+="|"+n+"\\b";return new RegExp(z+")","gi")}(),mo=/hsl[a]?\(/,Wr=function(n){var u=n.join(" "),o;if(ni.lastIndex=0,ni.test(u))return o=mo.test(u),n[1]=js(n[1],o),n[0]=js(n[0],o,xa(n[1])),!0},dn,ke=function(){var z=Date.now,n=500,u=33,o=z(),a=o,g=1e3/240,b=g,I=[],E,L,R,$,A,K,Y=function Z(j){var ot=z()-a,it=j===!0,ut,lt,et,vt;if(ot>n&&(o+=ot-u),a+=ot,et=a-o,ut=et-b,(ut>0||it)&&(vt=++$.frame,A=et-$.time*1e3,$.time=et=et/1e3,b+=ut+(ut>=g?4:g-ut),lt=1),it||(E=L(Z)),lt)for(K=0;K<I.length;K++)I[K](et,A,vt,j)};return $={time:0,frame:0,tick:function(){Y(!0)},deltaRatio:function(j){return A/(1e3/(j||60))},wake:function(){na&&(!Or&&ta()&&(Re=Or=window,Vr=Re.document||{},Ae.gsap=be,(Re.gsapVersions||(Re.gsapVersions=[])).push(be.version),ra(Nn||Re.GreenSockGlobals||!Re.gsap&&Re||{}),R=Re.requestAnimationFrame),E&&$.sleep(),L=R||function(j){return setTimeout(j,b-$.time*1e3+1|0)},dn=1,Y(2))},sleep:function(){(R?Re.cancelAnimationFrame:clearTimeout)(E),dn=0,L=_n},lagSmoothing:function(j,ot){n=j||1/0,u=Math.min(ot||33,n)},fps:function(j){g=1e3/(j||240),b=$.time*1e3+g},add:function(j,ot,it){var ut=ot?function(lt,et,vt,mt){j(lt,et,vt,mt),$.remove(ut)}:j;return $.remove(j),I[it?"unshift":"push"](ut),Yi(),ut},remove:function(j,ot){~(ot=I.indexOf(j))&&I.splice(ot,1)&&K>=ot&&K--},_listeners:I},$}(),Yi=function(){return!dn&&ke.wake()},Lt={},yo=/^[\d.\-M][\d.\-,\s]/,wo=/["']/g,bo=function(n){for(var u={},o=n.substr(1,n.length-3).split(":"),a=o[0],g=1,b=o.length,I,E,L;g<b;g++)E=o[g],I=g!==b-1?E.lastIndexOf(","):E.length,L=E.substr(0,I),u[a]=isNaN(L)?L.replace(wo,"").trim():+L,a=E.substr(I+1).trim();return u},xo=function(n){var u=n.indexOf("(")+1,o=n.indexOf(")"),a=n.indexOf("(",u);return n.substring(u,~a&&a<o?n.indexOf(")",o+1):o)},So=function(n){var u=(n+"").split("("),o=Lt[u[0]];return o&&u.length>1&&o.config?o.config.apply(null,~n.indexOf("{")?[bo(u[1])]:xo(n).split(",").map(oa)):Lt._CE&&yo.test(n)?Lt._CE("",n):o},Sa=function(n){return function(u){return 1-n(1-u)}},Ca=function z(n,u){for(var o=n._first,a;o;)o instanceof me?z(o,u):o.vars.yoyoEase&&(!o._yoyo||!o._repeat)&&o._yoyo!==u&&(o.timeline?z(o.timeline,u):(a=o._ease,o._ease=o._yEase,o._yEase=a,o._yoyo=u)),o=o._next},Oi=function(n,u){return n&&($t(n)?n:Lt[n]||So(n))||u},Ei=function(n,u,o,a){o===void 0&&(o=function(E){return 1-u(1-E)}),a===void 0&&(a=function(E){return E<.5?u(E*2)/2:1-u((1-E)*2)/2});var g={easeIn:u,easeOut:o,easeInOut:a},b;return xe(n,function(I){Lt[I]=Ae[I]=g,Lt[b=I.toLowerCase()]=o;for(var E in g)Lt[b+(E==="easeIn"?".in":E==="easeOut"?".out":".inOut")]=Lt[I+"."+E]=g[E]}),g},Ta=function(n){return function(u){return u<.5?(1-n(1-u*2))/2:.5+n((u-.5)*2)/2}},xr=function z(n,u,o){var a=u>=1?u:1,g=(o||(n?.3:.45))/(u<1?u:1),b=g/Pr*(Math.asin(1/a)||0),I=function(R){return R===1?1:a*Math.pow(2,-10*R)*$u((R-b)*g)+1},E=n==="out"?I:n==="in"?function(L){return 1-I(1-L)}:Ta(I);return g=Pr/g,E.config=function(L,R){return z(n,L,R)},E},Sr=function z(n,u){u===void 0&&(u=1.70158);var o=function(b){return b?--b*b*((u+1)*b+u)+1:0},a=n==="out"?o:n==="in"?function(g){return 1-o(1-g)}:Ta(o);return a.config=function(g){return z(n,g)},a};xe("Linear,Quad,Cubic,Quart,Quint,Strong",function(z,n){var u=n<5?n+1:n;Ei(z+",Power"+(u-1),n?function(o){return Math.pow(o,u)}:function(o){return o},function(o){return 1-Math.pow(1-o,u)},function(o){return o<.5?Math.pow(o*2,u)/2:1-Math.pow((1-o)*2,u)/2})});Lt.Linear.easeNone=Lt.none=Lt.Linear.easeIn;Ei("Elastic",xr("in"),xr("out"),xr());(function(z,n){var u=1/n,o=2*u,a=2.5*u,g=function(I){return I<u?z*I*I:I<o?z*Math.pow(I-1.5/n,2)+.75:I<a?z*(I-=2.25/n)*I+.9375:z*Math.pow(I-2.625/n,2)+.984375};Ei("Bounce",function(b){return 1-g(1-b)},g)})(7.5625,2.75);Ei("Expo",function(z){return z?Math.pow(2,10*(z-1)):0});Ei("Circ",function(z){return-(Qs(1-z*z)-1)});Ei("Sine",function(z){return z===1?1:-Yu(z*Zu)+1});Ei("Back",Sr("in"),Sr("out"),Sr());Lt.SteppedEase=Lt.steps=Ae.SteppedEase={config:function(n,u){n===void 0&&(n=1);var o=1/n,a=n+(u?0:1),g=u?1:0,b=1-Ht;return function(I){return((a*gn(0,b,I)|0)+g)*o}}};Wi.ease=Lt["quad.out"];xe("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(z){return Ur+=z+","+z+"Params,"});var Zr=function(n,u){this.id=Xu++,n._gsap=this,this.target=n,this.harness=u,this.get=u?u.get:Gr,this.set=u?u.getSetter:Yn},$i=function(){function z(u){this.vars=u,this._delay=+u.delay||0,(this._repeat=u.repeat===1/0?-2:u.repeat||0)&&(this._rDelay=u.repeatDelay||0,this._yoyo=!!u.yoyo||!!u.yoyoEase),this._ts=1,Xi(this,+u.duration,1,1),this.data=u.data,ne&&(this._ctx=ne,ne.data.push(this)),dn||ke.wake()}var n=z.prototype;return n.delay=function(o){return o||o===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+o-this._delay),this._delay=o,this):this._delay},n.duration=function(o){return arguments.length?this.totalDuration(this._repeat>0?o+(o+this._rDelay)*this._repeat:o):this.totalDuration()&&this._dur},n.totalDuration=function(o){return arguments.length?(this._dirty=0,Xi(this,this._repeat<0?o:(o-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},n.totalTime=function(o,a){if(Yi(),!arguments.length)return this._tTime;var g=this._dp;if(g&&g.smoothChildTiming&&this._ts){for(Xn(this,o),!g._dp||g.parent||la(g,this);g&&g.parent;)g.parent._time!==g._start+(g._ts>=0?g._tTime/g._ts:(g.totalDuration()-g._tTime)/-g._ts)&&g.totalTime(g._tTime,!0),g=g.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&o<this._tDur||this._ts<0&&o>0||!this._tDur&&!o)&&Ke(this._dp,this,this._start-this._delay)}return(this._tTime!==o||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Ht||!o&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=o),ua(this,o,a)),this},n.time=function(o,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),o+Xs(this))%(this._dur+this._rDelay)||(o?this._dur:0),a):this._time},n.totalProgress=function(o,a){return arguments.length?this.totalTime(this.totalDuration()*o,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},n.progress=function(o,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-o:o)+Xs(this),a):this.duration()?Math.min(1,this._time/this._dur):this.ratio},n.iteration=function(o,a){var g=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(o-1)*g,a):this._repeat?Zi(this._tTime,g)+1:1},n.timeScale=function(o){if(!arguments.length)return this._rts===-Ht?0:this._rts;if(this._rts===o)return this;var a=this.parent&&this._ts?qn(this.parent._time,this):this._tTime;return this._rts=+o||0,this._ts=this._ps||o===-Ht?0:this._rts,this.totalTime(gn(-this._delay,this._tDur,a),!0),Zn(this),io(this)},n.paused=function(o){return arguments.length?(this._ps!==o&&(this._ps=o,o?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Yi(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ht&&(this._tTime-=Ht)))),this):this._ps},n.startTime=function(o){if(arguments.length){this._start=o;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Ke(a,this,o-this._delay),this}return this._start},n.endTime=function(o){return this._start+(Oe(o)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},n.rawTime=function(o){var a=this.parent||this._dp;return a?o&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?qn(a.rawTime(o),this):this._tTime:this._tTime},n.revert=function(o){o===void 0&&(o=Ju);var a=ye;return ye=o,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(o),this.totalTime(-.01,o.suppressEvents)),this.data!=="nested"&&o.kill!==!1&&this.kill(),ye=a,this},n.globalTime=function(o){for(var a=this,g=arguments.length?o:a.rawTime();a;)g=a._start+g/(a._ts||1),a=a._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(o):g},n.repeat=function(o){return arguments.length?(this._repeat=o===1/0?-2:o,Ys(this)):this._repeat===-2?1/0:this._repeat},n.repeatDelay=function(o){if(arguments.length){var a=this._time;return this._rDelay=o,Ys(this),a?this.time(a):this}return this._rDelay},n.yoyo=function(o){return arguments.length?(this._yoyo=o,this):this._yoyo},n.seek=function(o,a){return this.totalTime(De(this,o),Oe(a))},n.restart=function(o,a){return this.play().totalTime(o?-this._delay:0,Oe(a))},n.play=function(o,a){return o!=null&&this.seek(o,a),this.reversed(!1).paused(!1)},n.reverse=function(o,a){return o!=null&&this.seek(o||this.totalDuration(),a),this.reversed(!0).paused(!1)},n.pause=function(o,a){return o!=null&&this.seek(o,a),this.paused(!0)},n.resume=function(){return this.paused(!1)},n.reversed=function(o){return arguments.length?(!!o!==this.reversed()&&this.timeScale(-this._rts||(o?-Ht:0)),this):this._rts<0},n.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ht,this},n.isActive=function(){var o=this.parent||this._dp,a=this._start,g;return!!(!o||this._ts&&this._initted&&o.isActive()&&(g=o.rawTime(!0))>=a&&g<this.endTime(!0)-Ht)},n.eventCallback=function(o,a,g){var b=this.vars;return arguments.length>1?(a?(b[o]=a,g&&(b[o+"Params"]=g),o==="onUpdate"&&(this._onUpdate=a)):delete b[o],this):b[o]},n.then=function(o){var a=this;return new Promise(function(g){var b=$t(o)?o:ha,I=function(){var L=a.then;a.then=null,$t(b)&&(b=b(a))&&(b.then||b===a)&&(a.then=L),g(b),a.then=L};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?I():a._prom=I})},n.kill=function(){on(this)},z}();Ve($i.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ht,_prom:0,_ps:!1,_rts:1});var me=function(z){Js(n,z);function n(o,a){var g;return o===void 0&&(o={}),g=z.call(this,o)||this,g.labels={},g.smoothChildTiming=!!o.smoothChildTiming,g.autoRemoveChildren=!!o.autoRemoveChildren,g._sort=Oe(o.sortChildren),Zt&&Ke(o.parent||Zt,ii(g),a),o.reversed&&g.reverse(),o.paused&&g.paused(!0),o.scrollTrigger&&ca(ii(g),o.scrollTrigger),g}var u=n.prototype;return u.to=function(a,g,b){return ln(0,arguments,this),this},u.from=function(a,g,b){return ln(1,arguments,this),this},u.fromTo=function(a,g,b,I){return ln(2,arguments,this),this},u.set=function(a,g,b){return g.duration=0,g.parent=this,fn(g).repeatDelay||(g.repeat=0),g.immediateRender=!!g.immediateRender,new ie(a,g,De(this,b),1),this},u.call=function(a,g,b){return Ke(this,ie.delayedCall(0,a,g),b)},u.staggerTo=function(a,g,b,I,E,L,R){return b.duration=g,b.stagger=b.stagger||I,b.onComplete=L,b.onCompleteParams=R,b.parent=this,new ie(a,b,De(this,E)),this},u.staggerFrom=function(a,g,b,I,E,L,R){return b.runBackwards=1,fn(b).immediateRender=Oe(b.immediateRender),this.staggerTo(a,g,b,I,E,L,R)},u.staggerFromTo=function(a,g,b,I,E,L,R,$){return I.startAt=b,fn(I).immediateRender=Oe(I.immediateRender),this.staggerTo(a,g,I,E,L,R,$)},u.render=function(a,g,b){var I=this._time,E=this._dirty?this.totalDuration():this._tDur,L=this._dur,R=a<=0?0:ge(a),$=this._zTime<0!=a<0&&(this._initted||!L),A,K,Y,Z,j,ot,it,ut,lt,et,vt,mt;if(this!==Zt&&R>E&&a>=0&&(R=E),R!==this._tTime||b||$){if(I!==this._time&&L&&(R+=this._time-I,a+=this._time-I),A=R,lt=this._start,ut=this._ts,ot=!ut,$&&(L||(I=this._zTime),(a||!g)&&(this._zTime=a)),this._repeat){if(vt=this._yoyo,j=L+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(j*100+a,g,b);if(A=ge(R%j),R===E?(Z=this._repeat,A=L):(Z=~~(R/j),Z&&Z===R/j&&(A=L,Z--),A>L&&(A=L)),et=Zi(this._tTime,j),!I&&this._tTime&&et!==Z&&(et=Z),vt&&Z&1&&(A=L-A,mt=1),Z!==et&&!this._lock){var ct=vt&&et&1,_t=ct===(vt&&Z&1);if(Z<et&&(ct=!ct),I=ct?0:L,this._lock=1,this.render(I||(mt?0:ge(Z*j)),g,!L)._lock=0,this._tTime=R,!g&&this.parent&&Be(this,"onRepeat"),this.vars.repeatRefresh&&!mt&&(this.invalidate()._lock=1),I&&I!==this._time||ot!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(L=this._dur,E=this._tDur,_t&&(this._lock=2,I=ct?L:-1e-4,this.render(I,!0),this.vars.repeatRefresh&&!mt&&this.invalidate()),this._lock=0,!this._ts&&!ot)return this;Ca(this,mt)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(it=ao(this,ge(I),ge(A)),it&&(R-=A-(A=it._start))),this._tTime=R,this._time=A,this._act=!ut,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,I=0),!I&&A&&!g&&(Be(this,"onStart"),this._tTime!==R))return this;if(A>=I&&a>=0)for(K=this._first;K;){if(Y=K._next,(K._act||A>=K._start)&&K._ts&&it!==K){if(K.parent!==this)return this.render(a,g,b);if(K.render(K._ts>0?(A-K._start)*K._ts:(K._dirty?K.totalDuration():K._tDur)+(A-K._start)*K._ts,g,b),A!==this._time||!this._ts&&!ot){it=0,Y&&(R+=this._zTime=-Ht);break}}K=Y}else{K=this._last;for(var zt=a<0?a:A;K;){if(Y=K._prev,(K._act||zt<=K._end)&&K._ts&&it!==K){if(K.parent!==this)return this.render(a,g,b);if(K.render(K._ts>0?(zt-K._start)*K._ts:(K._dirty?K.totalDuration():K._tDur)+(zt-K._start)*K._ts,g,b||ye&&(K._initted||K._startAt)),A!==this._time||!this._ts&&!ot){it=0,Y&&(R+=this._zTime=zt?-Ht:Ht);break}}K=Y}}if(it&&!g&&(this.pause(),it.render(A>=I?0:-Ht)._zTime=A>=I?1:-1,this._ts))return this._start=lt,Zn(this),this.render(a,g,b);this._onUpdate&&!g&&Be(this,"onUpdate",!0),(R===E&&this._tTime>=this.totalDuration()||!R&&I)&&(lt===this._start||Math.abs(ut)!==Math.abs(this._ts))&&(this._lock||((a||!L)&&(R===E&&this._ts>0||!R&&this._ts<0)&&gi(this,1),!g&&!(a<0&&!I)&&(R||I||!E)&&(Be(this,R===E&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(R<E&&this.timeScale()>0)&&this._prom())))}return this},u.add=function(a,g){var b=this;if(ri(g)||(g=De(this,g,a)),!(a instanceof $i)){if(we(a))return a.forEach(function(I){return b.add(I,g)}),this;if(he(a))return this.addLabel(a,g);if($t(a))a=ie.delayedCall(0,a);else return this}return this!==a?Ke(this,a,g):this},u.getChildren=function(a,g,b,I){a===void 0&&(a=!0),g===void 0&&(g=!0),b===void 0&&(b=!0),I===void 0&&(I=-Ne);for(var E=[],L=this._first;L;)L._start>=I&&(L instanceof ie?g&&E.push(L):(b&&E.push(L),a&&E.push.apply(E,L.getChildren(!0,g,b)))),L=L._next;return E},u.getById=function(a){for(var g=this.getChildren(1,1,1),b=g.length;b--;)if(g[b].vars.id===a)return g[b]},u.remove=function(a){return he(a)?this.removeLabel(a):$t(a)?this.killTweensOf(a):(Wn(this,a),a===this._recent&&(this._recent=this._last),ki(this))},u.totalTime=function(a,g){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ge(ke.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),z.prototype.totalTime.call(this,a,g),this._forcing=0,this):this._tTime},u.addLabel=function(a,g){return this.labels[a]=De(this,g),this},u.removeLabel=function(a){return delete this.labels[a],this},u.addPause=function(a,g,b){var I=ie.delayedCall(0,g||_n,b);return I.data="isPause",this._hasPause=1,Ke(this,I,De(this,a))},u.removePause=function(a){var g=this._first;for(a=De(this,a);g;)g._start===a&&g.data==="isPause"&&gi(g),g=g._next},u.killTweensOf=function(a,g,b){for(var I=this.getTweensOf(a,b),E=I.length;E--;)ci!==I[E]&&I[E].kill(a,g);return this},u.getTweensOf=function(a,g){for(var b=[],I=Fe(a),E=this._first,L=ri(g),R;E;)E instanceof ie?Qu(E._targets,I)&&(L?(!ci||E._initted&&E._ts)&&E.globalTime(0)<=g&&E.globalTime(E.totalDuration())>g:!g||E.isActive())&&b.push(E):(R=E.getTweensOf(I,g)).length&&b.push.apply(b,R),E=E._next;return b},u.tweenTo=function(a,g){g=g||{};var b=this,I=De(b,a),E=g,L=E.startAt,R=E.onStart,$=E.onStartParams,A=E.immediateRender,K,Y=ie.to(b,Ve({ease:g.ease||"none",lazy:!1,immediateRender:!1,time:I,overwrite:"auto",duration:g.duration||Math.abs((I-(L&&"time"in L?L.time:b._time))/b.timeScale())||Ht,onStart:function(){if(b.pause(),!K){var j=g.duration||Math.abs((I-(L&&"time"in L?L.time:b._time))/b.timeScale());Y._dur!==j&&Xi(Y,j,0,1).render(Y._time,!0,!0),K=1}R&&R.apply(Y,$||[])}},g));return A?Y.render(0):Y},u.tweenFromTo=function(a,g,b){return this.tweenTo(g,Ve({startAt:{time:De(this,a)}},b))},u.recent=function(){return this._recent},u.nextLabel=function(a){return a===void 0&&(a=this._time),$s(this,De(this,a))},u.previousLabel=function(a){return a===void 0&&(a=this._time),$s(this,De(this,a),1)},u.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Ht)},u.shiftChildren=function(a,g,b){b===void 0&&(b=0);for(var I=this._first,E=this.labels,L;I;)I._start>=b&&(I._start+=a,I._end+=a),I=I._next;if(g)for(L in E)E[L]>=b&&(E[L]+=a);return ki(this)},u.invalidate=function(a){var g=this._first;for(this._lock=0;g;)g.invalidate(a),g=g._next;return z.prototype.invalidate.call(this,a)},u.clear=function(a){a===void 0&&(a=!0);for(var g=this._first,b;g;)b=g._next,this.remove(g),g=b;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),ki(this)},u.totalDuration=function(a){var g=0,b=this,I=b._last,E=Ne,L,R,$;if(arguments.length)return b.timeScale((b._repeat<0?b.duration():b.totalDuration())/(b.reversed()?-a:a));if(b._dirty){for($=b.parent;I;)L=I._prev,I._dirty&&I.totalDuration(),R=I._start,R>E&&b._sort&&I._ts&&!b._lock?(b._lock=1,Ke(b,I,R-I._delay,1)._lock=0):E=R,R<0&&I._ts&&(g-=R,(!$&&!b._dp||$&&$.smoothChildTiming)&&(b._start+=R/b._ts,b._time-=R,b._tTime-=R),b.shiftChildren(-R,!1,-1/0),E=0),I._end>g&&I._ts&&(g=I._end),I=L;Xi(b,b===Zt&&b._time>g?b._time:g,1,1),b._dirty=0}return b._tDur},n.updateRoot=function(a){if(Zt._ts&&(ua(Zt,qn(a,Zt)),aa=ke.frame),ke.frame>=Ws){Ws+=Ie.autoSleep||120;var g=Zt._first;if((!g||!g._ts)&&Ie.autoSleep&&ke._listeners.length<2){for(;g&&!g._ts;)g=g._next;g||ke.sleep()}}},n}($i);Ve(me.prototype,{_lock:0,_hasPause:0,_forcing:0});var Co=function(n,u,o,a,g,b,I){var E=new Se(this._pt,n,u,0,1,Kr,null,g),L=0,R=0,$,A,K,Y,Z,j,ot,it;for(E.b=o,E.e=a,o+="",a+="",(ot=~a.indexOf("random("))&&(a=Ki(a)),b&&(it=[o,a],b(it,n,u),o=it[0],a=it[1]),A=o.match(yr)||[];$=yr.exec(a);)Y=$[0],Z=a.substring(L,$.index),K?K=(K+1)%5:Z.substr(-5)==="rgba("&&(K=1),Y!==A[R++]&&(j=parseFloat(A[R-1])||0,E._pt={_next:E._pt,p:Z||R===1?Z:",",s:j,c:Y.charAt(1)==="="?Ai(j,Y)-j:parseFloat(Y)-j,m:K&&K<4?Math.round:0},L=yr.lastIndex);return E.c=L<a.length?a.substring(L,a.length):"",E.fp=I,(Br.test(a)||ot)&&(E.e=0),this._pt=E,E},Xr=function(n,u,o,a,g,b,I,E,L,R){$t(a)&&(a=a(g||0,n,b));var $=n[u],A=o!=="get"?o:$t($)?L?n[u.indexOf("set")||!$t(n["get"+u.substr(3)])?u:"get"+u.substr(3)](L):n[u]():$,K=$t($)?L?Io:Oa:jr,Y;if(he(a)&&(~a.indexOf("random(")&&(a=Ki(a)),a.charAt(1)==="="&&(Y=Ai(A,a)+(pe(A)||0),(Y||Y===0)&&(a=Y))),!R||A!==a||Dr)return!isNaN(A*a)&&a!==""?(Y=new Se(this._pt,n,u,+A||0,a-(A||0),typeof $=="boolean"?Ao:Ia,0,K),L&&(Y.fp=L),I&&Y.modifier(I,this,n),this._pt=Y):(!$&&!(u in n)&&Gn(u,a),Co.call(this,n,u,A,a,K,E||Ie.stringFilter,L))},To=function(n,u,o,a,g){if($t(n)&&(n=cn(n,g,u,o,a)),!Je(n)||n.style&&n.nodeType||we(n)||ea(n))return he(n)?cn(n,g,u,o,a):n;var b={},I;for(I in n)b[I]=cn(n[I],g,u,o,a);return b},Yr=function(n,u,o,a,g,b){var I,E,L,R;if(Pe[n]&&(I=new Pe[n]).init(g,I.rawVars?u[n]:To(u[n],a,g,b,o),o,a,b)!==!1&&(o._pt=E=new Se(o._pt,g,n,0,1,I.render,I,0,I.priority),o!==Gi))for(L=o._ptLookup[o._targets.indexOf(g)],R=I._props.length;R--;)L[I._props[R]]=E;return I},ci,Dr,$r=function z(n,u,o){var a=n.vars,g=a.ease,b=a.startAt,I=a.immediateRender,E=a.lazy,L=a.onUpdate,R=a.onUpdateParams,$=a.callbackScope,A=a.runBackwards,K=a.yoyoEase,Y=a.keyframes,Z=a.autoRevert,j=n._dur,ot=n._startAt,it=n._targets,ut=n.parent,lt=ut&&ut.data==="nested"?ut.vars.targets:it,et=n._overwrite==="auto"&&!Nr,vt=n.timeline,mt,ct,_t,zt,At,Rt,yt,Gt,at,Ft,qt,Ct,fe;if(vt&&(!Y||!g)&&(g="none"),n._ease=Oi(g,Wi.ease),n._yEase=K?Sa(Oi(K===!0?g:K,Wi.ease)):0,K&&n._yoyo&&!n._repeat&&(K=n._yEase,n._yEase=n._ease,n._ease=K),n._from=!vt&&!!a.runBackwards,!vt||Y&&!a.stagger){if(Gt=it[0]?di(it[0]).harness:0,Ct=Gt&&a[Gt.prop],mt=Vn(a,qr),ot&&(ot._zTime<0&&ot.progress(1),u<0&&A&&I&&!Z?ot.render(-1,!0):ot.revert(A&&j?Ln:Ku),ot._lazy=0),b){if(gi(n._startAt=ie.set(it,Ve({data:"isStart",overwrite:!1,parent:ut,immediateRender:!0,lazy:!ot&&Oe(E),startAt:null,delay:0,onUpdate:L,onUpdateParams:R,callbackScope:$,stagger:0},b))),n._startAt._dp=0,n._startAt._sat=n,u<0&&(ye||!I&&!Z)&&n._startAt.revert(Ln),I&&j&&u<=0&&o<=0){u&&(n._zTime=u);return}}else if(A&&j&&!ot){if(u&&(I=!1),_t=Ve({overwrite:!1,data:"isFromStart",lazy:I&&!ot&&Oe(E),immediateRender:I,stagger:0,parent:ut},mt),Ct&&(_t[Gt.prop]=Ct),gi(n._startAt=ie.set(it,_t)),n._startAt._dp=0,n._startAt._sat=n,u<0&&(ye?n._startAt.revert(Ln):n._startAt.render(-1,!0)),n._zTime=u,!I)z(n._startAt,Ht,Ht);else if(!u)return}for(n._pt=n._ptCache=0,E=j&&Oe(E)||E&&!j,ct=0;ct<it.length;ct++){if(At=it[ct],yt=At._gsap||Hr(it)[ct]._gsap,n._ptLookup[ct]=Ft={},Ir[yt.id]&&_i.length&&Bn(),qt=lt===it?ct:lt.indexOf(At),Gt&&(at=new Gt).init(At,Ct||mt,n,qt,lt)!==!1&&(n._pt=zt=new Se(n._pt,At,at.name,0,1,at.render,at,0,at.priority),at._props.forEach(function(Ye){Ft[Ye]=zt}),at.priority&&(Rt=1)),!Gt||Ct)for(_t in mt)Pe[_t]&&(at=Yr(_t,mt,n,qt,At,lt))?at.priority&&(Rt=1):Ft[_t]=zt=Xr.call(n,At,_t,"get",mt[_t],qt,lt,0,a.stringFilter);n._op&&n._op[ct]&&n.kill(At,n._op[ct]),et&&n._pt&&(ci=n,Zt.killTweensOf(At,Ft,n.globalTime(u)),fe=!n.parent,ci=0),n._pt&&E&&(Ir[yt.id]=1)}Rt&&Qr(n),n._onInit&&n._onInit(n)}n._onUpdate=L,n._initted=(!n._op||n._pt)&&!fe,Y&&u<=0&&vt.render(Ne,!0,!0)},Po=function(n,u,o,a,g,b,I){var E=(n._pt&&n._ptCache||(n._ptCache={}))[u],L,R,$,A;if(!E)for(E=n._ptCache[u]=[],$=n._ptLookup,A=n._targets.length;A--;){if(L=$[A][u],L&&L.d&&L.d._pt)for(L=L.d._pt;L&&L.p!==u&&L.fp!==u;)L=L._next;if(!L)return Dr=1,n.vars[u]="+=0",$r(n,I),Dr=0,1;E.push(L)}for(A=E.length;A--;)R=E[A],L=R._pt||R,L.s=(a||a===0)&&!g?a:L.s+(a||0)+b*L.c,L.c=o-L.s,R.e&&(R.e=jt(o)+pe(R.e)),R.b&&(R.b=L.s+pe(R.b))},ko=function(n,u){var o=n[0]?di(n[0]).harness:0,a=o&&o.aliases,g,b,I,E;if(!a)return u;g=Ii({},u);for(b in a)if(b in g)for(E=a[b].split(","),I=E.length;I--;)g[E[I]]=g[b];return g},Oo=function(n,u,o,a){var g=u.ease||a||"power1.inOut",b,I;if(we(u))I=o[n]||(o[n]=[]),u.forEach(function(E,L){return I.push({t:L/(u.length-1)*100,v:E,e:g})});else for(b in u)I=o[b]||(o[b]=[]),b==="ease"||I.push({t:parseFloat(n),v:u[b],e:g})},cn=function(n,u,o,a,g){return $t(n)?n.call(u,o,a,g):he(n)&&~n.indexOf("random(")?Ki(n):n},Pa=Ur+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ka={};xe(Pa+",id,stagger,delay,duration,paused,scrollTrigger",function(z){return ka[z]=1});var ie=function(z){Js(n,z);function n(o,a,g,b){var I;typeof a=="number"&&(g.duration=a,a=g,g=null),I=z.call(this,b?a:fn(a))||this;var E=I.vars,L=E.duration,R=E.delay,$=E.immediateRender,A=E.stagger,K=E.overwrite,Y=E.keyframes,Z=E.defaults,j=E.scrollTrigger,ot=E.yoyoEase,it=a.parent||Zt,ut=(we(o)||ea(o)?ri(o[0]):"length"in a)?[o]:Fe(o),lt,et,vt,mt,ct,_t,zt,At;if(I._targets=ut.length?Hr(ut):Fn("GSAP target "+o+" not found. https://greensock.com",!Ie.nullTargetWarn)||[],I._ptLookup=[],I._overwrite=K,Y||A||zn(L)||zn(R)){if(a=I.vars,lt=I.timeline=new me({data:"nested",defaults:Z||{},targets:it&&it.data==="nested"?it.vars.targets:ut}),lt.kill(),lt.parent=lt._dp=ii(I),lt._start=0,A||zn(L)||zn(R)){if(mt=ut.length,zt=A&&pa(A),Je(A))for(ct in A)~Pa.indexOf(ct)&&(At||(At={}),At[ct]=A[ct]);for(et=0;et<mt;et++)vt=Vn(a,ka),vt.stagger=0,ot&&(vt.yoyoEase=ot),At&&Ii(vt,At),_t=ut[et],vt.duration=+cn(L,ii(I),et,_t,ut),vt.delay=(+cn(R,ii(I),et,_t,ut)||0)-I._delay,!A&&mt===1&&vt.delay&&(I._delay=R=vt.delay,I._start+=R,vt.delay=0),lt.to(_t,vt,zt?zt(et,_t,ut):0),lt._ease=Lt.none;lt.duration()?L=R=0:I.timeline=0}else if(Y){fn(Ve(lt.vars.defaults,{ease:"none"})),lt._ease=Oi(Y.ease||a.ease||"none");var Rt=0,yt,Gt,at;if(we(Y))Y.forEach(function(Ft){return lt.to(ut,Ft,">")}),lt.duration();else{vt={};for(ct in Y)ct==="ease"||ct==="easeEach"||Oo(ct,Y[ct],vt,Y.easeEach);for(ct in vt)for(yt=vt[ct].sort(function(Ft,qt){return Ft.t-qt.t}),Rt=0,et=0;et<yt.length;et++)Gt=yt[et],at={ease:Gt.e,duration:(Gt.t-(et?yt[et-1].t:0))/100*L},at[ct]=Gt.v,lt.to(ut,at,Rt),Rt+=at.duration;lt.duration()<L&&lt.to({},{duration:L-lt.duration()})}}L||I.duration(L=lt.duration())}else I.timeline=0;return K===!0&&!Nr&&(ci=ii(I),Zt.killTweensOf(ut),ci=0),Ke(it,ii(I),g),a.reversed&&I.reverse(),a.paused&&I.paused(!0),($||!L&&!Y&&I._start===ge(it._time)&&Oe($)&&no(ii(I))&&it.data!=="nested")&&(I._tTime=-Ht,I.render(Math.max(0,-R)||0)),j&&ca(ii(I),j),I}var u=n.prototype;return u.render=function(a,g,b){var I=this._time,E=this._tDur,L=this._dur,R=a<0,$=a>E-Ht&&!R?E:a<Ht?0:a,A,K,Y,Z,j,ot,it,ut,lt;if(!L)so(this,a,g,b);else if($!==this._tTime||!a||b||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==R){if(A=$,ut=this.timeline,this._repeat){if(Z=L+this._rDelay,this._repeat<-1&&R)return this.totalTime(Z*100+a,g,b);if(A=ge($%Z),$===E?(Y=this._repeat,A=L):(Y=~~($/Z),Y&&Y===$/Z&&(A=L,Y--),A>L&&(A=L)),ot=this._yoyo&&Y&1,ot&&(lt=this._yEase,A=L-A),j=Zi(this._tTime,Z),A===I&&!b&&this._initted)return this._tTime=$,this;Y!==j&&(ut&&this._yEase&&Ca(ut,ot),this.vars.repeatRefresh&&!ot&&!this._lock&&(this._lock=b=1,this.render(ge(Z*Y),!0).invalidate()._lock=0))}if(!this._initted){if(_a(this,R?a:A,b,g,$))return this._tTime=0,this;if(I!==this._time)return this;if(L!==this._dur)return this.render(a,g,b)}if(this._tTime=$,this._time=A,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=it=(lt||this._ease)(A/L),this._from&&(this.ratio=it=1-it),A&&!I&&!g&&(Be(this,"onStart"),this._tTime!==$))return this;for(K=this._pt;K;)K.r(it,K.d),K=K._next;ut&&ut.render(a<0?a:!A&&ot?-Ht:ut._dur*ut._ease(A/this._dur),g,b)||this._startAt&&(this._zTime=a),this._onUpdate&&!g&&(R&&Mr(this,a,g,b),Be(this,"onUpdate")),this._repeat&&Y!==j&&this.vars.onRepeat&&!g&&this.parent&&Be(this,"onRepeat"),($===this._tDur||!$)&&this._tTime===$&&(R&&!this._onUpdate&&Mr(this,a,!0,!0),(a||!L)&&($===this._tDur&&this._ts>0||!$&&this._ts<0)&&gi(this,1),!g&&!(R&&!I)&&($||I||ot)&&(Be(this,$===E?"onComplete":"onReverseComplete",!0),this._prom&&!($<E&&this.timeScale()>0)&&this._prom()))}return this},u.targets=function(){return this._targets},u.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),z.prototype.invalidate.call(this,a)},u.resetTo=function(a,g,b,I){dn||ke.wake(),this._ts||this.play();var E=Math.min(this._dur,(this._dp._time-this._start)*this._ts),L;return this._initted||$r(this,E),L=this._ease(E/this._dur),Po(this,a,g,b,I,L,E)?this.resetTo(a,g,b,I):(Xn(this,0),this.parent||fa(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},u.kill=function(a,g){if(g===void 0&&(g="all"),!a&&(!g||g==="all"))return this._lazy=this._pt=0,this.parent?on(this):this;if(this.timeline){var b=this.timeline.totalDuration();return this.timeline.killTweensOf(a,g,ci&&ci.vars.overwrite!==!0)._first||on(this),this.parent&&b!==this.timeline.totalDuration()&&Xi(this,this._dur*this.timeline._tDur/b,0,1),this}var I=this._targets,E=a?Fe(a):I,L=this._ptLookup,R=this._pt,$,A,K,Y,Z,j,ot;if((!g||g==="all")&&eo(I,E))return g==="all"&&(this._pt=0),on(this);for($=this._op=this._op||[],g!=="all"&&(he(g)&&(Z={},xe(g,function(it){return Z[it]=1}),g=Z),g=ko(I,g)),ot=I.length;ot--;)if(~E.indexOf(I[ot])){A=L[ot],g==="all"?($[ot]=g,Y=A,K={}):(K=$[ot]=$[ot]||{},Y=g);for(Z in Y)j=A&&A[Z],j&&((!("kill"in j.d)||j.d.kill(Z)===!0)&&Wn(this,j,"_pt"),delete A[Z]),K!=="all"&&(K[Z]=1)}return this._initted&&!this._pt&&R&&on(this),this},n.to=function(a,g){return new n(a,g,arguments[2])},n.from=function(a,g){return ln(1,arguments)},n.delayedCall=function(a,g,b,I){return new n(g,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:g,onReverseComplete:g,onCompleteParams:b,onReverseCompleteParams:b,callbackScope:I})},n.fromTo=function(a,g,b){return ln(2,arguments)},n.set=function(a,g){return g.duration=0,g.repeatDelay||(g.repeat=0),new n(a,g)},n.killTweensOf=function(a,g,b){return Zt.killTweensOf(a,g,b)},n}($i);Ve(ie.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xe("staggerTo,staggerFrom,staggerFromTo",function(z){ie[z]=function(){var n=new me,u=Er.call(arguments,0);return u.splice(z==="staggerFromTo"?5:4,0,0),n[z].apply(n,u)}});var jr=function(n,u,o){return n[u]=o},Oa=function(n,u,o){return n[u](o)},Io=function(n,u,o,a){return n[u](a.fp,o)},Mo=function(n,u,o){return n.setAttribute(u,o)},Yn=function(n,u){return $t(n[u])?Oa:Hn(n[u])&&n.setAttribute?Mo:jr},Ia=function(n,u){return u.set(u.t,u.p,Math.round((u.s+u.c*n)*1e6)/1e6,u)},Ao=function(n,u){return u.set(u.t,u.p,!!(u.s+u.c*n),u)},Kr=function(n,u){var o=u._pt,a="";if(!n&&u.b)a=u.b;else if(n===1&&u.e)a=u.e;else{for(;o;)a=o.p+(o.m?o.m(o.s+o.c*n):Math.round((o.s+o.c*n)*1e4)/1e4)+a,o=o._next;a+=u.c}u.set(u.t,u.p,a,u)},Jr=function(n,u){for(var o=u._pt;o;)o.r(n,o.d),o=o._next},Eo=function(n,u,o,a){for(var g=this._pt,b;g;)b=g._next,g.p===a&&g.modifier(n,u,o),g=b},zo=function(n){for(var u=this._pt,o,a;u;)a=u._next,u.p===n&&!u.op||u.op===n?Wn(this,u,"_pt"):u.dep||(o=1),u=a;return!o},Lo=function(n,u,o,a){a.mSet(n,u,a.m.call(a.tween,o,a.mt),a)},Qr=function(n){for(var u=n._pt,o,a,g,b;u;){for(o=u._next,a=g;a&&a.pr>u.pr;)a=a._next;(u._prev=a?a._prev:b)?u._prev._next=u:g=u,(u._next=a)?a._prev=u:b=u,u=o}n._pt=g},Se=function(){function z(u,o,a,g,b,I,E,L,R){this.t=o,this.s=g,this.c=b,this.p=a,this.r=I||Ia,this.d=E||this,this.set=L||jr,this.pr=R||0,this._next=u,u&&(u._prev=this)}var n=z.prototype;return n.modifier=function(o,a,g){this.mSet=this.mSet||this.set,this.set=Lo,this.m=o,this.mt=g,this.tween=a},z}();xe(Ur+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(z){return qr[z]=1});Ae.TweenMax=Ae.TweenLite=ie;Ae.TimelineLite=Ae.TimelineMax=me;Zt=new me({sortChildren:!1,defaults:Wi,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ie.stringFilter=Wr;var ji=[],Rn={},Do=[],Ks=0,Cr=function(n){return(Rn[n]||Do).map(function(u){return u()})},Rr=function(){var n=Date.now(),u=[];n-Ks>2&&(Cr("matchMediaInit"),ji.forEach(function(o){var a=o.queries,g=o.conditions,b,I,E,L;for(I in a)b=Re.matchMedia(a[I]).matches,b&&(E=1),b!==g[I]&&(g[I]=b,L=1);L&&(o.revert(),E&&u.push(o))}),Cr("matchMediaRevert"),u.forEach(function(o){return o.onMatch(o)}),Ks=n,Cr("matchMedia"))},Ma=function(){function z(u,o){this.selector=o&&zr(o),this.data=[],this._r=[],this.isReverted=!1,u&&this.add(u)}var n=z.prototype;return n.add=function(o,a,g){$t(o)&&(g=a,a=o,o=$t);var b=this,I=function(){var L=ne,R=b.selector,$;return L&&L!==b&&L.data.push(b),g&&(b.selector=zr(g)),ne=b,$=a.apply(b,arguments),$t($)&&b._r.push($),ne=L,b.selector=R,b.isReverted=!1,$};return b.last=I,o===$t?I(b):o?b[o]=I:I},n.ignore=function(o){var a=ne;ne=null,o(this),ne=a},n.getTweens=function(){var o=[];return this.data.forEach(function(a){return a instanceof z?o.push.apply(o,a.getTweens()):a instanceof ie&&!(a.parent&&a.parent.data==="nested")&&o.push(a)}),o},n.clear=function(){this._r.length=this.data.length=0},n.kill=function(o,a){var g=this;if(o){var b=this.getTweens();this.data.forEach(function(E){E.data==="isFlip"&&(E.revert(),E.getChildren(!0,!0,!1).forEach(function(L){return b.splice(b.indexOf(L),1)}))}),b.map(function(E){return{g:E.globalTime(0),t:E}}).sort(function(E,L){return L.g-E.g||-1}).forEach(function(E){return E.t.revert(o)}),this.data.forEach(function(E){return!(E instanceof $i)&&E.revert&&E.revert(o)}),this._r.forEach(function(E){return E(o,g)}),this.isReverted=!0}else this.data.forEach(function(E){return E.kill&&E.kill()});if(this.clear(),a){var I=ji.indexOf(this);~I&&ji.splice(I,1)}},n.revert=function(o){this.kill(o||{})},z}(),Ro=function(){function z(u){this.contexts=[],this.scope=u}var n=z.prototype;return n.add=function(o,a,g){Je(o)||(o={matches:o});var b=new Ma(0,g||this.scope),I=b.conditions={},E,L,R;this.contexts.push(b),a=b.add("onMatch",a),b.queries=o;for(L in o)L==="all"?R=1:(E=Re.matchMedia(o[L]),E&&(ji.indexOf(b)<0&&ji.push(b),(I[L]=E.matches)&&(R=1),E.addListener?E.addListener(Rr):E.addEventListener("change",Rr)));return R&&a(b),this},n.revert=function(o){this.kill(o||{})},n.kill=function(o){this.contexts.forEach(function(a){return a.kill(o,!0)})},z}(),Un={registerPlugin:function(){for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];u.forEach(function(a){return vo(a)})},timeline:function(n){return new me(n)},getTweensOf:function(n,u){return Zt.getTweensOf(n,u)},getProperty:function(n,u,o,a){he(n)&&(n=Fe(n)[0]);var g=di(n||{}).get,b=o?ha:oa;return o==="native"&&(o=""),n&&(u?b((Pe[u]&&Pe[u].get||g)(n,u,o,a)):function(I,E,L){return b((Pe[I]&&Pe[I].get||g)(n,I,E,L))})},quickSetter:function(n,u,o){if(n=Fe(n),n.length>1){var a=n.map(function(R){return be.quickSetter(R,u,o)}),g=a.length;return function(R){for(var $=g;$--;)a[$](R)}}n=n[0]||{};var b=Pe[u],I=di(n),E=I.harness&&(I.harness.aliases||{})[u]||u,L=b?function(R){var $=new b;Gi._pt=0,$.init(n,o?R+o:R,Gi,0,[n]),$.render(1,$),Gi._pt&&Jr(1,Gi)}:I.set(n,E);return b?L:function(R){return L(n,E,o?R+o:R,I,1)}},quickTo:function(n,u,o){var a,g=be.to(n,Ii((a={},a[u]="+=0.1",a.paused=!0,a),o||{})),b=function(E,L,R){return g.resetTo(u,E,L,R)};return b.tween=g,b},isTweening:function(n){return Zt.getTweensOf(n,!0).length>0},defaults:function(n){return n&&n.ease&&(n.ease=Oi(n.ease,Wi.ease)),Zs(Wi,n||{})},config:function(n){return Zs(Ie,n||{})},registerEffect:function(n){var u=n.name,o=n.effect,a=n.plugins,g=n.defaults,b=n.extendTimeline;(a||"").split(",").forEach(function(I){return I&&!Pe[I]&&!Ae[I]&&Fn(u+" effect requires "+I+" plugin.")}),wr[u]=function(I,E,L){return o(Fe(I),Ve(E||{},g),L)},b&&(me.prototype[u]=function(I,E,L){return this.add(wr[u](I,Je(E)?E:(L=E)&&{},this),L)})},registerEase:function(n,u){Lt[n]=Oi(u)},parseEase:function(n,u){return arguments.length?Oi(n,u):Lt},getById:function(n){return Zt.getById(n)},exportRoot:function(n,u){n===void 0&&(n={});var o=new me(n),a,g;for(o.smoothChildTiming=Oe(n.smoothChildTiming),Zt.remove(o),o._dp=0,o._time=o._tTime=Zt._time,a=Zt._first;a;)g=a._next,(u||!(!a._dur&&a instanceof ie&&a.vars.onComplete===a._targets[0]))&&Ke(o,a,a._start-a._delay),a=g;return Ke(Zt,o,0),o},context:function(n,u){return n?new Ma(n,u):ne},matchMedia:function(n){return new Ro(n)},matchMediaRefresh:function(){return ji.forEach(function(n){var u=n.conditions,o,a;for(a in u)u[a]&&(u[a]=!1,o=1);o&&n.revert()})||Rr()},addEventListener:function(n,u){var o=Rn[n]||(Rn[n]=[]);~o.indexOf(u)||o.push(u)},removeEventListener:function(n,u){var o=Rn[n],a=o&&o.indexOf(u);a>=0&&o.splice(a,1)},utils:{wrap:_o,wrapYoyo:go,distribute:pa,random:ma,snap:va,normalize:co,getUnit:pe,clamp:oo,splitColor:ba,toArray:Fe,selector:zr,mapRange:wa,pipe:fo,unitize:lo,interpolate:po,shuffle:ga},install:ra,effects:wr,ticker:ke,updateRoot:me.updateRoot,plugins:Pe,globalTimeline:Zt,core:{PropTween:Se,globals:sa,Tween:ie,Timeline:me,Animation:$i,getCache:di,_removeLinkedListItem:Wn,reverting:function(){return ye},context:function(n){return n&&ne&&(ne.data.push(n),n._ctx=ne),ne},suppressOverwrites:function(n){return Nr=n}}};xe("to,from,fromTo,delayedCall,set,killTweensOf",function(z){return Un[z]=ie[z]});ke.add(me.updateRoot);Gi=Un.to({},{duration:0});var No=function(n,u){for(var o=n._pt;o&&o.p!==u&&o.op!==u&&o.fp!==u;)o=o._next;return o},Fo=function(n,u){var o=n._targets,a,g,b;for(a in u)for(g=o.length;g--;)b=n._ptLookup[g][a],b&&(b=b.d)&&(b._pt&&(b=No(b,a)),b&&b.modifier&&b.modifier(u[a],n,o[g],a))},Tr=function(n,u){return{name:n,rawVars:1,init:function(a,g,b){b._onInit=function(I){var E,L;if(he(g)&&(E={},xe(g,function(R){return E[R]=1}),g=E),u){E={};for(L in g)E[L]=u(g[L]);g=E}Fo(I,g)}}}},be=Un.registerPlugin({name:"attr",init:function(n,u,o,a,g){var b,I,E;this.tween=o;for(b in u)E=n.getAttribute(b)||"",I=this.add(n,"setAttribute",(E||0)+"",u[b],a,g,0,0,b),I.op=b,I.b=E,this._props.push(b)},render:function(n,u){for(var o=u._pt;o;)ye?o.set(o.t,o.p,o.b,o):o.r(n,o.d),o=o._next}},{name:"endArray",init:function(n,u){for(var o=u.length;o--;)this.add(n,o,n[o]||0,u[o],0,0,0,0,0,1)}},Tr("roundProps",Lr),Tr("modifiers"),Tr("snap",va))||Un;ie.version=me.version=be.version="3.11.4";na=1;ta()&&Yi();var Bo=Lt.Power0,Vo=Lt.Power1,qo=Lt.Power2,Uo=Lt.Power3,Ho=Lt.Power4,Go=Lt.Linear,Wo=Lt.Quad,Zo=Lt.Cubic,Xo=Lt.Quart,Yo=Lt.Quint,$o=Lt.Strong,jo=Lt.Elastic,Ko=Lt.Back,Jo=Lt.SteppedEase,Qo=Lt.Bounce,th=Lt.Sine,eh=Lt.Expo,ih=Lt.Circ;var Aa,vi,Qi,as,Ri,nh,Ea,us,rh=function(){return typeof window<"u"},ui={},Di=180/Math.PI,tn=Math.PI/180,Ji=Math.atan2,za=1e8,os=/([A-Z])/g,sh=/(left|right|width|margin|padding|x)/i,ah=/[\s,\(]\S/,ai={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},is=function(n,u){return u.set(u.t,u.p,Math.round((u.s+u.c*n)*1e4)/1e4+u.u,u)},uh=function(n,u){return u.set(u.t,u.p,n===1?u.e:Math.round((u.s+u.c*n)*1e4)/1e4+u.u,u)},oh=function(n,u){return u.set(u.t,u.p,n?Math.round((u.s+u.c*n)*1e4)/1e4+u.u:u.b,u)},hh=function(n,u){var o=u.s+u.c*n;u.set(u.t,u.p,~~(o+(o<0?-.5:.5))+u.u,u)},Va=function(n,u){return u.set(u.t,u.p,n?u.e:u.b,u)},qa=function(n,u){return u.set(u.t,u.p,n!==1?u.b:u.e,u)},fh=function(n,u,o){return n.style[u]=o},lh=function(n,u,o){return n.style.setProperty(u,o)},ch=function(n,u,o){return n._gsap[u]=o},_h=function(n,u,o){return n._gsap.scaleX=n._gsap.scaleY=o},dh=function(n,u,o,a,g){var b=n._gsap;b.scaleX=b.scaleY=o,b.renderTransform(g,b)},gh=function(n,u,o,a,g){var b=n._gsap;b[u]=o,b.renderTransform(g,b)},Xt="transform",Xe=Xt+"Origin",ph=function(n,u){var o=this,a=this.target,g=a.style;if(n in ui){if(this.tfm=this.tfm||{},n!=="transform"&&(n=ai[n]||n,~n.indexOf(",")?n.split(",").forEach(function(b){return o.tfm[b]=si(a,b)}):this.tfm[n]=a._gsap.x?a._gsap[n]:si(a,n)),this.props.indexOf(Xt)>=0)return;a._gsap.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(Xe,u,"")),n=Xt}(g||u)&&this.props.push(n,u,g[n])},Ua=function(n){n.translate&&(n.removeProperty("translate"),n.removeProperty("scale"),n.removeProperty("rotate"))},vh=function(){var n=this.props,u=this.target,o=u.style,a=u._gsap,g,b;for(g=0;g<n.length;g+=3)n[g+1]?u[n[g]]=n[g+2]:n[g+2]?o[n[g]]=n[g+2]:o.removeProperty(n[g].replace(os,"-$1").toLowerCase());if(this.tfm){for(b in this.tfm)a[b]=this.tfm[b];a.svg&&(a.renderTransform(),u.setAttribute("data-svg-origin",this.svgo||"")),g=us(),g&&!g.isStart&&!o[Xt]&&(Ua(o),a.uncache=1)}},Ha=function(n,u){var o={target:n,props:[],revert:vh,save:ph};return u&&u.split(",").forEach(function(a){return o.save(a)}),o},Ga,ns=function(n,u){var o=vi.createElementNS?vi.createElementNS((u||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),n):vi.createElement(n);return o.style?o:vi.createElement(n)},Qe=function z(n,u,o){var a=getComputedStyle(n);return a[u]||a.getPropertyValue(u.replace(os,"-$1").toLowerCase())||a.getPropertyValue(u)||!o&&z(n,en(u)||u,1)||""},La="O,Moz,ms,Ms,Webkit".split(","),en=function(n,u,o){var a=u||Ri,g=a.style,b=5;if(n in g&&!o)return n;for(n=n.charAt(0).toUpperCase()+n.substr(1);b--&&!(La[b]+n in g););return b<0?null:(b===3?"ms":b>=0?La[b]:"")+n},rs=function(){rh()&&window.document&&(Aa=window,vi=Aa.document,Qi=vi.documentElement,Ri=ns("div")||{style:{}},nh=ns("div"),Xt=en(Xt),Xe=Xt+"Origin",Ri.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ga=!!en("perspective"),us=be.core.reverting,as=1)},ts=function z(n){var u=ns("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=this.parentNode,a=this.nextSibling,g=this.style.cssText,b;if(Qi.appendChild(u),u.appendChild(this),this.style.display="block",n)try{b=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=z}catch{}else this._gsapBBox&&(b=this._gsapBBox());return o&&(a?o.insertBefore(this,a):o.appendChild(this)),Qi.removeChild(u),this.style.cssText=g,b},Da=function(n,u){for(var o=u.length;o--;)if(n.hasAttribute(u[o]))return n.getAttribute(u[o])},Wa=function(n){var u;try{u=n.getBBox()}catch{u=ts.call(n,!0)}return u&&(u.width||u.height)||n.getBBox===ts||(u=ts.call(n,!0)),u&&!u.width&&!u.x&&!u.y?{x:+Da(n,["x","cx","x1"])||0,y:+Da(n,["y","cy","y1"])||0,width:0,height:0}:u},Za=function(n){return!!(n.getCTM&&(!n.parentNode||n.ownerSVGElement)&&Wa(n))},vn=function(n,u){if(u){var o=n.style;u in ui&&u!==Xe&&(u=Xt),o.removeProperty?((u.substr(0,2)==="ms"||u.substr(0,6)==="webkit")&&(u="-"+u),o.removeProperty(u.replace(os,"-$1").toLowerCase())):o.removeAttribute(u)}},mi=function(n,u,o,a,g,b){var I=new Se(n._pt,u,o,0,1,b?qa:Va);return n._pt=I,I.b=a,I.e=g,n._props.push(o),I},Ra={deg:1,rad:1,turn:1},mh={grid:1,flex:1},yi=function z(n,u,o,a){var g=parseFloat(o)||0,b=(o+"").trim().substr((g+"").length)||"px",I=Ri.style,E=sh.test(u),L=n.tagName.toLowerCase()==="svg",R=(L?"client":"offset")+(E?"Width":"Height"),$=100,A=a==="px",K=a==="%",Y,Z,j,ot;return a===b||!g||Ra[a]||Ra[b]?g:(b!=="px"&&!A&&(g=z(n,u,o,"px")),ot=n.getCTM&&Za(n),(K||b==="%")&&(ui[u]||~u.indexOf("adius"))?(Y=ot?n.getBBox()[E?"width":"height"]:n[R],jt(K?g/Y*$:g/100*Y)):(I[E?"width":"height"]=$+(A?b:a),Z=~u.indexOf("adius")||a==="em"&&n.appendChild&&!L?n:n.parentNode,ot&&(Z=(n.ownerSVGElement||{}).parentNode),(!Z||Z===vi||!Z.appendChild)&&(Z=vi.body),j=Z._gsap,j&&K&&j.width&&E&&j.time===ke.time&&!j.uncache?jt(g/j.width*$):((K||b==="%")&&!mh[Qe(Z,"display")]&&(I.position=Qe(n,"position")),Z===n&&(I.position="static"),Z.appendChild(Ri),Y=Ri[R],Z.removeChild(Ri),I.position="absolute",E&&K&&(j=di(Z),j.time=ke.time,j.width=Z[R]),jt(A?Y*g/$:Y&&g?$/Y*g:0))))},si=function(n,u,o,a){var g;return as||rs(),u in ai&&u!=="transform"&&(u=ai[u],~u.indexOf(",")&&(u=u.split(",")[0])),ui[u]&&u!=="transform"?(g=yn(n,a),g=u!=="transformOrigin"?g[u]:g.svg?g.origin:jn(Qe(n,Xe))+" "+g.zOrigin+"px"):(g=n.style[u],(!g||g==="auto"||a||~(g+"").indexOf("calc("))&&(g=$n[u]&&$n[u](n,u,o)||Qe(n,u)||Gr(n,u)||(u==="opacity"?1:0))),o&&!~(g+"").trim().indexOf(" ")?yi(n,u,g,o)+o:g},yh=function(n,u,o,a){if(!o||o==="none"){var g=en(u,n,1),b=g&&Qe(n,g,1);b&&b!==o?(u=g,o=b):u==="borderColor"&&(o=Qe(n,"borderTopColor"))}var I=new Se(this._pt,n.style,u,0,1,Kr),E=0,L=0,R,$,A,K,Y,Z,j,ot,it,ut,lt,et;if(I.b=o,I.e=a,o+="",a+="",a==="auto"&&(n.style[u]=a,a=Qe(n,u)||a,n.style[u]=o),R=[o,a],Wr(R),o=R[0],a=R[1],A=o.match(Mi)||[],et=a.match(Mi)||[],et.length){for(;$=Mi.exec(a);)j=$[0],it=a.substring(E,$.index),Y?Y=(Y+1)%5:(it.substr(-5)==="rgba("||it.substr(-5)==="hsla(")&&(Y=1),j!==(Z=A[L++]||"")&&(K=parseFloat(Z)||0,lt=Z.substr((K+"").length),j.charAt(1)==="="&&(j=Ai(K,j)+lt),ot=parseFloat(j),ut=j.substr((ot+"").length),E=Mi.lastIndex-ut.length,ut||(ut=ut||Ie.units[u]||lt,E===a.length&&(a+=ut,I.e+=ut)),lt!==ut&&(K=yi(n,u,Z,ut)||0),I._pt={_next:I._pt,p:it||L===1?it:",",s:K,c:ot-K,m:Y&&Y<4||u==="zIndex"?Math.round:0});I.c=E<a.length?a.substring(E,a.length):""}else I.r=u==="display"&&a==="none"?qa:Va;return Br.test(a)&&(I.e=0),this._pt=I,I},Na={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},wh=function(n){var u=n.split(" "),o=u[0],a=u[1]||"50%";return(o==="top"||o==="bottom"||a==="left"||a==="right")&&(n=o,o=a,a=n),u[0]=Na[o]||o,u[1]=Na[a]||a,u.join(" ")},bh=function(n,u){if(u.tween&&u.tween._time===u.tween._dur){var o=u.t,a=o.style,g=u.u,b=o._gsap,I,E,L;if(g==="all"||g===!0)a.cssText="",E=1;else for(g=g.split(","),L=g.length;--L>-1;)I=g[L],ui[I]&&(E=1,I=I==="transformOrigin"?Xe:Xt),vn(o,I);E&&(vn(o,Xt),b&&(b.svg&&o.removeAttribute("transform"),yn(o,1),b.uncache=1,Ua(a)))}},$n={clearProps:function(n,u,o,a,g){if(g.data!=="isFromStart"){var b=n._pt=new Se(n._pt,u,o,0,0,bh);return b.u=a,b.pr=-10,b.tween=g,n._props.push(o),1}}},mn=[1,0,0,1,0,0],Xa={},Ya=function(n){return n==="matrix(1, 0, 0, 1, 0, 0)"||n==="none"||!n},Fa=function(n){var u=Qe(n,Xt);return Ya(u)?mn:u.substr(7).match(Fr).map(jt)},hs=function(n,u){var o=n._gsap||di(n),a=n.style,g=Fa(n),b,I,E,L;return o.svg&&n.getAttribute("transform")?(E=n.transform.baseVal.consolidate().matrix,g=[E.a,E.b,E.c,E.d,E.e,E.f],g.join(",")==="1,0,0,1,0,0"?mn:g):(g===mn&&!n.offsetParent&&n!==Qi&&!o.svg&&(E=a.display,a.display="block",b=n.parentNode,(!b||!n.offsetParent)&&(L=1,I=n.nextElementSibling,Qi.appendChild(n)),g=Fa(n),E?a.display=E:vn(n,"display"),L&&(I?b.insertBefore(n,I):b?b.appendChild(n):Qi.removeChild(n))),u&&g.length>6?[g[0],g[1],g[4],g[5],g[12],g[13]]:g)},ss=function(n,u,o,a,g,b){var I=n._gsap,E=g||hs(n,!0),L=I.xOrigin||0,R=I.yOrigin||0,$=I.xOffset||0,A=I.yOffset||0,K=E[0],Y=E[1],Z=E[2],j=E[3],ot=E[4],it=E[5],ut=u.split(" "),lt=parseFloat(ut[0])||0,et=parseFloat(ut[1])||0,vt,mt,ct,_t;o?E!==mn&&(mt=K*j-Y*Z)&&(ct=lt*(j/mt)+et*(-Z/mt)+(Z*it-j*ot)/mt,_t=lt*(-Y/mt)+et*(K/mt)-(K*it-Y*ot)/mt,lt=ct,et=_t):(vt=Wa(n),lt=vt.x+(~ut[0].indexOf("%")?lt/100*vt.width:lt),et=vt.y+(~(ut[1]||ut[0]).indexOf("%")?et/100*vt.height:et)),a||a!==!1&&I.smooth?(ot=lt-L,it=et-R,I.xOffset=$+(ot*K+it*Z)-ot,I.yOffset=A+(ot*Y+it*j)-it):I.xOffset=I.yOffset=0,I.xOrigin=lt,I.yOrigin=et,I.smooth=!!a,I.origin=u,I.originIsAbsolute=!!o,n.style[Xe]="0px 0px",b&&(mi(b,I,"xOrigin",L,lt),mi(b,I,"yOrigin",R,et),mi(b,I,"xOffset",$,I.xOffset),mi(b,I,"yOffset",A,I.yOffset)),n.setAttribute("data-svg-origin",lt+" "+et)},yn=function(n,u){var o=n._gsap||new Zr(n);if("x"in o&&!u&&!o.uncache)return o;var a=n.style,g=o.scaleX<0,b="px",I="deg",E=getComputedStyle(n),L=Qe(n,Xe)||"0",R,$,A,K,Y,Z,j,ot,it,ut,lt,et,vt,mt,ct,_t,zt,At,Rt,yt,Gt,at,Ft,qt,Ct,fe,Ye,wi,Ee,wn,Bt,ze;return R=$=A=Z=j=ot=it=ut=lt=0,K=Y=1,o.svg=!!(n.getCTM&&Za(n)),E.translate&&((E.translate!=="none"||E.scale!=="none"||E.rotate!=="none")&&(a[Xt]=(E.translate!=="none"?"translate3d("+(E.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(E.rotate!=="none"?"rotate("+E.rotate+") ":"")+(E.scale!=="none"?"scale("+E.scale.split(" ").join(",")+") ":"")+(E[Xt]!=="none"?E[Xt]:"")),a.scale=a.rotate=a.translate="none"),mt=hs(n,o.svg),o.svg&&(o.uncache?(Ct=n.getBBox(),L=o.xOrigin-Ct.x+"px "+(o.yOrigin-Ct.y)+"px",qt=""):qt=!u&&n.getAttribute("data-svg-origin"),ss(n,qt||L,!!qt||o.originIsAbsolute,o.smooth!==!1,mt)),et=o.xOrigin||0,vt=o.yOrigin||0,mt!==mn&&(At=mt[0],Rt=mt[1],yt=mt[2],Gt=mt[3],R=at=mt[4],$=Ft=mt[5],mt.length===6?(K=Math.sqrt(At*At+Rt*Rt),Y=Math.sqrt(Gt*Gt+yt*yt),Z=At||Rt?Ji(Rt,At)*Di:0,it=yt||Gt?Ji(yt,Gt)*Di+Z:0,it&&(Y*=Math.abs(Math.cos(it*tn))),o.svg&&(R-=et-(et*At+vt*yt),$-=vt-(et*Rt+vt*Gt))):(ze=mt[6],wn=mt[7],Ye=mt[8],wi=mt[9],Ee=mt[10],Bt=mt[11],R=mt[12],$=mt[13],A=mt[14],ct=Ji(ze,Ee),j=ct*Di,ct&&(_t=Math.cos(-ct),zt=Math.sin(-ct),qt=at*_t+Ye*zt,Ct=Ft*_t+wi*zt,fe=ze*_t+Ee*zt,Ye=at*-zt+Ye*_t,wi=Ft*-zt+wi*_t,Ee=ze*-zt+Ee*_t,Bt=wn*-zt+Bt*_t,at=qt,Ft=Ct,ze=fe),ct=Ji(-yt,Ee),ot=ct*Di,ct&&(_t=Math.cos(-ct),zt=Math.sin(-ct),qt=At*_t-Ye*zt,Ct=Rt*_t-wi*zt,fe=yt*_t-Ee*zt,Bt=Gt*zt+Bt*_t,At=qt,Rt=Ct,yt=fe),ct=Ji(Rt,At),Z=ct*Di,ct&&(_t=Math.cos(ct),zt=Math.sin(ct),qt=At*_t+Rt*zt,Ct=at*_t+Ft*zt,Rt=Rt*_t-At*zt,Ft=Ft*_t-at*zt,At=qt,at=Ct),j&&Math.abs(j)+Math.abs(Z)>359.9&&(j=Z=0,ot=180-ot),K=jt(Math.sqrt(At*At+Rt*Rt+yt*yt)),Y=jt(Math.sqrt(Ft*Ft+ze*ze)),ct=Ji(at,Ft),it=Math.abs(ct)>2e-4?ct*Di:0,lt=Bt?1/(Bt<0?-Bt:Bt):0),o.svg&&(qt=n.getAttribute("transform"),o.forceCSS=n.setAttribute("transform","")||!Ya(Qe(n,Xt)),qt&&n.setAttribute("transform",qt))),Math.abs(it)>90&&Math.abs(it)<270&&(g?(K*=-1,it+=Z<=0?180:-180,Z+=Z<=0?180:-180):(Y*=-1,it+=it<=0?180:-180)),u=u||o.uncache,o.x=R-((o.xPercent=R&&(!u&&o.xPercent||(Math.round(n.offsetWidth/2)===Math.round(-R)?-50:0)))?n.offsetWidth*o.xPercent/100:0)+b,o.y=$-((o.yPercent=$&&(!u&&o.yPercent||(Math.round(n.offsetHeight/2)===Math.round(-$)?-50:0)))?n.offsetHeight*o.yPercent/100:0)+b,o.z=A+b,o.scaleX=jt(K),o.scaleY=jt(Y),o.rotation=jt(Z)+I,o.rotationX=jt(j)+I,o.rotationY=jt(ot)+I,o.skewX=it+I,o.skewY=ut+I,o.transformPerspective=lt+b,(o.zOrigin=parseFloat(L.split(" ")[2])||0)&&(a[Xe]=jn(L)),o.xOffset=o.yOffset=0,o.force3D=Ie.force3D,o.renderTransform=o.svg?Sh:Ga?$a:xh,o.uncache=0,o},jn=function(n){return(n=n.split(" "))[0]+" "+n[1]},es=function(n,u,o){var a=pe(u);return jt(parseFloat(u)+parseFloat(yi(n,"x",o+"px",a)))+a},xh=function(n,u){u.z="0px",u.rotationY=u.rotationX="0deg",u.force3D=0,$a(n,u)},zi="0deg",pn="0px",Li=") ",$a=function(n,u){var o=u||this,a=o.xPercent,g=o.yPercent,b=o.x,I=o.y,E=o.z,L=o.rotation,R=o.rotationY,$=o.rotationX,A=o.skewX,K=o.skewY,Y=o.scaleX,Z=o.scaleY,j=o.transformPerspective,ot=o.force3D,it=o.target,ut=o.zOrigin,lt="",et=ot==="auto"&&n&&n!==1||ot===!0;if(ut&&($!==zi||R!==zi)){var vt=parseFloat(R)*tn,mt=Math.sin(vt),ct=Math.cos(vt),_t;vt=parseFloat($)*tn,_t=Math.cos(vt),b=es(it,b,mt*_t*-ut),I=es(it,I,-Math.sin(vt)*-ut),E=es(it,E,ct*_t*-ut+ut)}j!==pn&&(lt+="perspective("+j+Li),(a||g)&&(lt+="translate("+a+"%, "+g+"%) "),(et||b!==pn||I!==pn||E!==pn)&&(lt+=E!==pn||et?"translate3d("+b+", "+I+", "+E+") ":"translate("+b+", "+I+Li),L!==zi&&(lt+="rotate("+L+Li),R!==zi&&(lt+="rotateY("+R+Li),$!==zi&&(lt+="rotateX("+$+Li),(A!==zi||K!==zi)&&(lt+="skew("+A+", "+K+Li),(Y!==1||Z!==1)&&(lt+="scale("+Y+", "+Z+Li),it.style[Xt]=lt||"translate(0, 0)"},Sh=function(n,u){var o=u||this,a=o.xPercent,g=o.yPercent,b=o.x,I=o.y,E=o.rotation,L=o.skewX,R=o.skewY,$=o.scaleX,A=o.scaleY,K=o.target,Y=o.xOrigin,Z=o.yOrigin,j=o.xOffset,ot=o.yOffset,it=o.forceCSS,ut=parseFloat(b),lt=parseFloat(I),et,vt,mt,ct,_t;E=parseFloat(E),L=parseFloat(L),R=parseFloat(R),R&&(R=parseFloat(R),L+=R,E+=R),E||L?(E*=tn,L*=tn,et=Math.cos(E)*$,vt=Math.sin(E)*$,mt=Math.sin(E-L)*-A,ct=Math.cos(E-L)*A,L&&(R*=tn,_t=Math.tan(L-R),_t=Math.sqrt(1+_t*_t),mt*=_t,ct*=_t,R&&(_t=Math.tan(R),_t=Math.sqrt(1+_t*_t),et*=_t,vt*=_t)),et=jt(et),vt=jt(vt),mt=jt(mt),ct=jt(ct)):(et=$,ct=A,vt=mt=0),(ut&&!~(b+"").indexOf("px")||lt&&!~(I+"").indexOf("px"))&&(ut=yi(K,"x",b,"px"),lt=yi(K,"y",I,"px")),(Y||Z||j||ot)&&(ut=jt(ut+Y-(Y*et+Z*mt)+j),lt=jt(lt+Z-(Y*vt+Z*ct)+ot)),(a||g)&&(_t=K.getBBox(),ut=jt(ut+a/100*_t.width),lt=jt(lt+g/100*_t.height)),_t="matrix("+et+","+vt+","+mt+","+ct+","+ut+","+lt+")",K.setAttribute("transform",_t),it&&(K.style[Xt]=_t)},Ch=function(n,u,o,a,g){var b=360,I=he(g),E=parseFloat(g)*(I&&~g.indexOf("rad")?Di:1),L=E-a,R=a+L+"deg",$,A;return I&&($=g.split("_")[1],$==="short"&&(L%=b,L!==L%(b/2)&&(L+=L<0?b:-b)),$==="cw"&&L<0?L=(L+b*za)%b-~~(L/b)*b:$==="ccw"&&L>0&&(L=(L-b*za)%b-~~(L/b)*b)),n._pt=A=new Se(n._pt,u,o,a,L,uh),A.e=R,A.u="deg",n._props.push(o),A},Ba=function(n,u){for(var o in u)n[o]=u[o];return n},Th=function(n,u,o){var a=Ba({},o._gsap),g="perspective,force3D,transformOrigin,svgOrigin",b=o.style,I,E,L,R,$,A,K,Y;a.svg?(L=o.getAttribute("transform"),o.setAttribute("transform",""),b[Xt]=u,I=yn(o,1),vn(o,Xt),o.setAttribute("transform",L)):(L=getComputedStyle(o)[Xt],b[Xt]=u,I=yn(o,1),b[Xt]=L);for(E in ui)L=a[E],R=I[E],L!==R&&g.indexOf(E)<0&&(K=pe(L),Y=pe(R),$=K!==Y?yi(o,E,L,Y):parseFloat(L),A=parseFloat(R),n._pt=new Se(n._pt,I,E,$,A-$,is),n._pt.u=Y||0,n._props.push(E));Ba(I,a)};xe("padding,margin,Width,Radius",function(z,n){var u="Top",o="Right",a="Bottom",g="Left",b=(n<3?[u,o,a,g]:[u+g,u+o,a+o,a+g]).map(function(I){return n<2?z+I:"border"+I+z});$n[n>1?"border"+z:z]=function(I,E,L,R,$){var A,K;if(arguments.length<4)return A=b.map(function(Y){return si(I,Y,L)}),K=A.join(" "),K.split(A[0]).length===5?A[0]:K;A=(R+"").split(" "),K={},b.forEach(function(Y,Z){return K[Y]=A[Z]=A[Z]||A[(Z-1)/2|0]}),I.init(E,K,$)}});var fs={name:"css",register:rs,targetTest:function(n){return n.style&&n.nodeType},init:function(n,u,o,a,g){var b=this._props,I=n.style,E=o.vars.startAt,L,R,$,A,K,Y,Z,j,ot,it,ut,lt,et,vt,mt,ct;as||rs(),this.styles=this.styles||Ha(n),ct=this.styles.props,this.tween=o;for(Z in u)if(Z!=="autoRound"&&(R=u[Z],!(Pe[Z]&&Yr(Z,u,o,a,n,g)))){if(K=typeof R,Y=$n[Z],K==="function"&&(R=R.call(o,a,n,g),K=typeof R),K==="string"&&~R.indexOf("random(")&&(R=Ki(R)),Y)Y(this,n,Z,R,o)&&(mt=1);else if(Z.substr(0,2)==="--")L=(getComputedStyle(n).getPropertyValue(Z)+"").trim(),R+="",ni.lastIndex=0,ni.test(L)||(j=pe(L),ot=pe(R)),ot?j!==ot&&(L=yi(n,Z,L,ot)+ot):j&&(R+=j),this.add(I,"setProperty",L,R,a,g,0,0,Z),b.push(Z),ct.push(Z,0,I[Z]);else if(K!=="undefined"){if(E&&Z in E?(L=typeof E[Z]=="function"?E[Z].call(o,a,n,g):E[Z],he(L)&&~L.indexOf("random(")&&(L=Ki(L)),pe(L+"")||(L+=Ie.units[Z]||pe(si(n,Z))||""),(L+"").charAt(1)==="="&&(L=si(n,Z))):L=si(n,Z),A=parseFloat(L),it=K==="string"&&R.charAt(1)==="="&&R.substr(0,2),it&&(R=R.substr(2)),$=parseFloat(R),Z in ai&&(Z==="autoAlpha"&&(A===1&&si(n,"visibility")==="hidden"&&$&&(A=0),ct.push("visibility",0,I.visibility),mi(this,I,"visibility",A?"inherit":"hidden",$?"inherit":"hidden",!$)),Z!=="scale"&&Z!=="transform"&&(Z=ai[Z],~Z.indexOf(",")&&(Z=Z.split(",")[0]))),ut=Z in ui,ut){if(this.styles.save(Z),lt||(et=n._gsap,et.renderTransform&&!u.parseTransform||yn(n,u.parseTransform),vt=u.smoothOrigin!==!1&&et.smooth,lt=this._pt=new Se(this._pt,I,Xt,0,1,et.renderTransform,et,0,-1),lt.dep=1),Z==="scale")this._pt=new Se(this._pt,et,"scaleY",et.scaleY,(it?Ai(et.scaleY,it+$):$)-et.scaleY||0,is),this._pt.u=0,b.push("scaleY",Z),Z+="X";else if(Z==="transformOrigin"){ct.push(Xe,0,I[Xe]),R=wh(R),et.svg?ss(n,R,0,vt,0,this):(ot=parseFloat(R.split(" ")[2])||0,ot!==et.zOrigin&&mi(this,et,"zOrigin",et.zOrigin,ot),mi(this,I,Z,jn(L),jn(R)));continue}else if(Z==="svgOrigin"){ss(n,R,1,vt,0,this);continue}else if(Z in Xa){Ch(this,et,Z,A,it?Ai(A,it+R):R);continue}else if(Z==="smoothOrigin"){mi(this,et,"smooth",et.smooth,R);continue}else if(Z==="force3D"){et[Z]=R;continue}else if(Z==="transform"){Th(this,R,n);continue}}else Z in I||(Z=en(Z)||Z);if(ut||($||$===0)&&(A||A===0)&&!ah.test(R)&&Z in I)j=(L+"").substr((A+"").length),$||($=0),ot=pe(R)||(Z in Ie.units?Ie.units[Z]:j),j!==ot&&(A=yi(n,Z,L,ot)),this._pt=new Se(this._pt,ut?et:I,Z,A,(it?Ai(A,it+$):$)-A,!ut&&(ot==="px"||Z==="zIndex")&&u.autoRound!==!1?hh:is),this._pt.u=ot||0,j!==ot&&ot!=="%"&&(this._pt.b=L,this._pt.r=oh);else if(Z in I)yh.call(this,n,Z,L,it?it+R:R);else if(Z in n)this.add(n,Z,L||n[Z],it?it+R:R,a,g);else if(Z!=="parseTransform"){Gn(Z,R);continue}ut||(Z in I?ct.push(Z,0,I[Z]):ct.push(Z,1,L||n[Z])),b.push(Z)}}mt&&Qr(this)},render:function(n,u){if(u.tween._time||!us())for(var o=u._pt;o;)o.r(n,o.d),o=o._next;else u.styles.revert()},get:si,aliases:ai,getSetter:function(n,u,o){var a=ai[u];return a&&a.indexOf(",")<0&&(u=a),u in ui&&u!==Xe&&(n._gsap.x||si(n,"x"))?o&&Ea===o?u==="scale"?_h:ch:(Ea=o||{})&&(u==="scale"?dh:gh):n.style&&!Hn(n.style[u])?fh:~u.indexOf("-")?lh:Yn(n,u)},core:{_removeProperty:vn,_getMatrix:hs}};be.utils.checkPrefix=en;be.core.getStyleSaver=Ha;(function(z,n,u,o){var a=xe(z+","+n+","+u,function(g){ui[g]=1});xe(n,function(g){Ie.units[g]="deg",Xa[g]=1}),ai[a[13]]=z+","+n,xe(o,function(g){var b=g.split(":");ai[b[1]]=a[b[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xe("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(z){Ie.units[z]="px"});be.registerPlugin(fs);var ls=be.registerPlugin(fs)||be,Uh=ls.core.Tween;var{Path:ja,Point:Ka,Group:cs,Color:_s}=Ni.default,Ph=()=>{let z=document.querySelector("#paper-canvas"),n=document.querySelector("#twotwo-svg"),u=document.querySelector("#twothree-svg");if(!z||!n||!u)return;Ni.default.setup(z);let o=z.clientWidth,a=z.clientHeight,g=14,b=Ni.default.project.importSVG(n);b.fillColor=new _s(1,1,1);let I=Ni.default.project.importSVG(u);I.fillColor=new _s(0,0,0);let E=new ja.Rectangle({point:new Ka(0,0),size:[o,a]});E.fillColor=new _s("#0D9AFF"),b.fitBounds(Ni.default.view.bounds),I.fitBounds(Ni.default.view.bounds);let L=new cs([E,...I.children]),R=kh(o,a,g),$=new cs([...R]),A=new cs([$,L]);A.clipped=!0,ls.fromTo(R,{scaling:.001},{scaling:2,duration:2,repeat:-1,yoyo:!0,stagger:.01})};function kh(z,n,u){let o=[],a=z/u;for(let g=0;g<z;g+=a)for(let b=0;b<n;b+=a){let I=new ja.Circle({radius:a/2,center:new Ka(g+a/2,b+a/2),applyMatrix:!1});o.push(I)}return o}document.addEventListener("DOMContentLoaded",Ph);})();
/*!
 * CSSPlugin 3.11.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
/*!
 * GSAP 3.11.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */
//# sourceMappingURL=index.js.map
